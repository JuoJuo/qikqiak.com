[
    {
        "title": "About me",
        "uri": "page/about",
        "content": "Nothing world place Persistence  Talent will not  nothing common unsuccessful men talent  Genius will not  unrewarded genius almost proverb  Education will not  world full educated derelicts  Persistence Determination alone omnipotent  slogan  Press On  solved will always solve problems human race",
        "objectID": "page/about",
        "subtitle": "Why you'd want to go on a date with me",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "Archive",
        "uri": "page/archive",
        "content": "kubernetes devops python golang         Kubernetes Docker Kubernetes Pod      PSP    Kubernetes       Argo Traefik          Service Mesh    Maesh VMWare     Kubernetes Dashboard    Octant    kubeadm    v1 15 3    Kubernetes       GitHub Actions       Golang       Kustomize    Kubernetes        Kubernetes       KubeSphere    Drone   CI CD       Drone   CI CD       Drone   CI CD       kubectl         Elasticsearch Operator    Elasticsearch      GitHub OAuth   Dex    Kubernetes       Configuration As Code    Jenkins      Kubernetes Admission Webhook Kubernetes Operator        Metrics Server       kubeadm    kubernetes    Kubelet        Groovy         Jenkins Gitlab Harbor Helm   Kubernetes   CI CD    Helm Chart        Kubernetes                      Kubernetes    nginx ingress          Jenkins Gitlab Harbor Helm   Kubernetes   CI CD         Prometheus  Gitlab CI   Kubernetes       Kubernetes     Gitlab CI Runner   Kubernetes     Gitlab Harbor        Harbor      Kubernetes        Helm monitor         Istio            Kubernetes     EFK        Kubernetes CKA              kubernetes        Prometheus        kubernetes      Prometheus Operator      Prometheus Operator       Prometheus Operator    etcd    Grafana        Loki Prometheus Operator     Docker        Dive      Kubernetes API      Kubernetes Ingress     HTTPS 360    K8S Dashboard Wayne       Grafana   Kubernetes      Kubernetes      Kubernetes           kubernetes       Kubernetes       Helm Hooks     Helm         Dockerfile      Kubernetes      Qos Helm          CloudNativeLives K8S              ingress        Kubernetes  ipvs      kubernetes               ingress              DNS    Jenkins   CI CD       Jenkins   CI CD       Jenkins   CI CD    Pod            kubernetes          kubernetes          Kubernetes RBAC    Secret       Service       Job   CronJob       RC RS            Kubernetes Pod       kubeadm  kubernetes1 10   k8s         3   Skaffold       kubernetes      k8s         2   kubernetes          k8s         1      Kubernetes        Kubernetes Downward API           kubernetes   ConfigMap   Secrets            Kubernetes   golang    Docker          YAML      Kubernetes Deployment Kubernetes Helm     kubernetes PodPreset      kubernetes dashboard           Prometheus  AlertManager   Kubernetes    Prometheus2 0 kubernetes        kubernetes    socket io        kubernetes      docker     Harbor kubernetes dashboard              kubernetes    Kubernetes Deployment     Kubernetes  Prometheus       Golang Go Modules      Python      Python      Django            DateTimeField    Mac     cryptography    TDD      Python         TDD      Python         Python           django2 0 10      Django  STATICROOT  STATICFILESDIRS    django      django url         django admin   action django      inclusion_tag       Python      PDF       Python        python  csv              Kubernetes          Kubernetes   3           AI                  11              K8S        Django2 0      webpack3                                       OSS     Keynote             Hugo Pipes          Hugo       Adsense           Hugo    Gitment      Hugo    Algolia        git log      HTTPS  awk      Nginx     301",
        "objectID": "page/archive",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "友情链接",
        "uri": "page/friend",
        "content": "JACK LEE Ryan Yang Jimmy Song Roc RECALL s Blog devopser sealyun wujunze    DD",
        "objectID": "page/friend",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "Kubernetes",
        "uri": "page/kubernetes.io",
        "content": "Kubernetes                                                          Kubernetes     Google 15                              Kubernetes   1           Google                   Kubernetes                                                    Kubernetes                                            Kubernetes                                                     Kubernetes   2                                                                                                                                                                  UI      CPU                                                      Kubernetes           IP            DNS",
        "objectID": "page/kubernetes.io",
        "subtitle": "生产级别的容器编排系统",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "Kubernetes中文社区",
        "uri": "page/kubernetes.org.cn",
        "content": "Kubernetes     www kubernetes org cn     K8S              K8S              K8S",
        "objectID": "page/kubernetes.org.cn",
        "subtitle": "分享最新K8S资讯、教程、实践和中文文档",
        "comments": false,
        "unrelated": true,
        "nopager": true
    },
    {
        "title": "Kubernetes 工作流引擎：Argo（1）",
        "uri": "post/Argo Kubernetes 工作流引擎",
        "content": "Argo   Applatix             Kubernetes    container native                       Argo                YAML       DSL          Pipeline                                                         Argo                                                                      UI               Argo    Argo V2      Kubernetes CRD Custom Resource Definition                 kubectl       Argo              Kubernetes              Volumes Secrets RBAC         Argo                                         Fixture              Argo               ADSL Argo            YAML       Kubernetes          DSL                   ADSL                                 Argo   6     YAML                                                                                                  Fixture       Argo                   Argo             Argo              Kubernetes      Ksonnect Helm Chart       YAML JSON               Argo               Kubernetes    1 9     kubectl           kubeconfig           kube config   Mac       brew install argoproj tap argo Linux       curl  sSL  o  usr local bin argo https   github com argoproj argo releases download v2 2 1 argo linux amd64 chmod  x  usr local bin argo                           argo version argo  v2 3 0 BuildDate  2019 05 20T22 11 23Z GitCommit  88fcc70dcf6e60697e6716edc7464a403c49b27e GitTreeState  clean GitTag  v2 3 0 GoVersion  go1 11 5 Compiler  gc Platform  darwin amd64          UI       kubectl create ns argo   kubectl apply  n argo  f https   raw githubusercontent com argoproj argo v2 3 0 manifests install yaml                  argo ui    NodePort     Service         Ingress                kubectl pods  n argo NAME READY STATUS RESTARTS AGE argo ui 76c6cf75b4 vh6w6 0 1 ContainerCreating 0 14s workflow controller 69f6ff7cbc 5pqbj 0 1 ContainerCreating 0 14s   kubectl pods  n argo NAME READY STATUS RESTARTS AGE argo ui 76c6cf75b4 vh6w6 1 1 Running 0 10m workflow controller 69f6ff7cbc 5pqbj 1 1 Running 0 10m   kubectl svc  n argo NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE argo ui ClusterIP 10 97 124 167 80 TCP 10m   kubectl edit svc argo ui  n argo kind  Service metadata         spec         sessionAffinity  None type  NodePort        service argo ui edited   kubectl svc  n argo NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE argo ui NodePort 10 97 124 167 80 32686 TCP 12m   kubectl crd  grep argo workflows argoproj io 2019 09 10T03 27 41Z   kubectl api versions  grep argo argoproj io v1alpha1            32686       argo ui           Argo                    Argo                                           Pod          curl               nginx sidecar       curl                 nginx sidecar                                argo base template yaml            argo               argo submit argo base template yaml Name  sidecar nginx ftcpf Namespace  default ServiceAccount  default Status  Pending Created  Tue Sep 10 12 05 53  0800  now    argo list NAME STATUS AGE DURATION PRIORITY sidecar nginx ftcpf Running 15m 15m 0                 kubectl          Argo CLI              YAML                                     Pod     Workflow               argo logs             argo ui                               Argo                 Argo     Coinflip                when                    Coinflip          wget https   raw githubusercontent com argoproj argo master examples coinflip yaml     Worflow                 0 heads 1 tails        heads    tails     flip coin           Workflow      flip coin      heads       heads                argo submit    Coinflip    Workflow    argo submit coinflip yaml Name  coinflip pr9x9 Namespace  default ServiceAccount  default Status  Pending Created  Tue Sep 10 15 56 04  0800  now    argo coinflip pr9x9 Name  coinflip pr9x9 Namespace  default ServiceAccount  default Status  Failed Message  child  coinflip pr9x9 3371049263  failed Created  Tue Sep 10 15 56 04  0800  4 minutes ago  Started  Tue Sep 10 15 56 04  0800  4 minutes ago  Finished  Tue Sep 10 15 59 40  0800  51 seconds ago  Duration  3 minutes 36 seconds STEP PODNAME DURATION MESSAGE   coinflip pr9x9 child  coinflip pr9x9 3371049263  failed       flip coin coinflip pr9x9 3371049263 3m failed save outputs  verify serviceaccount default default necessary privileges                 Argo              default default     admin   clusterrole       kubectl create rolebinding default admin   clusterrole admin   serviceaccount default default         Workflow         argo delete coinflip pr9x9   argo submit coinflip yaml Name  coinflip jxmzx Namespace  default ServiceAccount  default Status  Pending Created  Tue Sep 10 16 30 59  0800  now      Workflow                  randomint python                        tails         tails      randomint       result  tails           kubectl pods NAME READY STATUS RESTARTS AGE coinflip jxmzx 1126897109 0 2 Completed 0 3m28s coinflip jxmzx 3981997132 0 2 Completed 0 3m36s   kubectl logs coinflip jxmzx 3981997132 main tails   kubectl logs coinflip jxmzx 1126897109 main tails                                        flip coin      n         heads       flip coin           wget https   raw githubusercontent com ",
        "objectID": "post/Argo Kubernetes 工作流引擎",
        "date": "2019-09-10T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "workflow",
            "Argo"
        ],
        "slug": "argo-workflow-engine-for-k8s",
        "keywords": [
            "kubernetes",
            "workflow",
            "Argo",
            "工作流",
            "依赖",
            "模板"
        ],
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes CKA 实训免费视频课程",
        "uri": "post/CKA 实训视频课程",
        "content": "CKA  Certificted Kubernetes Administrator                    kubernetes                          kubernetes                     CNCF                                               1 CNCF             9   1 Kubernetes               13   12 CNCF              KCSP kubernetes Certified Service Provider                 kubernetes    kubernetes    kubernetes     kubernetes                kubernetes             kubernetes                                                    Cloud Native Lives kubernetes          kubernetes         K8S                     kubernetes           Kuberntes                  Kubernetes                     CKA  Certificted Kubernetes Administrator                     kubernetes                          kubernetes              CKA  Certificted Kubernetes Administrator    Linux      CNCF                       https   www cncf io certification cka       https   bbs huaweicloud com forum thread 11064 1 1 html                          k8s                CKA",
        "objectID": "post/CKA 实训视频课程",
        "date": "2019-01-15T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "CKA",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "CloudNative",
            "课程",
            "华为",
            "CKA"
        ],
        "slug": "k8s-cka-course",
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "Django2.0 实战项目",
        "uri": "post/Django2.0 实战项目课程",
        "content": "Django2 0      WEB                 Django             Django2 0 1 x                        Django                       Django             https   www haimaxy com course m12jop",
        "objectID": "post/Django2.0 实战项目课程",
        "subtitle": "基于 Django2.0 快速实现一个产品分享的 WEB 应用",
        "date": "2018-04-16T00:00:00.000Z",
        "tags": [
            "django",
            "实战"
        ],
        "keywords": [
            "django",
            "django2",
            "实战",
            "实战项目"
        ],
        "slug": "django20-practice-project-course",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "http://sdn.haimaxy.com/covers/2018/4/16/9fc3e6cb83af4715b09f52adcc598ea8.jpg",
                "desc": "django2.0"
            }
        ],
        "category": "django"
    },
    {
        "title": "django下url函数的用法",
        "uri": "post/django下url函数的用法 ",
        "content": "Django           url  django conf urls defaults           10                Django        Templates         urlpatterns                     Templates                        urlpatterns                                           url            urlpatterns             Templates                  url      urlpatterns             urlpatterns   patterns      r  article    news_index       Templates  html                 10                Templates    10      a                     urlpatterns   patterns      r  news    news_index              Templates    10    html                                             a                url          urlpatterns             urlpatterns   patterns     url r  article    newsindex   name  newsindex      Templates  html          urlpatterns    Template              url           urlpatterns         name    url r  article    newsindex   name  newsindex    Templates                     name        urlpatterns         name                          Templates        views              url                 HttpResponseRedirect   article     urlpatterns             views                url       HttpResponseRedirect reverse  news_index       Template              urlpatterns                r    P d 4     P d 1 2       news_list                      http   xxxx com 2014 06         urlpatterns          url r    P d 4     P d 1 2       newslist  name  newsarchive     Templates              url         templates            2014 06     2014  06                                2014 06                        views                 reverse  news_archive  kwargs   year  2014  month  06                 2014 06",
        "objectID": "post/django下url函数的用法 ",
        "date": "2014-06-13T00:00:00.000Z",
        "publishdate": "2014-06-13T00:00:00.000Z",
        "slug": "django-url-function-usage",
        "tags": [
            "django",
            "url"
        ],
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "django国际化问题",
        "uri": "post/django国际化问题",
        "content": "django         django1 6 5                                                django1 6             1   settings py   LANGUAGE_CODE    en us  TIME_ZONE    UTC  USE_I18N   True USE_L10N   True USE_TZ   True LANGUAGES       cn              en    English      LOCALE_PATHS     os path join BASEDIR   locale          LOCALEPATHS   MIDDLEWARE_CLASSES      django contrib sessions middleware SessionMiddleware      django middleware locale LocaleMiddleware     django middleware common CommonMiddleware    django middleware csrf CsrfViewMiddleware    django contrib auth middleware AuthenticationMiddleware    django contrib messages middleware MessageMiddleware    django middleware clickjacking XFrameOptionsMiddleware     TEMPLATECONTEXTPROCESSORS      django contrib auth context_processors auth      django core context_processors i18n     django core context_processors request    django core context_processors static     2           django admin py makemessages  l en   django admin py makemessages  l cn                       locale       cn en          LC_MESSAGES           django po           msgid  Chinese  msgstr            msgid               msgstr                                            po         mo   django admin py compilemessages 3                        load i18n                trans           trans  About          trans  Jobs          trans  Login     4                                        csrf_token       lang LANGUAGES       lang 1       endfor    function selectdo obj    str     i18n setlang    myform   document getElementById  langform    myform method    POST   myform action   str  myform submit             url      i18n setlang         django views i18n set_language",
        "objectID": "post/django国际化问题",
        "date": "2014-05-28T00:00:00.000Z",
        "publishdate": "2014-05-28T00:00:00.000Z",
        "tags": [
            "django",
            "国际化"
        ],
        "slug": "django-i18n",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Django 中STATIC_ROOT 与STATICFILES_DIRS的区别",
        "uri": "post/django的STATIC_ROOT与STATICFILES_DIRS的区别",
        "content": "Django                                                                         settings py      STATICROOT STATICFILESDIRS                         STATICROOT   STATICFILESDIRS                       STATIC_ROOT STATICROOT Django 1 3                            STATICROOT       STATICURL       static           URL   STATICROOT       Django App      Django App            App                                       Django            1 3                          django views static serve       App urls py          url r     static P        django views static serve     document_root      path to project app static                      Django                         Django                Nginx   CDN            App                         nginx   static                                App                        1 3                                                            nginx  static    STATICROOT          python manage py collectstatic         App            STATICROOT                           STATIC_ROOT                 STATICFILES_DIRS        STATICFILESDIRS                                       collectstatic                  STATICROOT         STATICFILESDIRS       STATICROOT                             App                             STATICFILESDIRS STATICROOT              STATIC_URL     static                   STATICFILES_DIRS     os path join BASE_DIR   staticfiles        collectstatic                                                      STATICROOT   os path join BASEDIR   static         Django  static    django contrib staticfiles  App staticfiles    STATICFILESDIRS STATICROOT    App static                       settings py           Nginx             static   Nginx   django contrib staticfiles                 static                     Django              settings DEBUG False    staticfiles",
        "objectID": "post/django的STATIC_ROOT与STATICFILES_DIRS的区别",
        "date": "2017-11-01T00:00:00.000Z",
        "publishdate": "2017-11-01T00:00:00.000Z",
        "tags": [
            "python",
            "django"
        ],
        "bigimg": [
            {
                "src": "/img/posts/18888531_442371539465605_1833253399559143424_n.jpg",
                "desc": "乌镇水乡@杭州 JUNE 1,2017"
            }
        ],
        "slug": "django-staticroot-staticfilesdirs-function",
        "category": "python",
        "gitcomment": true
    },
    {
        "title": "django自定义标签之inclusion_tag的用法",
        "uri": "post/django自定义标签之inclusion_tag的用法",
        "content": "django                                      inclusion_tags     1  model      templatetags             init py                  2   buttons py           django import template register   template Library    register inclusiontag  tags diggbutton html   takes_context True  def digg_button context  comment   context       request          takes_context   True                context  user   context  user   user is_authenticated    return   isdigg   comment isdigg user    uuid   comment uuid   uptimes   comment uptimes  return   is_digg   False   uuid   comment uuid   uptimes   comment uptimes  3        tags          diggbutton html            diggbutton             is_digg         up_times       else         up_times       endif    4         digg_button                          django 1 6 2              buttons               buttons     templatetags               load buttons    5                  digg_button        digg_button comment        django 1 6 2",
        "objectID": "post/django自定义标签之inclusion_tag的用法",
        "date": "2014-05-28T00:00:00.000Z",
        "publishdate": "2014-05-28T00:00:00.000Z",
        "tags": [
            "django",
            "标签"
        ],
        "slug": "django-custom-tag-inclusion_tag",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Docker 的多阶段构建",
        "uri": "post/Docker 的多阶段构建",
        "content": "Docker     Build Ship and Run App Anywhere       Docker                           Build                               golang                                                                                                                                  golang             Docker          package main import    github com gin gonic gin   net http    func main     router    gin Default   router GET   ping   func c  gin Context    c String http StatusOK   PONG      router Run   8080                                        alpine                        Docker                             Ubuntu                                                  alpine                  Ubuntu              volume                         alpine                                                                                alpine                     alpine                    Dockerfile     Dockerfile build  golang WORKDIR  go src app ADD    go src app RUN go  u  v github com kardianos govendor RUN govendor sync RUN GOOS linux GOARCH 386 go build  v  o  go src app app server   alpine       Dockerfile old  alpine latest RUN apk add  U tzdata RUN ln  sf  usr share zoneinfo Asia Shanghai  etc localtime WORKDIR  root  COPY app server   CMD     app server                                build sh     bin sh echo Building cnych docker multi stage demo build docker build  t cnych docker multi stage demo build    f Dockerfile build docker create   name extract cnych docker multi stage demo build docker cp extract  go src app app server   app server docker rm  f extract echo Building cnych docker multi stage demo old docker build   no cache  t cnych docker multi stage demo old    f Dockerfile old rm   app server                                                           Docker 17 05                  Multi stage builds                        Dockerfile                                                                                                   Dockerfile              Dockerfile  golang build env ADD    go src app WORKDIR  go src app RUN go  u  v github com kardianos govendor RUN govendor sync RUN GOOS linux GOARCH 386 go build  v  o  go src app app server alpine RUN apk add  U tzdata RUN ln  sf  usr share zoneinfo Asia Shanghai  etc localtime COPY   from build env  go src app app server  usr local bin app server EXPOSE 8080 CMD    app server             Dockerfile                       build         docker build  t cnych docker multi stage demo latest                                            0         AS                       build env                   from build env                         docker run   rm  p 8080 8080 cnych docker multi stage demo latest                  http   127 0 0 1 8080 ping       PONG                                            github    https   github com cnych docker multi stage demo      https   docs docker com develop develop images multistage build",
        "objectID": "post/Docker 的多阶段构建",
        "date": "2018-02-04T00:00:00.000Z",
        "publishdate": "2018-02-04T00:00:00.000Z",
        "tags": [
            "docker",
            "alpine"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "golang",
            "服务"
        ],
        "slug": "multi-stage-build-for-docker",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1495855720902-bb60e936d7ca.jpeg",
                "desc": "moonlit"
            }
        ],
        "category": "docker"
    },
    {
        "title": "Dockerfile 最佳实践",
        "uri": "post/Dockerfile最佳实践",
        "content": "Docker    Dockerfile           https   docs docker com develop develop images dockerfile_best practices  Docker     Dockerfile                                 Dockerfiles                       Dockerfile Reference                    Dockerfile                   Docker Inc    Docker                                      Dockerfile buildpack deps                      Dockerfile                                                                                  12 Factor 12                                                  docker build                          Dockerfile                  f              Dockerfile                                Docker                                     cd        hello         hello        Dockerfile   cat                 mkdir myproject    cd myproject echo  hello    hello echo  e  FROM busybox nCOPY  hello   nRUN cat  hello    Dockerfile docker build  t helloapp v1        Dockerfile   hello                                        f   Dockerfile              mkdir  p dockerfiles context mv Dockerfile dockerfiles    mv hello context docker build   no cache  t helloapp v2  f dockerfiles Dockerfile context                                                                                                Dockerfile  Sending build context Docker daemon 187 8MB    dockerignore      Dockerfile           Dockerfile                                                           dockerignore                dockerignore            Git    gitignore                 Docker 17 05                                                                                                                                                                                            web                 web                                                                  Celery                                                                                             Docker                             Docker                     Docker 17 05      1 10                                        1 10       RUN COPY   ADD                                                    17 05                                                                                   RUN COPY ADD                     Dockerfile                                                                                                                                              buildpack deps        RUN apt get update    apt get install  y   bzr   cvs   git   mercurial   subversion                Docker    Dockerfile                       Docker                                                                docker build        no cache true                                                  Docker                        FROM                                                                                         Dockerfile                                ADD   COPY                                                                                                                              ADD   COPY                                        RUN apt get  y update                  Docker                                               Dockerfile                     Dockerfile             Dockerfile                                                  Dockerfile                               Alpine                        5 MB                 LABEL                                            LABEL                                                                                                             Set one individual labels LABEL com example version  0 0 1 beta  LABEL vendor  ACME Incorporated  LABEL com example release date  2015 02 12  LABEL com example version is production                   1 10                LABEL                                          Set multiple labels once  using line continuation characters break long lines LABEL vendor ACME  Incorporated   com example is production      com example version  0 0 1 beta    com example release date  2015 02 12                 Understanding object labels  RUN      Dockerfile                        RUN              RUN               apt get   RUN apt get                         RUN apt get upgrade   dist upgrade                                          foo         apt get install  y foo             foo        RUN apt get update   apt get install       RUN        RUN apt get update    apt get install  y   package bar   package baz   package foo   apt get update         RUN                 apt get install              Dockerfile     ubuntu 14 04 RUN apt get update RUN apt get install  y curl              Docker                   apt get install         ubuntu 14 04 RUN apt get update RUN apt get install  y curl nginx Docker        RUN apt get update               apt get update                     apt get update          apt get install           curl   nginx       RUN apt get update    apt get install  y      Dockerfiles                                          cache busting                          cache busting                RUN apt get update    apt get install  y   package bar   package baz   package foo 1 3                                 ",
        "objectID": "post/Dockerfile最佳实践",
        "date": "2018-09-12T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker",
            "dockerfile"
        ],
        "slug": "dockerfile-best-practice",
        "keywords": [
            "kubernetes",
            "docker",
            "dockerfile",
            "实践"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1536620752150-a7e9e62a62ee.jpeg",
                "desc": "Colorful vertical stripes"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Docker 镜像分析工具 Dive(附视频)",
        "uri": "post/Docker镜像分析工具Dive",
        "content": "docker inspect         docker     meta     docker history                                                          docker images REPOSITORY TAG IMAGE ID CREATED SIZE python 3 6 4 07d72c0beb99 8 months ago 689MB   docker inspect python 3 6 4             RootFS      Type    layers    Layers      sha256 8fad67424c4e7098f255513e160caa00852bcff347bc9f920a82ddf3f60229de    sha256 86985c679800f423275a0ea3ad540e9b7f522dcdcd65ec2b20f407996162f2e0    sha256 6e5e20cbf4a7246b94f7acf2a2ceb2c521e95daca334dd1e8ba388fa73443dfe    sha256 ff57bdb79ac820da132ad1fdc1e2d250de5985b264dbdf60aa4ce83a05c4da75    sha256 6e1b48dc2cccd7c0faf316e5975f1a02f5897723d7fa3b0367b28a20173931d6    sha256 325a22db58ea59d76568ded2fac6b783554f8cd5fa8e851c260da4b141c55c6c    sha256 a4a7a3673769ce5035e06f56458cab872bb5dc561bebe3571ac62fe2b52f0aaf    sha256 c83faac49cbc38f1e458dfffb71b1c87860f56ac34602befefe6005177474ba3        Metadata      LastTagTime    0001 01 01T00 00 00Z          docker history python 3 6 4 IMAGE CREATED CREATED SIZE COMMENT 07d72c0beb99 8 months ago  bin sh  c   nop  CMD   python3   0B 8 months ago  bin sh  c set  ex  wget  O get pip py  ht  6 06MB 8 months ago  bin sh  c   nop  ENV PYTHONPIPVERSION 9   0B 8 months ago  bin sh  c cd  usr local bin    ln  s idle3  32B 8 months ago  bin sh  c set  ex    buildDeps   dpkg de  62 9MB 8 months ago  bin sh  c   nop  ENV PYTHON_VERSION 3 6 4 0B 8 months ago  bin sh  c   nop  ENV GPG_KEY 0D96DF4D4110E  0B 8 months ago  bin sh  c apt get update    apt get install  8 67MB 8 months ago  bin sh  c   nop  ENV LANG C UTF 8 0B 8 months ago  bin sh  c   nop  ENV PATH  usr local bin    0B 8 months ago  bin sh  c set  ex  apt get update  apt ge  320MB 8 months ago  bin sh  c apt get update    apt get install  123MB 8 months ago  bin sh  c set  ex    command  v gpg      0B 8 months ago  bin sh  c apt get update    apt get install  44 6MB 8 months ago  bin sh  c   nop  CMD   bash   0B 8 months ago  bin sh  c   nop  ADD file bc844c4763367b5f0  123MB                     docker            dive    https   github com wagoodman dive           docker             docker              video mp4  http   vdn haimaxy com course 2019 1 3 dive mp4  poster  https   bxdc static oss cn beijing aliyuncs com images qbzfz jpg            docker         dive            tag       dive            build       docker                 dive build  t              docker                                                                                                                                                                                                                              docker                 dive build  t some tag        docker build      dive build                                docker                dive            docker pull wagoodman dive    pull                                       docker run   rm  it    v  var run docker sock  var run docker sock   wagoodman dive latest            python 3 6 4        docker run   rm  it    v  var run docker sock  var run docker sock   wagoodman dive latest python 3 6 4 Analyzing Image Fetching metadata    Fetching image        layer  0  2f1b3001b085f94                                               100    465 465      layer  1  383de4491c61a96                                               100    7 7      layer  2  5a18124b107698b                                               100    1382 1382      layer  3  68c6148e6856d76                                               100    568 568      layer  4  872e2e8e6109ee2                                               100    5421 5421      layer  5  8aa62fd66ae0210                                               100    8252 8252      layer  6  93e9cefe47e6b15                                               100    11545 11545      layer  7  f1a4ff99e76e332                                               100    1482 1482    Building tree    Analyzing layers                                                                                                                                                 dive  github",
        "objectID": "post/Docker镜像分析工具Dive",
        "date": "2018-12-08T00:00:00.000Z",
        "tags": [
            "docker",
            "镜像",
            "dive"
        ],
        "slug": "docker-image-explore-tool-dive",
        "keywords": [
            "docker",
            "镜像",
            "dive"
        ],
        "gitcomment": true,
        "notoc": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1544137105-295758788545.jpeg",
                "desc": "Monte Due Mani, Italy"
            }
        ],
        "category": "docker"
    },
    {
        "title": "Gitlab CI 与 Kubernetes 的结合",
        "uri": "post/Gitlab CI 结合 Kubernetes",
        "content": "Gitlab CI Runner      Kubernetes               Kubernetes   Gitlab CI                                 Github     cnych gitlab ci k8s demo     Gitlab                                 Github       Clone                    git clone https   github com cnych gitlab ci k8s demo git   cd gitlab ci k8s demo Change remote repository   git remote set url origin ssh   git git qikqiak com 30022 root gitlab ci k8s demo git push  import  repository run    git push  u origin master           Gitlab           Gitlab CI               Runner Pod     namespace            Pod    kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE gitlab 7bff969fbc k5zl4 1 1 Running 0 4d gitlab ci runner 0 1 1 Running 0 4m gitlab ci runner 1 1 1 Running 0 4m runner 9rixsyft project 2 concurrent 06g5w4 0 2 ContainerCreating 0 4m runner 9rixsyft project 2 concurrent 1t74t9 0 2 ContainerCreating 0 4m              Pod           Job                                  Pipeline         test   test2     Job           image_build                        Job           docker login  u    CIREGISTRYUSER    p    CIREGISTRYPASSWORD      CI_REGISTRY   WARNING  Using   password via CLI insecure  Use   password stdin  Error response daemon  https   registry 1 docker io v2   unauthorized  incorrect username password ERROR  Job failed  command terminated exit code 1                  Gitlab     Container Registry                             Harbor         Harbor                     Harbor                                       CI CD   Environment variables                               Job                                    docker login  u    CIREGISTRYUSER    p    CIREGISTRYPASSWORD      CI_REGISTRY   WARNING  Using   password via CLI insecure  Use   password stdin  Error response daemon  https   registry qikqiak com v2   x509  certificate signed unknown authority ERROR  Job failed  command terminated exit code 1                                                                    Harbor                 Docker          insecure registries          etc docker certs d            CA              dind     insecure        services  name  docker dind command      insecure registry registry qikqiak com       registry qikqiak com                        gitlab ci yml                                     deploy_review                          kubectl                         Gitlab CI             cnych kubectl     Dockerfile        cnych docker kubectl      alpine 3 8 MAINTAINER cnych ENV KUBELATESTVERSION  v1 13 4  RUN apk add   update ca certificates      apk add   update  t deps curl      apk add   update gettext      apk add   update git      curl  L https   storage googleapis com kubernetes release release   KUBELATESTVERSION  bin linux amd64 kubectl  o  usr local bin kubectl      chmod  x  usr local bin kubectl      apk del   purge deps      rm  var cache apk   ENTRYPOINT   kubectl   CMD     help       kubectl                       kube config                                                                                                     Gitlab       Kubernetes            Add Kubernetes Cluster    Add existing cluster  1 Kubernetes cluster name       2 API URL       apiserver             kubectl cluster info    Kubernetes master           kubectl cluster info Kubernetes master running https   10 151 30 11 6443 KubeDNS running https   10 151 30 11 6443 api v1 namespaces kube system services kube dns dns proxy further debug diagnose cluster problems  use  kubectl cluster info dump   3 CA   Token                         gitlab  namespace                       namespace    kubectl create ns gitlab                                    RBAC                    ServiceAccount      cluster admin     gitlab sa yaml  apiVersion  v1 kind  ServiceAccount metadata  name  gitlab namespace  gitlab apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRoleBinding metadata  name  gitlab namespace  gitlab subjects  kind  ServiceAccount name  gitlab namespace  gitlab roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  cluster admin         ServiceAccount       kubectl apply  f sa yaml serviceaccount  gitlab  created clusterrolebinding rbac authorization k8s io  gitlab  created           ServiceAccount    CA     Token    kubectl serviceaccount gitlab  n gitlab  o json   jq  r   secrets 0  name  gitlab token f9zp7        Secret  CA     kubectl secret gitlab token f9zp7  n gitlab  o json   jq  r   data  ca crt      base64  d xxxxxCA    xxxxx          Token        kubectl secret gitlab token f9zp7  n gitlab  o json   jq  r   data token    base64  d xxxxxxtoken xxxx                gitlab ci yml    Gitlab CI                      Gitlab CI   gitlab ci yml       Job   gitlab ci yml             golang     test  stage  test script  go test            Job    test    Stage               Stage        gitlab ci yml                   Stage stages  test build release deploy                                               image  golang 1 10 3 stretch        job        test  stage  test image  python 3 script  echo Something test step python 3 image      gitlab ci yml                   https   docs gitla",
        "objectID": "post/Gitlab CI 结合 Kubernetes",
        "subtitle": "基于 Gitlab CI 和 Kubernetes 的 CI/CD",
        "date": "2019-03-21T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "devops",
            "gitlab",
            "ci"
        ],
        "keywords": [
            "kubernetes",
            "devops",
            "gitlab",
            "ci",
            "CI/CD",
            "runner"
        ],
        "slug": "gitlab-ci-k8s-cluster-feature",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/a28fp.jpg",
                "desc": "STEP"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "在 Kubernetes 上安装 Gitlab CI Runner",
        "uri": "post/Gitlab Runner安装",
        "content": "Helm      Gitlab         Kubernetes                   Gitlab CI                     Gitlab CI               Kubernetes     Gitlab CI Runner       Gitlab 8 0    Gitlab CI        Gitlab                gitlab ci yml         Runner              Gitlab CI            Gitlab CI          Pipeline    Pipeline                                                                 Merge Request          Pipeline                                                       trigger       Commit   MR               Pipeline                                                   Stages Stages                               Pipeline       Stages    Stages            Stages              Stage         Stage            Stages            Pipeline              Stage          Stages             Pipeline     Stages   Pipeline                                                                           Pipeline                                                           Stage 1         Stage 2          Stage 3                                                                                                                    Jobs Jobs             Stage               Stages        Jobs    Jobs            Stage    Jobs          Stage    Jobs          Stage             Job        Stage            Pipeline     Jobs   Stage                                                             Stage 1                                                   Job 1     Job 2     Job 3                                                                                              Gitlab Runner                                                  Jenkins   Master   Slave                       Gitlab CI         Gitlab Runner                                    Gitlab                Gitlab            GitLab CI                                             Gitlab Runner               Gitlab Runner                                Gitlab            Gitlab Runner                   https   docs gitlab com runner install                Docker                  Gitlab Runner     Kubernetes                  Gitlab        1    Kubernetes              Kubernetes       kubectl cluster info Kubernetes master running https   10 151 30 11 6443 KubeDNS running https   10 151 30 11 6443 api v1 namespaces kube system services kube dns dns proxy further debug diagnose cluster problems  use  kubectl cluster info dump   cluster info                            2    Gitlab CI Register Token                 Gitlab        git qikqiak com               http   git qikqiak com admin          Runner                      URL        Register Token                               Token 3    Gitlab CI Runner              Runner            kube ops   namespace            ConfigMap       Runner           runner cm yaml   apiVersion  v1 data  REGISTERNONINTERACTIVE   true  REGISTER_LOCKED   false  METRICS_SERVER   0 0 0 0 9100  CISERVERURL   http   gitlab kube ops svc cluster local ci  RUNNERREQUESTCONCURRENCY   4  RUNNER_EXECUTOR   kubernetes  KUBERNETES_NAMESPACE   kube ops  KUBERNETES_PRIVILEGED   true  KUBERNETESCPULIMIT   1  KUBERNETESMEMORYLIMIT   1Gi  KUBERNETESSERVICECPU_LIMIT   1  KUBERNETESSERVICEMEMORY_LIMIT   1Gi  KUBERNETESHELPERCPU_LIMIT   500m  KUBERNETESHELPERMEMORY_LIMIT   100Mi  KUBERNETESPULLPOLICY   if not present  KUBERNETES_TERMINATIONGRACEPERIODSECONDS   10  KUBERNETESPOLLINTERVAL   5  KUBERNETESPOLLTIMEOUT   360  kind  ConfigMap metadata  labels  app  gitlab ci runner name  gitlab ci runner cm namespace  kube ops    CISERVERURL            Gitlab     URL              Kubernetes       Service DNS       Runner       Kubernetes           ci  http   gitlab kube ops svc cluster local ci                                                 ConfigMap             GitLab CI Runner Pod         envFrom                   env  envFrom           ConfigMaps Secrets                               Pod    gitlab ci multi runner register   help                          env            gitlab runner gitlab ci runner 0    gitlab ci multi runner   help         kubernetes cpu limit value CPU allocation given build containers  default   1     KUBERNETESCPULIMIT    kubernetes memory limit value amount memory allocated build containers  default   4Gi     KUBERNETESMEMORYLIMIT    kubernetes service cpu limit value CPU allocation given build service containers  default   1     KUBERNETESSERVICECPU_LIMIT    kubernetes service memory limit value amount memory allocated build service containers  default   1Gi     KUBERNETESSERVICEMEMORY_LIMIT    kubernetes helper cpu limit value CPU allocation given build helper containers  default   500m     KUBERNETESHELPERCPU_LIMIT    kubernetes helper memory limit value amount memory allocated build helper containers  default   3Gi     KUBERNETESHELPERMEMORY_LIMIT    kubernetes cpu request value CPU allocation requested build containers   KUBERNETESCPUREQUEST                                            Gitlab CI Runner          Pod      Kubernetes TERM                          Pod SIGKILL    Runner                       Runner               runner scripts cm yaml  apiVersion  v1 data  run sh       bin bash unregister     kill  1 e",
        "objectID": "post/Gitlab Runner安装",
        "subtitle": "Gitlab CI 基本概念以及 Runner 的安装",
        "date": "2019-03-19T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "devops",
            "gitlab",
            "ci"
        ],
        "keywords": [
            "kubernetes",
            "devops",
            "gitlab",
            "ci",
            "runner"
        ],
        "slug": "gitlab-runner-install-on-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/1tdd3.jpg",
                "desc": "Copperopolis, Copperopolis, California, USA"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "在 Kubernetes 上安装 Gitlab",
        "uri": "post/Gitlab 在 Kubernetes 中的安装使用",
        "content": "Gitlab      Helm      Kubernetes                      Helm     Chart                                                  Gitlab     3    Redis Postgresql Gitlab               3                             Gitlab                       Gitlab                   sameersbn gitlab                 http   www damagehead com docker gitlab                 Redis   Postgresql              Gitlab                              Redis                 gitlab redis yaml  apiVersion  apps v1beta1 kind  Deployment metadata  name  redis namespace  kube ops labels  name  redis spec  template  metadata  name  redis labels  name  redis spec  containers  name  redis image  sameersbn redis imagePullPolicy  IfNotPresent ports  name  redis containerPort  6379 volumeMounts  mountPath   var lib redis name  data livenessProbe  exec  command  redis cli ping initialDelaySeconds  30 timeoutSeconds  5 readinessProbe  exec  command  redis cli ping initialDelaySeconds  5 timeoutSeconds  1 volumes  name  data emptyDir     apiVersion  v1 kind  Service metadata  name  redis namespace  kube ops labels  name  redis spec  ports  name  redis port  6379 targetPort  redis selector  name  redis        Postgresql              gitlab postgresql yaml  apiVersion  apps v1beta1 kind  Deployment metadata  name  postgresql namespace  kube ops labels  name  postgresql spec  template  metadata  name  postgresql labels  name  postgresql spec  containers  name  postgresql image  sameersbn postgresql 10 imagePullPolicy  IfNotPresent env  name  DB_USER value  gitlab name  DB_PASS value  passw0rd name  DB_NAME value  gitlab_production name  DB_EXTENSION value  pg_trgm ports  name  postgres containerPort  5432 volumeMounts  mountPath   var lib postgresql name  data livenessProbe  exec  command  pg_isready  h localhost  U postgres initialDelaySeconds  30 timeoutSeconds  5 readinessProbe  exec  command  pg_isready  h localhost  U postgres initialDelaySeconds  5 timeoutSeconds  1 volumes  name  data emptyDir     apiVersion  v1 kind  Service metadata  name  postgresql namespace  kube ops labels  name  postgresql spec  ports  name  postgres port  5432 targetPort  postgres selector  name  postgresql            Gitlab                  gitlab yaml  apiVersion  apps v1beta1 kind  Deployment metadata  name  gitlab namespace  kube ops labels  name  gitlab spec  template  metadata  name  gitlab labels  name  gitlab spec  containers  name  gitlab image  sameersbn gitlab 11 8 1 imagePullPolicy  IfNotPresent env  name  TZ value  Asia Shanghai name  GITLAB_TIMEZONE value  Beijing name  GITLABSECRETSDBKEYBASE value  long and random alpha numeric string name  GITLABSECRETSSECRETKEYBASE value  long and random alpha numeric string name  GITLABSECRETSOTPKEYBASE value  long and random alpha numeric string name  GITLABROOTPASSWORD value  admin321 name  GITLABROOTEMAIL value  517554016 qq com name  GITLAB_HOST value  git qikqiak com name  GITLAB_PORT value   80  name  GITLABSSHPORT value   22  name  GITLABNOTIFYONBROKENBUILDS value   true  name  GITLABNOTIFYPUSHER value   false  name  GITLABBACKUPSCHEDULE value  daily name  GITLABBACKUPTIME value  01 00 name  DB_TYPE value  postgres name  DB_HOST value  postgresql name  DB_PORT value   5432  name  DB_USER value  gitlab name  DB_PASS value  passw0rd name  DB_NAME value  gitlab_production name  REDIS_HOST value  redis name  REDIS_PORT value   6379  ports  name  http containerPort  80 name  ssh containerPort  22 volumeMounts  mountPath   home git data name  data livenessProbe  httpGet  path    port  80 initialDelaySeconds  180 timeoutSeconds  5 readinessProbe  httpGet  path    port  80 initialDelaySeconds  5 timeoutSeconds  1 volumes  name  data emptyDir     apiVersion  v1 kind  Service metadata  name  gitlab namespace  kube ops labels  name  gitlab spec  ports  name  http port  80 targetPort  http name  ssh port  22 targetPort  ssh selector  name  gitlab apiVersion  extensions v1beta1 kind  Ingress metadata  name  gitlab namespace  kube ops annotations  kubernetes io ingress class  traefik spec  rules  host  git qikqiak com http  paths  backend  serviceName  gitlab servicePort  http                            emptyDir        volume Pod                                            PV PVC    StorageClass          Redis   Postgresql                        Ingress          Gitlab       git qikqiak com                                      kubectl create  f gitlab redis yaml gitlab postgresql yaml gitlab yaml          Pod          kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE gitlab 7d855554cb twh7c 1 1 Running 0 10m postgresql 8566bb959c 2tnvr 1 1 Running 0 17h redis 8446f57bdf 4v62p 1 1 Running 0 17h                       Ingress       git qikqiak com     DNS          etc hosts           Portal           root                GITLABROOTPASSWORD admin321           Gitlab                                                          Create project             Github                                SSH KEY           SSH            SSH           ssh idrsa pub       ssh rsa             ssh keygen      idrsa pub             SSH          Gitlab            ssh     22          ",
        "objectID": "post/Gitlab 在 Kubernetes 中的安装使用",
        "date": "2019-03-07T00:00:00.000Z",
        "tags": [
            "gitlab",
            "devops",
            "docker",
            "kubernetes",
            "redis"
        ],
        "keywords": [
            "helm",
            "devops",
            "docker",
            "kubernetes",
            "安装",
            "redis",
            "gitlab",
            "postgresql"
        ],
        "slug": "gitlab-install-on-k8s",
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "Go Modules 基本使用（视频）",
        "uri": "post/Go Modules详解",
        "content": "Go                                 GOPATH                  Go                                govendor dep glide                                  GOPATH                 Go1 11     Golang                  Go Modules    Golang                      Go Modules            Module     Go Modules            Golang     1 11    go version go version go1 11 4 darwin amd64     Go Modules          GOPATH                     GOPATH src                echo  GOPATH  Users ych devs projects go        Users ych devs projects                   pwd  Users ych devs projects   mkdir stardust    cd stardust   stardust                  stringsx       mkdir stringsx    cd stringsx    stringsx        string go      package stringsx import    fmt    func Hello name string  string  return fmt Sprintf  Hello   s   name   nil                                    Go Modules           export GO111MODULE on     GoModule       video mp4  https   vdn youdianzhishi com course 2019 7 13 go modules min mp4  poster  https   sdn haimaxy com covers 2019 5 25 5089dc263d514efa906259eae0b99317 png           Golang                    Go Module    pwd  Users ych devs projects stardust   go mod init github com cnych stardust go  creating new go mod  module github com cnych stardust             go mod init                    go mod                        module github com cnych stardust                                                                                Module                               Github      https   github com cnych stardust   git init   git add     git commit  am  add stringsx package content    git remote add origin git github com cnych stardust git   git push  u origin master                 Go Module                              go get          go github com cnych stardust            master                                                          BUG              master                                                      Go Moduels                   Module      Go Modules                                         Go Modules                                         https   semver org                                                           API                                                                                               Go Modules                tags                       v2           v1                                             Golang           tag                                 git tag                                         release                     git tag                           v1 0 0    git tag v1 0 0   git push   tags         Github           v1 0 0   tag                  v1                        BUG        master                git checkout  b v1   git push  u origin v1                                                                       pwd  Users ych devs projects   mkdir ch26 gomodules    cd ch26 gomodules     ch26 gomodules          main go      package main import    fmt   github com cnych stardust stringsx    func main     fmt Println stringsx Hello  cnych             github com cnych stardust stringsx               go get         GOPATH    vendor                    modules                          go mod init ch26 gomodules                  go mod     module ch26 gomodules                        go run main go go  finding github com cnych stardust v1 0 0 go  downloading github com cnych stardust v1 0 0 Hello  cnych                              go mod      module ch26 gomodules require github com cnych stardust v1 0 0                  go sum                 hash                     github com cnych stardust v1 0 0 h1 8EcmmpIoIxq2VrzXdkwUYTD4OcMnYlZuLgNntZ DxUE  github com cnych stardust v1 0 0 go mod h1 Qgo0xT9MhtGo0zz48gnmbT9XjO 9kuuWKIOIKVqAv28          GOPATH pkg mod         ls  GOPATH pkg mod github com cnych stardust v1 0 0                   v1 0 0     github com cnych stardust            bugfix                   Hello     bug                    func Hello name string  string  return fmt Sprintf  Hello   s      name            3      bugfix           v1         fix fix      merge   master                                       bug                      v1 0 1       git add     git commit  m  fix Hello function  123    git tag v1 0 1   git push   tags origin v1                      modules       Golang                                               Golang                                  go  u xxx                        v1 0 0   v1 0 1      go package version                  go mod               go mod tidy                                      go github com cnych stardust v1 0 1           go mod               module ch26 gomodules require github com cnych stardust v1 0 1             mod             ls  GOPATH pkg mod github com cnych stardust v1 0 0 stardust v1 0 1              Go Modules                                                                                Go Modules                                                    Go Modules                          Hello                func Hello name  lang string   string  error    switch lang   case  en   return fmt Sprintf  Hi   s    name   nil case  zh   retur",
        "objectID": "post/Go Modules详解",
        "subtitle": "Go 语言全新依赖管理系统 Go Modules",
        "date": "2019-07-16T00:00:00.000Z",
        "tags": [
            "golang",
            "modules"
        ],
        "slug": "go-modules-usage",
        "keywords": [
            "go",
            "golang",
            "模块",
            "govendor",
            "modules",
            "依赖"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1563247709-3f02e3aaaca7.jpeg",
                "desc": "https://unsplash.com/photos/FW6vnOnqUZQ/"
            }
        ],
        "category": "golang"
    },
    {
        "title": "Grafana 在 Kubernetes 中的使用",
        "uri": "post/Grafana 在 Kubernetes 中的使用",
        "content": "Prometheus     Kubernetes                     promQL               Prometheus   Dashboard                  Prometheus                                                   grafana     grafana                                             Graphite zabbix InfluxDB Prometheus OpenTSDB Elasticsearch          Prometheus                                                       grafana     Kubernetes               grafana   docker             dockerhub                           https   hub docker com r grafana grafana              grafana              docker run  d   name grafana  p 3000 3000 grafana grafana              Changelog  v5 1 0         Major restructuring container Usage chown removed File permissions incompatibility previous versions user id changed 104 472 group id changed 107 472 Runs grafana user default  instead root  default volumes removed        3  userid   groupid                                          Kubernetes    Pod  grafana yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  grafana namespace  kube ops labels  app  grafana spec  revisionHistoryLimit  10 template  metadata  labels  app  grafana spec  containers  name  grafana image  grafana grafana 5 3 4 imagePullPolicy  IfNotPresent ports  containerPort  3000 name  grafana env  name  GFSECURITYADMIN_USER value  admin name  GFSECURITYADMIN_PASSWORD value  admin321 readinessProbe  failureThreshold  10 httpGet  path   api health port  3000 scheme  HTTP initialDelaySeconds  60 periodSeconds  10 successThreshold  1 timeoutSeconds  30 livenessProbe  failureThreshold  3 httpGet  path   api health port  3000 scheme  HTTP periodSeconds  10 successThreshold  1 timeoutSeconds  1 resources  limits  cpu  100m memory  256Mi requests  cpu  100m memory  256Mi volumeMounts  mountPath   var lib grafana subPath  grafana name  storage securityContext  fsGroup  472 runAsUser  472 volumes  name  storage persistentVolumeClaim  claimName  grafana           grafana grafana 5 3 4                             GFSECURITYADMINUSER GFSECURITYADMINPASSWORD      grafana               grafana   dashboard           var lib grafana                                       volume                Deployment                   Changelog   grafana   userid   groupid                  securityContext                    pvc                       pv   pvc       grafana volume yaml  apiVersion  v1 kind  PersistentVolume metadata  name  grafana spec  capacity  storage  1Gi accessModes  ReadWriteOnce persistentVolumeReclaimPolicy  Recycle nfs  server  10 151 30 57 path   data k8s apiVersion  v1 kind  PersistentVolumeClaim metadata  name  grafana namespace  kube ops spec  accessModes  ReadWriteOnce resources  requests  storage  1Gi             grafana                  Service        NodePort         ingress          grafana svc yaml  apiVersion  v1 kind  Service metadata  name  grafana namespace  kube ops labels  app  grafana spec  type  NodePort ports  port  3000 selector  app  grafana                      kubectl create  f grafana volume yaml persistentvolume  grafana  created persistentvolumeclaim  grafana  created   kubectl create  f grafana deploy yaml deployment extensions  grafana  created   kubectl create  f grafana svc yaml service  grafana  created              grafana     Pod         kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE grafana 5f7b965b55 wxvvk 0 1 CrashLoopBackOff 1 22s             CrashLoopBackOff                 Pod        kubectl logs  f grafana 5f7b965b55 wxvvk  n kube ops GFPATHSDATA   var lib grafana  not writable  may issues file permissions  information here  http   docs grafana org installation docker  migration from a previous version of the docker container to 5 1 or later mkdir  cannot create directory   var lib grafana plugins   Permission denied          5 1                                                var lib grafana             5 1    groupid                 securityContext         var lib grafana    pvc                 grafana 472                                       Job                 grafana chown job yaml  apiVersion  batch v1 kind  Job metadata  name  grafana chown namespace  kube ops spec  template  spec  restartPolicy  containers  name  grafana chown command    chown     R    472 472     var lib grafana   image  busybox imagePullPolicy  IfNotPresent volumeMounts  name  storage subPath  grafana mountPath   var lib grafana volumes  name  storage persistentVolumeClaim  claimName  grafana          busybox     var lib grafana      472   user   group              volumeMounts   volumes        Deployment                  Deployment            kubectl delete  f grafana deploy yaml deployment extensions  grafana  deleted   kubectl create  f grafana deploy yaml deployment extensions  grafana  created   kubectl create  f grafana chown job yaml job batch  grafana chown  created                                 kubectl pod  n kube ops NAME READY STATUS RESTARTS AGE grafana 79477fbb7c 2mb84 1 1 Running 0 2m grafana chown k8zt7 0 1 Completed 0 2m             Completed  Pod             grafana       Pod     Job                     Completed      grafana   Po",
        "objectID": "post/Grafana 在 Kubernetes 中的使用",
        "date": "2018-11-17T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana",
            "AlertManger"
        ],
        "slug": "grafana-usage-in-k8s",
        "keywords": [
            "kubernetes",
            "prometheus",
            "grafana",
            "AlertManger"
        ],
        "gitcomment": true,
        "bigimg": [],
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "Grafana 日志聚合工具 Loki",
        "uri": "post/Grafana 日志聚合工具 Loki",
        "content": "Loki  Grafana Labs                                                                                      Prometheus            Like Prometheus  logs      Prometheus                       Loki                                          Loki                      Prometheus                                            Kubernetes Pod        Pod                        Grafana       Loki    3       loki                   promtail                 loki   Grafana   UI        DockerHub     Loki Promtail  Docker                 docker compose                Loki            Clone        git clone https   github com grafana loki git    docs      cd loki docs   docs            yaml     docker compose yaml  version   3  networks  loki  services  loki  image  grafana loki master ports   3100 3100  volumes   PWD  etc loki command   config file  etc loki loki local config yaml networks  loki promtail  image  grafana promtail make images static 26a87c9 volumes   PWD  etc promtail  var log  var log command   config file  etc promtail promtail docker config yaml networks  loki grafana  image  grafana grafana master ports   3000 3000  environment  GFEXPLOREENABLED   true  networks  loki        docker compose         docker compose  d                    docker compose yaml                     docker compose ps Name Command State Ports docsgrafana1  run sh 0 0 0 0 3000  3000 tcp docsloki1  bin loki  config file  et     0 0 0 0 3100  3100 tcp  80 tcp docspromtail1  usr bin promtail  config                                     3000      grafana         admin admin                         Loki    Loki           http   loki 3100                 grafana      Explore      Loki           Log labels                                                 var log messages                                                                                                               app  mysql  name  mysql backup                                                      name   mysql      name   mysql        Prometheus             Loki            Loki                    Loki",
        "objectID": "post/Grafana 日志聚合工具 Loki",
        "date": "2018-12-14T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana",
            "loki",
            "日志"
        ],
        "slug": "grafana-log-tool-loki",
        "keywords": [
            "kubernetes",
            "prometheus",
            "grafana",
            "loki",
            "日志"
        ],
        "gitcomment": true,
        "notoc": true,
        "bigimg": [],
        "category": "kubernetes"
    },
    {
        "title": "Groovy 简明教程",
        "uri": "post/Groovy简单教程",
        "content": "Jenkins Pipeline             Jenkins                                               Pipeline      Groovy               Pipeline                   Groovy         Groovy Groovy     JVM                Groovy   Java                   Java                 Java                     Groovy         Java                           Groovy       Java             https   groovy apache org          Groovy                               https   groovy apache org download html         Mac              Homebrew              brew install groovy             groovy           groovy  v Groovy Version  2 5 6 JVM  1 8 0_05 Vendor  Oracle Corporation OS  Mac OS X                 vscode      Groovy    hello groovy         class Example   static void main String   args          println       stdout                         println  Hello World  println  Hello World              Java                 Groovy                groovy              groovy hello groovy Hello World Hello World            Groovy                                                                                                                                           def employeename def student1 def student_name      def   Groovy                     class Example   static void main String   args    String x    Hello   println x   def _Name           println _Name   println  Hello World                 groovy hello groovy Hello      Hello World                      x        _Name           Groovy                   class Example   static void main String   args    String str    Hello          int x   5        long y   100L         float   10 56f     32     double b   10 5e40     64     char c    A         Boolean l   true            true false  println str   println x   println y   println a   println b   println c   println l                 groovy hello groovy Hello 5 100 10 56 1 05E41 true          def                                                    class Example   static void main String   args               int x   5  int X   6           println  x       x     X       X   println  x     x  X     X     println  x     x  X     X                   groovy hello groovy x   5 X   6 x   5 X   6 x     x  X     X            Groovy                                  Pipeline                         class Example   static void main String   args               int x   5  int X   6  println     x     x  X     X      println     x     x  X     X                    groovy hello groovy x   5 X   6 x     x  X     X       Groovy                                         Groovy                def                                               public private   protected                         public       class Example   static def PrintHello     println  This print hello function groovy      static int sum int a  int b  int c   10    int d   a b c  return d    static void main String   args    PrintHello    println sum 5  50                  groovy hello groovy print hello function groovy 65                               Jenkins Pipeline           Groovy                     if else     class Example   static void main String   args              int   2          a  100        println  The value greater 100                    groovy hello groovy value less 100                             Groovy                while for   for in       class Example   static void main String   args    int count   0  println  while         while count",
        "objectID": "post/Groovy简单教程",
        "date": "2019-05-13T00:00:00.000Z",
        "tags": [
            "Groovy",
            "java",
            "jenkins",
            "pipeline"
        ],
        "slug": "groovy-simple-tutorial",
        "keywords": [
            "Groovy",
            "java",
            "jenkins",
            "pipeline",
            "教程"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/20190513212457.png",
                "desc": "https://unsplash.com/photos/CMfzpKWAFQ0"
            }
        ],
        "category": "devops"
    },
    {
        "title": "在 Kubernetes 在快速安装 Harbor",
        "uri": "post/Harbor 快速安装使用",
        "content": "Harbor                                Harbor     Harbor Harbor                          make install sh     docker compose       Harbor                         Harbor     Kubernetes           Harbor                                              Harbor                            make kubernetes k8s prepare                            YAML        python make kubernetes k8s prepare                                          make common templates          Harbor                                        Helm Harbor          Helm Chart                     Harbor Chart              git clone https   github com goharbor harbor helm                       1 0 0      cd harbor helm   git checkout 1 0 0    Helm Chart         values yaml                          expose                   ingress clusterIP nodePort            type  ingress tls       tls          ingress   tls      pull push                   https   github com goharbor harbor issues 5291  enabled  true           TLS             secret        secret        tls crt   tls key                               secretName        Notary                                              ingress         notarySecretName     common name               clusterIP    nodePort    secretName          commonName     ingress  hosts  core  core harbor domain notary  notary harbor domain annotations  ingress kubernetes io ssl redirect   true  nginx ingress kubernetes io ssl redirect   true  ingress kubernetes io proxy body size   0  nginx ingress kubernetes io proxy body size   0  clusterIP  ClusterIP       name  harbor ports  httpPort  80 httpsPort  443 Notary            notary enabled     true       notaryPort  4443 nodePort  NodePort      name  harbor ports  http  port  80 nodePort  30002 https  port  443 nodePort  30003 notary  port  4443 nodePort  30004 Harbor          URL       1     portal         docker helm    2        docker notary      token    URL    protocol   domain  port   1     expose type ingress  domain      expose ingress hosts core    2     expose type clusterIP  domain      expose clusterIP name    3     expose type nodePort  domain      k8s     IP              Harbor           URL externalURL  https   core harbor domain               k8s                 StorageClass                         storageClass       storageClass       existingClaim        docker     Helm charts          azure   gcs   s3   swift      oss       imageChartStorage         persistence  enabled  true     keep       helm          PVC      chart        PVC resourcePolicy   keep  persistentVolumeClaim  registry          PVC              existingClaim        storageClass          StorageClass                    storageClass     subPath     accessMode  ReadWriteOnce size  5Gi chartmuseum  existingClaim     storageClass     subPath     accessMode  ReadWriteOnce size  5Gi jobservice  existingClaim     storageClass     subPath     accessMode  ReadWriteOnce size  1Gi                         database  existingClaim     storageClass     subPath     accessMode  ReadWriteOnce size  1Gi         Redis               redis  existingClaim     storageClass     subPath     accessMode  ReadWriteOnce size  1Gi                  charts          https   github com docker distribution blob master docs configuration md storage imageChartStorage       chart                          minio s3                      disableredirect true          https   github com docker distribution blob master docs configuration md redirect disableredirect  false         filesystem    azure    gcs    s3    swift    oss                        pv        filesystem    type  filesystem filesystem  rootdirectory   storage  maxthreads  100 azure  accountname  accountname accountkey  base64encodedaccountkey container  containername  realm  core windows net gcs  bucket  bucketname base64 encoded json file contains key encodedkey  base64 encoded json key file  rootdirectory   gcs object name prefix  chunksize   5242880  s3  region  us west 1 bucket  bucketname  accesskey  awsaccesskey  secretkey  awssecretkey  regionendpoint  http   myobjects local  encrypt  false  keyid  mykeyid  secure  true  v4auth  true  chunksize   5242880   rootdirectory   s3 object name prefix  storageclass  STANDARD swift  authurl  https   storage myprovider com v3 auth username  username password  password container  containername  region  fr  tenant  tenantname  tenantid  tenantid  domain  domainname  domainid  domainid  trustid  trustid  insecureskipverify  false  chunksize  5M  prefix   secretkey  secretkey  accesskey  accesskey  authversion  3  endpointtype  public  tempurlcontainerkey  false  tempurlmethods  oss  accesskeyid  accesskeyid accesskeysecret  accesskeysecret region  regionname bucket  bucketname  endpoint  endpoint  internal  false  encrypt  false  secure  true  chunksize  10M  rootdirectory  rootdirectory imagePullPolicy  IfNotPresent logLevel  debug Harbor admin      Harbor       Portal       harborAdminPassword   Harbor12345          secret key      16      secretKey   not a secure key        ingress          Nginx      nginx  image  repository  goharbor nginx photon tag  v1 ",
        "objectID": "post/Harbor 快速安装使用",
        "subtitle": "使用 Helm 一键安装",
        "date": "2019-02-22T00:00:00.000Z",
        "tags": [
            "harbor",
            "docker",
            "kubernetes",
            "helm"
        ],
        "keywords": [
            "harbor",
            "docker",
            "kubernetes",
            "安装",
            "registry"
        ],
        "slug": "harbor-quick-install",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/sdmk1.jpg",
                "desc": "https://unsplash.com/photos/T-a8zcXigq4"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Harbor 源码浅析",
        "uri": "post/Harbor 源码分析",
        "content": "Harbor    CNCF               docker registry                    Harbor                            docker registry           registry                                               Helm                    Harbor release 1 7 0         Harbor          docker registry                               docker login pull push                                         docker registry v2             v2                                     docker registry v2           docker registry v2                                    docker login https   registry qikqiak com               1  docker client          docker login             engine api   RegistryLogin    2    RegistryLogin       http    registry      auth    3             v2             loginV2      loginV2         v2                   4              token             401         header                  5  registry client                                              header               6         header                                                         ldap          7              token    client         token     registry                  token               200  8  docker client        200                  Login Succeeded                                                             registry                           token     registry                      registry                      registry                                            auth  token  realm  token realm service  token service issuer  registry token issuer rootcertbundle   root certs bundle           realm                           Harbor              registry              https   docs docker com registry configuration           registry             token         registry         token     registry                           registry       token                         docker registry          token             distribution registry token token go            token    JWT JSON Web Token                   JWT   token       Harbor              docker registry v2         Harbor                            Harbor             registry             make common templates registry config yml                        auth  token  issuer  harbor token issuer realm   public_url service token rootcertbundle   etc registry root crt service  harbor registry                    auth token realm       registry v2                      publicurl service token    publicurl   Harbor                       service token         Harbor     beego    web                     service token                             src core router go          func initRouters            beego Router   service token    token Handler                       src core service token go         Get              func  h  Handler  Get     request    h Ctx Request log Debugf  URL token request   s   request URL String    service    h GetString  service   tokenCreator  ok    creatorMap service   ok   errMsg    fmt Sprintf  Unable handle service   s   service  log Errorf errMsg  h CustomAbort http StatusBadRequest  errMsg    token  err    tokenCreator Create request  err    nil   _  ok    err   unauthorizedError   ok   h CustomAbort http StatusUnauthorized        log Errorf  Unexpected error when creating token  error   v   err  h CustomAbort http StatusInternalServerError        h Data  json     token h ServeJSON               service       tokenCreator      Create      token       func  g generalCreator  Create r http Request   models Token  error    var err error scopes    parseScopes r URL  log Debugf  scopes   v   scopes  ctx  err    filter GetSecurityContext r  err    nil   return nil  fmt Errorf  failed security context request     pm  err    filter GetProjectManager r  err    nil   return nil  fmt Errorf  failed project manager request        docker login  ctx IsAuthenticated     len scopes     0   return nil   unauthorizedError       access    GetResourceActions scopes  err   filterAccess access  ctx  pm  g filterMap  err    nil   return nil  err   return MakeToken ctx GetUsername    g service  access                              token            Token          type Token struct   Token string json  token  ExpiresIn int json  expires_in  IssuedAt string json  issued_at      JWT     token             docker registry v2           token      Harbor API     Harbor                                Harbor           Dashboard            Helm Chart              src core router go    func initRouters        standalone  config WithAdmiral        Controller API  beego Router   c login    controllers CommonController     post Login   beego Router   c log_out    controllers CommonController     get LogOut   beego Router   c reset    controllers CommonController     post ResetPassword   beego Router   c userExists    controllers CommonController     post UserExists   beego Router   c sendEmail    controllers CommonController     get SendResetEmail      API  beego Router   api projects  pid  0 9    members   pmid  0 9       api ProjectMemberAPI    beego Router   api projects     api ProjectAPI     head Head   beego Router   api projects  id  0 9       api ProjectAPI    beego Router   api u",
        "objectID": "post/Harbor 源码分析",
        "date": "2019-02-20T00:00:00.000Z",
        "tags": [
            "harbor",
            "docker",
            "kubernetes"
        ],
        "keywords": [
            "harbor",
            "docker",
            "kubernetes",
            "源码",
            "registry"
        ],
        "slug": "harbor-code-analysis",
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "Helm Chart 模板开发技巧",
        "uri": "post/Helm Chart 模板开发技巧",
        "content": "Helm Chart                          Helm Chart                        Helm Chart               Chart                      Helm   Go Template           Go                              Sprig                         env expandenv     Chart          Tiller                       include required include                                               mytpl                         value     include  mytpl      lower   quote    required                                                  Values who                         value    required  A valid  Values who entry required    Values who                                                          name      Values MyName   quote                                  Kubernetes          port      Values Port       include    Go          template                                 Go                             Helm       include       include  toYaml   value   indent 2           toYaml         value                  indent       YAML                                                       tpl    tpl                                        Chart                  tpl TEMPLATE_STRING VALUES        values template       Values name     name   Tom  template    tpl  Values template      output Tom           external configuration file conf app conf firstName     Values firstName    lastName     Values lastName    values firstName  Peter lastName  Parker template    tpl   Files Get  conf app conf        output firstName Peter lastName Parker    imagePullSecret imagePullSecret    registry                                base64                                       values yaml       imageCredentials  registry  quay io username  someone password  sillyness                    define  imagePullSecret         printf     auths        s       auth       s        Values imageCredentials registry  printf   s  s   Values imageCredentials username  Values imageCredentials password   b64enc    b64enc        end           Secret                    apiVersion  v1 kind  Secret metadata  name  myregistrykey type  kubernetes io dockerconfigjson data   dockerconfigjson     template  imagePullSecret       ConfigMap    Secret         ConfigMap    Secret                      helm upgrade                                                                 sha256sum                      annotations     kind  Deployment spec  template  metadata  annotations  checksum config     include  print   Template BasePath   configmap yaml       sha256sum                     helm upgrade   recreate pods                   Tiller               helm delete              Chart                 annotation            kind  Secret metadata  annotations   helm sh resource policy   keep                   helm sh resource policy   keep   annotation      Tiller       realease                                   Helm                               realese     helm install   replace               Partials           Chart                                                  templates                           Kubernetes                       helpers tpl              Chart     Chart        Chart                          Chart                         Chart           Chart     Chart                                      Chart     charts                           SAP OpenStack Chart    Chart      Kubernetes         OpenStack IaaS       Charts       Github     openstack helm Deis Workflow    Chart       Chart      Deis PaaS        SAP Chart            Chart             Git            requirements yaml         Chart         CI CD pipeline          Workflow     Chart        Helm                YAML   JSON        YAML     YAML   JSON               JSON     YAML                      JSON                      YAML                      YAML        JSON                          Helm                                                                                                       helm upgrade   install   values      https   github com technosophos k8s helm blob master docs chartstipsand_tricks md https   github com sapcc helm charts https   github com deis workflow tree master charts workflow https   godoc org text template https   godoc org github com Masterminds sprig",
        "objectID": "post/Helm Chart 模板开发技巧",
        "date": "2019-04-29T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm",
            "golang"
        ],
        "keywords": [
            "kubernetes",
            "helm",
            "chart",
            "template",
            "golang",
            "模板"
        ],
        "slug": "helm-chart-tips-and-tricks",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/bxf3k.jpeg",
                "desc": "https://unsplash.com/photos/gfaxAiOgxSc"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Helm Hooks 的使用",
        "uri": "post/Helm Hooks 的使用",
        "content": "Kubernetes        Helm     Hook        chart       release                           Hooks                    chart             ConfigMap   Secret      chart                                     release              release                  Hooks                           Helm             Hook         metadata     annotations          apiVersion      kind       metadata  annotations   helm sh hook    pre install                    Helm Hooks            Hooks   Helm                 Hooks     pre install        kubernetes               post install     kubernetes               pre delete    kubernetes                   post delete      release           pre upgrade                        post upgrade               pre rollback                       post rollback                crd install             CRD         chart             CRD          Hooks         release                                chart                    helm install foo chart         Tiller Server          Tiller Server    foo    Tiller           kubernetes    Tiller   release            Helm     Helm               install             hook pre install post install          chart                     helm install foo chart         Tiller Server          Tiller Server    foo    Tiller   hook       kubernetes       pre install hook Tiller        hook            0       hook        Tiller           hook Tiller       hook      Tiller           kubernetes   Tiller   post install hook Tiller       hook      Tiller   release               Helm          hook                   hook         Job       Tiller     Job                       Helm                          kubernetes                                hook                                hook           release                Tiller Server     hook                              hook              helm delete         hook                         pre delete  post delete    hook               helm sh hook delete policy   annotation     hook            hook         hook                                Values Chart Release                            metadata            annotation               hook        templates         post install job yaml                hook  apiVersion  batch v1 kind  Job metadata  name      Release Name    post install job lables  release      Release Name    chart      Chart Name    version      Chart Version    annotations                        Job     release      helm sh hook   post install  helm sh hook weight     5   helm sh hook delete policy   hook succeeded spec  template  metadata  name      Release Name    labels  release      Release Name    chart      Chart Name    version      Chart Version    spec  restartPolicy  containers  name  post install job image  alpine command     bin sleep       default  10   Values sleepTime          Job           annotations                                   release         annotations   helm sh hook   post install                    hook            post upgrade     annotations   helm sh hook   post install post upgrade             hook                                                    annotations   helm sh hook weight     5             hook        annotations   helm sh hook delete policy   hook succeeded                  hook succeeded    Tiller   hook         hook    hook failed      hook          Tiller      hook    before hook creation         hook           hook   helm   release         hook                  helm                   already exists           helm sh hook delete policy    before hook creation      helm sh hook delete policy    hook succeeded hook failed                    hook         kubernetes                          hook       kubernetes        helm release                     helm sh hook delete policy    before hook creation    hook            hook        hook       Tiller     release    hook        hook",
        "objectID": "post/Helm Hooks 的使用",
        "date": "2018-10-07T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm"
        ],
        "slug": "helm-hooks-usage",
        "keywords": [
            "kubernetes",
            "helm",
            "hook"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1538672074509-c5653fa3ee30.jpeg",
                "desc": "Antônio Prado"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Helm monitor 插件(附视频)",
        "uri": "post/helm monitor",
        "content": "Helm         Kubernetes                                                        kubectl rollout                            Helm     Helm monitro      Prometheus   ElasticSearch                     release  Helm       helm        release    helm upgrade my release company repo common chart           helm rollback my release    Helm       helm plugin install https   github com repo name                       helm foo   help Helm           Helm monitor    Helm monitor        release           Helm monitor       helm plugin install https   github com ContainerSolutions helm monitor           helm monitor   help command monitor release querying Prometheus Elasticsearch given interval care rolling back previous version query return non empty result  Usage  monitor  command  Available Commands  elasticsearch query elasticsearch server help Help command prometheus query prometheus server      5    5xx     0          helm monitor prometheus     prometheus http   prometheus   my release    rate httprequeststotal code    5      5m     0        prometheus     prometheus server           http   localhost 9090     ElasticSearch  Lucene Query      500               helm monitor elasticsearch     elasticsearch http   elasticsearch 9200   my release    status 500 kubernetes labels app app version 2 0 0          elasticsearch     Elasticsearch              http   localhost 9200              DSL          helm monitor elasticsearch my release   elasticsearch query json      Prometheus   Elasticsearch                 Sentry    helm monitor sentry my app     api key     organization sentry     project my project     sentry http   sentry 9000     tag release 2 0 0     regexp  Error database connection    Demo     asciinema src   files 157939 json  cols  145  rows  45      Helm monitor      https   github com ContainerSolutions helm monitor",
        "objectID": "post/helm monitor",
        "subtitle": "Helm release 基于日志或监控的自动回滚",
        "date": "2019-01-22T00:00:00.000Z",
        "tags": [
            "helm",
            "prometheus",
            "elasticsearch"
        ],
        "keywords": [
            "kubernetes",
            "helm",
            "prometheus",
            "elasticsearch",
            "回滚"
        ],
        "slug": "helm-monitor-plugin",
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Helm 初体验",
        "uri": "post/helm 初体验",
        "content": "Helm                                                                                                                                                  kubernetes                yaml                                               yum                        Helm    kubernetes    yum             Kubernetes          Helm             chart chart     tgz       chart   chart           chart  Kubernetes         chart    Helm    chart            Helm          chart      Kubernetes             config             release     chart             Helm   Helm            Helm Client                      chart           Tiller sever           chart    release                release Tiller Server      Kubernetes      server    Helm client Kubernetes API server      Tiller server              Helm client        chart               chart  Kubernetes               Kubernetes        chart      client    charts   server      release         Helm Realese               2 7 2            helm    usr local bin        Helm                         Helm                   Tiller    helm version Client   version Version SemVer  v2 7 2   GitCommit  8478fb4fc723885b155c924d1c8c410b7a9444e6   GitTreeState  clean   Error  cannot connect Tiller     Helm               kubectl        kubectl          kubernetes    apiserver                       helm init    Helm     gcr io                                          helm init   upgrade   tiller image cnych tiller v2 7 2                                   E0125 14 03 19 093131 56246 portforward go 331  error occurred forwarding 55943    44134  error forwarding port 44134 pod d01941068c9dfea1c9e46127578994d1cf8bc34c971ff109dc6faa4c05043a6e  uid   unable port forwarding  socat not found  2018 01 25 14 03 19  0xc420476210   0xc4203ae1e0  Stream removed  broadcasting  3 2018 01 25 14 03 19  0xc4203ae1e0   3  Writing data frame 2018 01 25 14 03 19  0xc420476210   0xc4200c3900  Create stream 2018 01 25 14 03 19  0xc420476210   0xc4200c3900  Stream added  broadcasting  5 Error  cannot connect Tiller            socat       sudo yum install  y socat Helm            Tiller      kubernetes   kube system         kubectl pod  n kube system  l app helm NAME READY STATUS RESTARTS AGE tiller deploy 546cf9696c wq5nl 1 1 Running 0 57m         Helm          Client   version Version SemVer  v2 7 2   GitCommit  8478fb4fc723885b155c924d1c8c410b7a9444e6   GitTreeState  clean   Server   version Version SemVer  v2 7 2   GitCommit  8478fb4fc723885b155c924d1c8c410b7a9444e6   GitTreeState  clean               RBAC     kubernetes    1 8 x         RBAC            Tiller    ServiceAccount                    Helm     Role based Access Control    rbac yaml    apiVersion  v1 kind  ServiceAccount metadata  name  tiller namespace  kube system apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRoleBinding metadata  name  tiller roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  cluster admin subjects  kind  ServiceAccount name  tiller namespace  kube system     kubectl      kubectl create  f rbac config yaml serviceaccount  tiller  created clusterrolebinding  tiller  created    tiller  ServceAccount            Tiller                    ServiceAccount           Tiller      ServiceAccount        kubectl patch deploy   namespace kube system tiller deploy  p    spec    template    spec    serviceAccount   tiller                           Helm         Error  no available release name found           Helm                                           Chart    helm create hello helm Creating hello helm   tree hello helm hello helm     Chart yaml     charts     templates       NOTES txt       _helpers tpl       deployment yaml       ingress yaml       service yaml     values yaml 2 directories  7 files       templates     deployment yaml            Chart     nginx                         Helm                        Chart     helm install   hello helm NAME  kilted bobcat LAST DEPLOYED  Thu Jan 25 16 57 46 2018 NAMESPACE  default 2018 01 25 16 57 47  0xc4207d8140   7  Writing data frame STATUS  DEPLOYED RESOURCES    v1 Service NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE kilted bobcat hello helm ClusterIP 10 254 43 90 80 TCP 1s   v1beta1 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE kilted bobcat hello helm 1 1 1 0 1s   v1 Pod related  NAME READY STATUS RESTARTS AGE kilted bobcat hello helm 789946b9b xslrm 0 1 ContainerCreating 0 1s NOTES  application URL running commands  export POD_NAME   kubectl pods   namespace default  l  app hello helm release kilted bobcat   o jsonpath    items 0  metadata name    echo  Visit http   127 0 0 1 8080 use application  kubectl port forward  POD_NAME 8080 80                    export POD_NAME   kubectl pods   namespace default  l  app hello helm release kilted bobcat   o jsonpath    items 0  metadata name      kubectl port forward  POD_NAME 8080 80          http   127 0 0 1 8080                nginx        release    helm list NAME REVISION UPDATED STATUS CHART NAMESPACE kilted bobcat 1 Thu Jan 25 16 57 46 2018 DEPLOYED hello helm 0 1 0 default   chart    helm package hello helm Successfully packaged",
        "objectID": "post/helm 初体验",
        "date": "2018-01-25T00:00:00.000Z",
        "publishdate": "2017-01-25T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm"
        ],
        "slug": "first-use-helm-on-kubernetes",
        "keywords": [
            "kubernetes",
            "helm",
            "用法"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/Hxev8VTsTuOJ27thHQdK_DSC_0068.jpeg",
                "desc": "Mouth of the cave"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Helm 命名模板的使用",
        "uri": "post/Helm 命名模板的使用",
        "content": "Helm                                                                                                  Helm         Helm       Helm       Helm         Values Helm            Helm                                                                                                                     chart                                                                    chart      define  mychart labels    define                  chart           chart                          define                                       define  ChartName TplName               end                         label         define  mychart labels     labels  from  helm date       htmlDate        end                     ConfigMap       template                     define  mychart labels     labels  from  helm date       htmlDate        end    apiVersion  v1 kind  ConfigMap metadata  name      Release Name    configmap     template  mychart labels     data      range  key   value     Values course        key         value   quote        end                            helm install   dry run   debug    debug  Created tunnel using local port   42058         Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  ardent bunny configmap labels  from  helm date  2018 09 22 data  k8s   devops  python   django        define              template                                                      chart      templates            helpers tpl             templates       NOTES txt                        kubernetes                                      chart            Helm   partials                        partials        _helpers tpl                        templates _helpers tpl                  labels             define  mychart labels     labels  from  helm date       htmlDate        end                                                                           templates configmap yaml              template                   mychart lables                                 DEBUG                                                                  chart                     labels             define  mychart labels     labels  from  helm date       htmlDate    chart      Chart Name    version      Chart Version        end                                       helm install   dry run   debug    debug  Created tunnel using local port   42058         Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  peeking zorse configmap labels  from  helm date  2018 09 22 chart  version  data  k8s   devops  python   django  chart                                                   template                                            Chart                    template              apiVersion  v1 kind  ConfigMap metadata  name      Release Name    configmap     template  mychart labels       data      range  key   value     Values course        key         value   quote        end        template                                     Values                                 helm install   dry run   debug    debug  Created tunnel using local port   32768         Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  oldfashioned mule configmap labels  from  helm date  2018 09 22 chart  mychart version  0 1 0 data  k8s   devops  python   django         chart                     include                  labels           _helpers tpl                 labels             define  mychart labels     from  helm date       htmlDate    chart      Chart Name    version      Chart Version        end                  configmap       labels     data     apiVersion  v1 kind  ConfigMap metadata  name      Release Name    configmap labels      template  mychart labels       data      range  key   value     Values course        key         value   quote        end        template  mychart labels                        helm install   dry run   debug    debug  Created tunnel using local port   42652         Error  YAML parse error mychart templates configmap yaml  error converting YAML JSON  yaml  line 9  mapping values not allowed context Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  altered wombat configmap labels  from  helm date  2018 09 22 chart  mychart version  0 1 0 data  k8s   devops  python   django  from  helm date  2018 09 22 chart  mychart version  0 1 0                         YAML          template                                                                                      Source  mychart templates configmap yaml apiVersion  v1 kind  ConfigMap metadata  name  mortal cricket configmap labels  from  helm date  2018 09 22 chart  mychart version  0 1 0 data  k8s   devops  python   django  from  helm date  2018 09 22 chart  mychart version  0 1 0        data                    labels                        labels                                                   data                        Helm             template      include               indent                      include    apiVersion  v1 kind  ConfigMap metadata  name      Release Name    configmap labels",
        "objectID": "post/Helm 命名模板的使用",
        "subtitle": "Kubernetes 包管理工具 Helm 命名模板的使用",
        "date": "2018-09-23T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm"
        ],
        "slug": "helm-name-template-usage",
        "keywords": [
            "kubernetes",
            "helm",
            "模板"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1537529380282-810ebbe8c9b1.jpg",
                "desc": "Moraine Lake"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Helm 的基本使用",
        "uri": "post/Helm 的基本使用",
        "content": "Helm         Tiller Server                  Helm Chart                 Helm                 Helm   Repo     Docker Registry      Chart              Chart            Helm            google                                        Chart       helm repo list              helm repo list NAME URL stable https   kubernetes charts storage googleapis com  local http   127 0 0 1 8879 charts               stable             local                               Chart           Chart           index yaml            Chart   HTTP                  Chart             Chart                                  Chart                  OSS Github Pages                                        Github Pages                        https   github com cnych kube charts mirror             Helm                        helm repo remove stable  stable  removed repositories   helm repo add stable https   cnych github io kube charts mirror   stable  added repositories   helm repo list NAME URL stable https   cnych github io kube charts mirror  local http   127 0 0 1 8879 charts   helm repo update Hang tight grab latest chart repositories       Skip local chart repository    Successfully update  stable  chart repository Update Complete    Happy Helming                update                         web        Helm Chart                              Chart               index yaml                   yaml           text yaml   text x yaml       web                      Helm Chart            chart Helm   Charts      Kubernetes                  Release       Chart                                  stable                       helm search          Charts         helm search NAME CHART VERSION APP VERSION DESCRIPTION     stable minio 1 6 3 RELEASE 2018 08 25T01 56 38Z Minio high performance distributed object storage se    stable mission control 0 4 2 3 1 2 Helm chart JFrog Mission Control stable mongodb 4 2 2 4 0 2 NoSQL document oriented database stores JSON like do    stable mongodb replicaset 3 5 6 3 6 NoSQL document oriented database stores JSON like do        stable zetcd 0 1 9 0 0 3 CoreOS zetcd Helm chart Kubernetes                helm search         charts                             helm search mysql NAME CHART VERSION APP VERSION DESCRIPTION     stable mysql 0 10 1 5 7 14 Fast  reliable  scalable  easy use open source rel    stable mysqldump 0 1 0 5 7 21 Helm chart help backup MySQL databases using mysqldump stable prometheus mysql exporter 0 1 0 v0 10 0 Helm chart prometheus stable mariadb 4 4 0 10 1 35 Fast  reliable  scalable  easy use open source rel                   charts              inspect         chart          helm inspect stable mysql appVersion  5 7 14 description  Fast  reliable  scalable  easy use open source relational database system  engine  gotpl home  https   www mysql com  icon  https   www mysql com common logos logo mysql 170x115 png keywords  mysql database sql maintainers  email  o with sportradar com name  olemarkus email  viglesias google com name  viglesiasce name  mysql sources  https   github com kubernetes charts https   github com docker library mysql version  0 10 1 mysql image version ref  https   hub docker com r library mysql tags  image   mysql  imageTag   5 7 14         inspect          chart                            helm search             chart            helm install              chart               helm install                     chart          helm install stable mysql NAME  mewing squid LAST DEPLOYED  Tue Sep 4 23 31 23 2018 NAMESPACE  default STATUS  DEPLOYED RESOURCES    v1 PersistentVolumeClaim NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE mewing squid mysql Pending 1s   v1 Service NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE mewing squid mysql ClusterIP 10 108 197 48 3306 TCP 1s   v1beta1 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE mewing squid mysql 1 0 0 0 1s   v1 Pod related  NAME READY STATUS RESTARTS AGE mewing squid mysql 69f587bdf9 z7glv 0 1 Pending 0 0s   v1 Secret NAME TYPE DATA AGE mewing squid mysql Opaque 2 1s   v1 ConfigMap NAME DATA AGE mewing squid mysql test 1 1s NOTES  MySQL accessed via port 3306 following DNS name within cluster  mewing squid mysql default svc cluster local root password run  MYSQLROOTPASSWORD   kubectl secret   namespace default mewing squid mysql  o jsonpath    data mysql root password     base64   decode  echo  connect database  Run Ubuntu pod use client  kubectl run  i   tty ubuntu   image ubuntu 16 04   restart Never    bash  il Install mysql client    apt get update    apt get install mysql client  y Connect using mysql cli  provide password    mysql  h mewing squid mysql  p connect database directly outside K8s cluster  MYSQL_HOST 127 0 0 1 MYSQL_PORT 3306 Execute following command route connection  kubectl port forward svc mewing squid mysql 3306 mysql  h   MYSQLHOST   P  MYSQLPORT   u root  p  MYSQLROOTPASSWORD     mysql chart           chart        release        release      hmewing squid            release          name             helm install stable mysql   name mydb        helm                     release                         mysql      ",
        "objectID": "post/Helm 的基本使用",
        "date": "2018-09-04T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm"
        ],
        "slug": "kubernetes-helm-usage",
        "keywords": [
            "kubernetes",
            "helm",
            "用法"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535807485722-6810baaaf271.jpeg",
                "desc": "nostalgia"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "利用 Hugo Pipes 处理资源文件",
        "uri": "post/hugo pipes使用",
        "content": "Hugo                               Hugo                                                                                                       CSS      JS                                        CSS    JS          webpack gulp                                       webpack config js        webpack                                      webpack       Hugo             Hugo Pipes                      Hugo Pipes            Asset     Asset         asset           assets               asetDir                     Hugo Pipes          resources Get                 asset                      style    recourses Get  sass main scss        Asset       hugo            Permalink   RelPermalink assets           public                    Hugo Pipes      Go                     scss       css          style    resources Get  sass main scss    resources ToCSS   resources Minify   resources Fingerprint      recources Fingerprint                    SRI                 hash                            4  CSS      bootstrap css main css search css reward css     4               assets css      partials          css assets html              bootcss    resources Get  css bootstrap css           maincss    resources Get  css main css           searchcss    resources Get  css search css           indexScratch     Scratch          indexScratch Add  cssassets   slice  bootcss  maincss  searchcss          Site Params reward         rewardcss    resources Get  css reward css           indexScratch Add  cssassets   slice  rewardcss         end        range  Site Params customCSSAssets          indexScratch Add  cssassets   slice  resources Get             end          appcss     indexScratch Get  cssassets    resources Concat  css bundle css    resources Minify   resources Fingerprint          Scratch Set  appcss   appcss RelPermalink          Scratch Set  appcssintegrity   appcss Data Integrity              Scratch                           Add Get Set                https   gohugo io functions scratch           Scratch    Assets                Go                         Scratch Set       CSS                         Scratch Get                      partials head html                 partial  css assets html                  Hugo Pipes                hugo           public css        bundle min 8db0ca8922d045902af41f7c49c511fb32ec40827c92aeff990760820f2a475c css                        CSS                                              Hugo Pipes     CSS                                           JS",
        "objectID": "post/hugo pipes使用",
        "date": "2019-04-17T00:00:00.000Z",
        "tags": [
            "Hugo",
            "Pipes",
            "webpack"
        ],
        "slug": "hugo-pipes-process-assets",
        "keywords": [
            "Hugo",
            "Pipes",
            "压缩",
            "合并",
            "静态资源"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/3m6hw.jpg",
                "desc": "https://unsplash.com/photos/C87vfR6C_aE"
            }
        ],
        "category": "hugo"
    },
    {
        "title": "在 Hugo 文章中添加 Adsense 广告单元",
        "uri": "post/hugo文章中添加adsense广告",
        "content": "Google Adsense                         Hugo    markdown                  layouts _default single html           Content                        Adsense                                                              Hugo                               partial                  layouts partials adsense inarticle html                 adsbygoogle   window adsbygoogle        push                        Site Params Adsense client  Site Params Adsense inArticleSlot            Google AdSense             data ad client data ad slot     config toml         params adsense            params adsense  client    ca pub 12345  inArticleSlot    12345          markdown                                   Adsense             hugo          partial          Adsense           first paragraph  second paragraph  third paragraph                     layouts _default single html      Content                replace  Content     partial  adsense inarticle html       safeHTML",
        "objectID": "post/hugo文章中添加adsense广告",
        "date": "2019-04-15T00:00:00.000Z",
        "tags": [
            "Hugo",
            "Adsense"
        ],
        "slug": "add-adsense-in-hugo-article",
        "keywords": [
            "Hugo",
            "Adsense",
            "广告",
            "Google"
        ],
        "gitcomment": true,
        "category": "hugo"
    },
    {
        "title": "Hugo 集成 Algolia 搜索",
        "uri": "post/hugo集成Algolia搜索",
        "content": "Hugo   Steve Francis    http   spf13 com    Go                             Hugo     Hugo                                                                                                    Google        Hugo                                             Algolia     Algolia     APP                         API                                         InstantSearch                                     https   www algolia com     GitHub   Google                                     Dashboard        Algolia            app     Indices                 qikqiak blog                         Algolia                         json    API                             API                      Algolia     API                              hugo algolia                      hugo aligolia               npm    yarn                       npm install hugo algolia  g           hugo                  config yaml     config toml       config yaml      Algolia    API     baseurl      DefaultContentLanguage   zh cn  hasCJKLanguage  true languageCode   zh cn  title   River s Site  theme   beautifulhugo  metaDataFormat   yaml  algolia  index   qikqiak blog  key   3f541d53f128036d7542f6f2362d4a67  appID   XYLRNJ38SQ    API          dashboard   API Keys        key Admin API Key                          hugo algolia  s JSON index file created public algolia json   updatedAt   2018 02 23T02 36 09 480Z   taskID  249063848950                       public        algolia json            dashboard     Indices                                               index     false    hugo algolia                                          Algolia                                                                beautifulhugo    themes beautifulhugo layouts partials          search html  var client   algoliasearch  XYLRNJ38SQ    3f541d53f128036d7542f6f2362d4a67    var index   client initIndex  qikqiak blog    autocomplete   aa search input     hint  false     source  autocomplete sources hits index   hitsPerPage  8    displayKey   name   templates    suggestion  function suggestion    console log suggestion   return           suggestion _highlightResult title value                    JS     var client   algoliasearch  XYLRNJ38SQ    3f541d53f128036d7542f6f2362d4a67    var index   client initIndex  qikqiak blog        algoliasearch       Application ID       Search Only API Key    initIndex               qikqiak blog                     themes beautifulhugo layouts partials nav html              times  Search blog qikqiak com    partial  search html       close                   search html                      themes beautifulhugo static css search css     import  https   fonts googleapis com css family Montserrat 400 700    aa input container   display  inline block  position  relative  width  100      aa input container span  aa input container input   width  inherit     aa input search   width  300px  padding  12px 28px 12px 12px  border  2px solid  e4e4e4  border radius  4px   webkit transition   2s  transition   2s  font family   Montserrat   sans serif  box shadow  4px 4px 0 rgba 241  241  241  0 35   font size  11px  box sizing  border box  color   333   webkit appearance  none   moz appearance  none  appearance  none     aa input search   webkit search decoration   aa input search   webkit search cancel button   aa input search   webkit search results button   aa input search   webkit search results decoration   display  none     aa input search focus   outline  0  border color   3a96cf  box shadow  4px 4px 0 rgba 58  150  207  0 1      aa input icon   height  16px  width  16px  position  absolute  top  50   right  16px   webkit transform  translateY  50    transform  translateY  50    fill   e4e4e4     aa hint   color   e4e4e4     aa dropdown menu   background color   fff  border  2px solid rgba 228  228  228  0 6   border top width  1px  font family   Montserrat   sans serif  width  300px  margin top  10px  box shadow  4px 4px 0 rgba 241  241  241  0 35   font size  11px  border radius  4px  box sizing  border box     aa suggestion   padding  12px  border top  1px solid rgba 228  228  228  0 6   cursor  pointer   webkit transition   2s  transition   2s  display   webkit box  display   ms flexbox  display  flex   webkit box pack  justify   ms flex pack  justify  justify content  space between   webkit box align  center   ms flex align  center  align items  center     aa suggestion hover   aa suggestion aa cursor   background color  rgba 241  241  241  0 35      aa suggestion   span first child   color   333     aa suggestion   span last child   text transform  uppercase  color   a9a9a9     aa suggestion   span first child em   aa suggestion   span last child em   font weight  700  font style  normal  background color  rgba 58  150  207  0 1   padding  2px 0 2px 2px                  CSS         themes beautifulhugo layouts partials head html head                                                                        https   github com rootsongjc beautifulhugo https   gohugo io tools search  https   www npmjs com package hugo algolia",
        "objectID": "post/hugo集成Algolia搜索",
        "date": "2018-02-23T00:00:00.000Z",
        "publishdate": "2018-02-23T00:00:00.000Z",
        "tags": [
            "Hugo",
            "Algolia"
        ],
        "slug": "hugo-integrated-algolia-search",
        "keywords": [
            "Hugo",
            "Algolia",
            "搜索"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1500531279542-fc8490c8ea4d.jpeg",
                "desc": "Breckenridge, United States"
            }
        ],
        "category": "hugo"
    },
    {
        "title": "Hugo 集成 Gitment 评论插件",
        "uri": "post/hugo集成gitment评论插件",
        "content": "Hugo   Algolia                                                                                     disqus                                                                                              GitHub Issues         Gitment     Gitment      GitHub Issues                                                        Markdown   GFM                  GitHub Pages                    https   github com settings applications new      OAuth Application             Callback URL                https   blog qikqiak com            client id   client secret                       Gitment     Gitment               Hugo     beautifulhugo                                            themes beautifulhugo layouts _default single html                          Params gitment     var gitment   new Gitment   id       Slug                 location href owner      GitHub ID   repo         repo   oauth    client_id      client ID   client_secret      client secret        gitment render  git comments      end           id        location href        URL                 ID           422         URL                      Slug         slug              Params gitment        Gitment                gitment               meta      title  Hugo    Gitment      date  2018 03 05 tags    Hugo    gitment    github   slug  hugo integrated gitment plugin gitment  true category   hugo      gitment    true   slug                        slug    gitment    false            Gitment                              GitHub                    repo   owner                               Demo     Gitment                                           Github issues                 Gitment              Github issues API          Python                                       https   imsun github io gitment",
        "objectID": "post/hugo集成gitment评论插件",
        "date": "2018-03-05T00:00:00.000Z",
        "keywords": [
            "Hugo",
            "评论",
            "gitment",
            "github",
            "Algolia"
        ],
        "tags": [
            "Hugo",
            "gitment",
            "github"
        ],
        "slug": "hugo-integrated-gitment-plugin",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1459909633680-206dc5c67abb.jpeg",
                "desc": "Moon close-up by NASA"
            }
        ],
        "category": "hugo"
    },
    {
        "title": "ipvs 基本介绍",
        "uri": "post/ipvs 介绍",
        "content": "ipvs  IP Virtual Server                     4 LAN      Linux        ipvs                        ipvs     TCP UDP                             IP             ipvs vs  iptables     kube proxy   iptables   ipvs        kubernetes v1 8      ipvs      v1 9     beta      v1 11          iptables     v1 1           v1 2      iptables    kube proxy         ipvs   iptables     netfilter     ipvs     iptables             ipvs                    ipvs     iptables                            ipvs                   ipvs    iptables ipvs     iptables       SNAT masquared          ipvs    ipset     DROP masquared               iptables                                   ipvs     ipset       set name   members   usage                                                                                                                              KUBE CLUSTER IP   service IP   port   Mark Masq cases masquerade all true clusterCIDR specified     KUBE LOOP BACK   service IP   port   IP   masquerade solving hairpin purpose     KUBE EXTERNAL IP   service external IP   port   masquerade packages external IPs     KUBE LOAD BALANCER   load balancer ingress IP   port   masquerade packages load balancer type service     KUBE LOAD BALANCER LOCAL   LB ingress IP   port externalTrafficPolicy local   accept packages load balancer externalTrafficPolicy local     KUBE LOAD BALANCER FW   load balancer ingress IP   port loadBalancerSourceRanges   package filter load balancer loadBalancerSourceRanges specified     KUBE LOAD BALANCER SOURCE CIDR   load balancer ingress IP   port   source CIDR   package filter load balancer loadBalancerSourceRanges specified     KUBE NODE PORT TCP   nodeport type service TCP port   masquerade packets nodePort TCP      KUBE NODE PORT LOCAL TCP   nodeport type service TCP port externalTrafficPolicy local   accept packages nodeport service externalTrafficPolicy local     KUBE NODE PORT UDP   nodeport type service UDP port   masquerade packets nodePort UDP      KUBE NODE PORT LOCAL UDP   nodeport type service UDP port externalTrafficPolicy local   accept packages nodeport service externalTrafficPolicy local          ipvs      iptables  1  kube proxy        masquerade all true    kube proxy      masquerade all true     ipvs         Service   Cluster IP            iptables        ipvs     iptables       iptables  t nat  nL Chain PREROUTING  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain OUTPUT  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain POSTROUTING  policy ACCEPT  target prot opt source destination KUBE POSTROUTING    0 0 0 0 0 0 0 0 0 0    kubernetes postrouting rules    Chain KUBE MARK MASQ  2 references  target prot opt source destination MARK    0 0 0 0 0 0 0 0 0 0 MARK 0x4000 Chain KUBE POSTROUTING  1 references  target prot opt source destination MASQUERADE    0 0 0 0 0 0 0 0 0 0    kubernetes service traffic requiring SNAT    mark match 0x4000 0x4000 MASQUERADE    0 0 0 0 0 0 0 0 0 0 match set KUBE LOOP BACK dst dst src Chain KUBE SERVICES  2 references  target prot opt source destination KUBE MARK MASQ    0 0 0 0 0 0 0 0 0 0 match set KUBE CLUSTER IP dst dst ACCEPT    0 0 0 0 0 0 0 0 0 0 match set KUBE CLUSTER IP dst dst 2    kube proxy         CIDR    kube proxy      cluster cidr      ipvs         Service Cluster IP            iptables       kube proxy       CIDR    10 244 16 0 24    ipvs     iptables           iptables  t nat  nL Chain PREROUTING  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain OUTPUT  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain POSTROUTING  policy ACCEPT  target prot opt source destination KUBE POSTROUTING    0 0 0 0 0 0 0 0 0 0    kubernetes postrouting rules    Chain KUBE MARK MASQ  3 references  target prot opt source destination MARK    0 0 0 0 0 0 0 0 0 0 MARK 0x4000 Chain KUBE POSTROUTING  1 references  target prot opt source destination MASQUERADE    0 0 0 0 0 0 0 0 0 0    kubernetes service traffic requiring SNAT    mark match 0x4000 0x4000 MASQUERADE    0 0 0 0 0 0 0 0 0 0 match set KUBE LOOP BACK dst dst src Chain KUBE SERVICES  2 references  target prot opt source destination KUBE MARK MASQ     10 244 16 0 24 0 0 0 0 0 match set KUBE CLUSTER IP dst dst ACCEPT    0 0 0 0 0 0 0 0 0 0 match set KUBE CLUSTER IP dst dst 3  Load Balancer     Service   loadBalancer      ipvs       KUBE LOAD BALANCER   ipset   iptables           LoadBalancerSourceRanges        externalTrafficPolicy local     ipvs     ipset   KUBE LOAD BALANCER LOCAL KUBE LOAD BALANCER FW KUBE LOAD BALANCER SOURCE CIDR        iptables            iptables  t nat  nL Chain PREROUTING  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals    Chain OUTPUT  policy ACCEPT  target prot opt source destination KUBE SERVICES    0 0 0 0 0 0 0 0 0 0    kubernetes service portals   ",
        "objectID": "post/ipvs 介绍",
        "subtitle": "如何在 kubernetes 中启用 ipvs",
        "date": "2018-08-23T00:00:00.000Z",
        "keywords": [
            "ipvs",
            "iptables",
            "kubernetes",
            "kube-proxy"
        ],
        "tags": [
            "ipvs",
            "iptables",
            "kubernetes",
            "kubeadm"
        ],
        "slug": "how-to-use-ipvs-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1534939023197-ee1747a69141.jpeg",
                "desc": "Sittin’ On The Dock Of The Bay"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Istio 实训免费视频课程",
        "uri": "post/Istio 实训免费视频课程",
        "content": "Istio      Google Lyft IBM                 Service Mesh                                                  Istio         Kubernetes                                               Istio     Kubernetes            Istio                               CNCF                                               1 CNCF             9   1 Kubernetes               13   12 CNCF              KCSP kubernetes Certified Service Provider                 kubernetes    kubernetes    kubernetes     kubernetes                kubernetes             kubernetes                                                    Cloud Native Lives kubernetes          kubernetes         K8S                     kubernetes           Kuberntes                  Kubernetes            Istio                     https   bbs huaweicloud com forum thread 13022 1 1 html                      k8s                istio                    0 1     Kubernetes               Kubernetes",
        "objectID": "post/Istio 实训免费视频课程",
        "date": "2019-01-21T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "istio",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "CloudNative",
            "课程",
            "华为",
            "istio"
        ],
        "slug": "k8s-istio-course",
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "Job和CronJob 的使用方法",
        "uri": "post/Job和CronJob的使用",
        "content": "Pod              HPA                        HPA                     Job                                                        Kubernetes         Job CronJob                  Job                               Pod     CronJob    Job          Job    Job                   Job              YAML    apiVersion  batch v1 kind  Job metadata  name  job demo spec  template  metadata  name  job demo spec  restartPolicy  containers  name  counter image  busybox command   bin sh    c   for 9 8 7 6 5 4 3 2 1  echo  i  done    Job RestartPolicy   Never OnFailure      Always     Job                           Always                     Job    job demo yaml    kubectl create  f job yaml job  job demo  created            Job        kubectl jobs NAME DESIRED SUCCESSFUL AGE job demo 1 1 1m        Pod            kubectl logs                kubectl pods NAME READY STATUS RESTARTS AGE job demo p6zst 0 1 Completed 0 14h   kubectl logs job demo p6zst 9 8 7 6 5 4 3 2 1 CronJob CronJob     Job                                                       Linux  crontab          CronJob        crontab                         Job    crontab       crontab                            1   0 59  2   0 23   3  1 31  4  1 12  5   0 7 0 7        6              CronJob        Job    apiVersion  batch v2alpha1 kind  CronJob metadata  name  cronjob demo spec  successfulJobsHistoryLimit  10 failedJobsHistoryLimit  10 schedule    1        jobTemplate  spec  template  spec  restartPolicy  OnFailure containers  name  hello image  busybox args   bin sh    c   for 9 8 7 6 5 4 3 2 1  echo  i  done       Kind CronJob        spec schedule                         crontab           spec jobTemplate                   Job                   spec successfulJobsHistoryLimit  spec failedJobsHistoryLimit                                Job                Job              Cron Job  Job                                    0        Job                     cronjob   kubectl create  f cronjob demo yaml cronjob  cronjob demo  created        kubectl run     CronJob    kubectl run hello   schedule   1          restart OnFailure   image busybox     bin sh  c  date  echo Hello Kubernetes cluster  cronjob batch  hello  created   kubectl cronjob NAME SCHEDULE SUSPEND ACTIVE LAST SCHEDULE AGE hello  1       False 0 13s   kubectl jobs NAME DESIRED SUCCESSFUL AGE hello 1528533240 1 1 1m hello 1528533300 1 0 1s   pods   kubectl pods   selector job name hello 1528533240   output jsonpath   items  metadata name     kubectl logs  pods Sat Jun 9 08 34 19 UTC 2018 Hello Kubernetes cluster        Cron Job         kubectl          kubectl delete cronjob hello cronjob batch  hello  deleted            Job       Cron Job     Job            Job             Job       Pod       Job       Job     Pod",
        "objectID": "post/Job和CronJob的使用",
        "date": "2018-06-09T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod",
            "Job",
            "CronJob"
        ],
        "slug": "use-job-cronjob",
        "keywords": [
            "kubernetes",
            "job",
            "cronjob",
            "pod"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1503863937795-62954a3c0f05.jpeg",
                "desc": "Morning glory"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "k8s技术圈一周精选[第1期]",
        "uri": "post/k8s技术圈一周精选[第1期]",
        "content": "2018     1 4                                                                                                                 1        2         3  kubelet sidecar     4  kubernetes                        Kubernetes",
        "objectID": "post/k8s技术圈一周精选[第1期]",
        "date": "2018-03-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "知识星球",
            "k8s技术圈"
        ],
        "keywords": [
            "kubernetes",
            "知识星球",
            "k8s技术圈",
            "精选"
        ],
        "slug": "k8s-tech-weekly-collection-phase1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1506188232657-23c9c893ac2b.jpeg",
                "desc": "Girl Cave"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "k8s技术圈一周精选[第2期]",
        "uri": "post/k8s技术圈一周精选[第2期]",
        "content": "k8s        1                                                                                         2                                                    1  Helm      2  nodeAffinity    3       ingress   ingress controller 4  flannel      5           6  Helm        7  docker    jenkins                  Kubernetes",
        "objectID": "post/k8s技术圈一周精选[第2期]",
        "date": "2018-03-25T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "知识星球",
            "k8s技术圈"
        ],
        "keywords": [
            "kubernetes",
            "知识星球",
            "k8s技术圈",
            "精选"
        ],
        "slug": "k8s-tech-weekly-collection-phase2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1437843947241-9e73e69172fb.jpeg",
                "desc": "Arthur's Seat, Edinburgh@United Kingdom"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "k8s技术圈一周精选[第3期]",
        "uri": "post/k8s技术圈一周精选[第3期]",
        "content": "k8s                                                                1           2            3  kubectl    no host                   Kubernetes",
        "objectID": "post/k8s技术圈一周精选[第3期]",
        "date": "2018-04-01T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "知识星球",
            "k8s技术圈"
        ],
        "keywords": [
            "kubernetes",
            "知识星球",
            "k8s技术圈",
            "精选"
        ],
        "slug": "k8s-tech-weekly-collection-phase3",
        "gitcomment": true,
        "toc": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1516054237813-0df813b7f496.jpeg",
                "desc": "This lake has so much salt that some bacterias created this color in the water transforming in a very beautiful and unique place."
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "如何在 Keynote 中插入高亮代码？",
        "uri": "post/keynote中插入高亮代码",
        "content": "Golang                             PPT          PPT                           PPT                                keynote                                RTF                           highlight       Mac            homebrew            brew install highlight                                 package main import  fmt  func main     fmt Println  Hello World                               pbpaste   highlight   syntax go   style github  k  Fira Code   K 36  u  utf 8   t 4  O rtf   pbcopy     syntax          u               style         K                                                    hello go                 highlight   style github  k  Fira Code   K 36  u  utf 8   t 4  O rtf hello go   pbcopy                 keynote                                     keynote                                  function light        z   2    src  pbpaste  else src  cat  2  fi  src   highlight  O rtf   syntax  1   font Inconsolata   style solarized dark   font size 24   pbcopy       light js func js           https   gist github com jimbojsb 1630790",
        "objectID": "post/keynote中插入高亮代码",
        "date": "2019-04-24T00:00:00.000Z",
        "tags": [
            "keynote",
            "highlight",
            "Mac"
        ],
        "slug": "insert-code-on-keynote",
        "keywords": [
            "keynote",
            "highlight",
            "Mac",
            "高亮",
            "PPT"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/jws2z.jpeg",
                "desc": "San Francisco covered by fog"
            }
        ],
        "category": "极客"
    },
    {
        "title": "使用 kubeadm 更新 kubernetes 集群",
        "uri": "post/kubeadm更新集群",
        "content": "v1 10 0                    v1 14 x                                          kubeadm            kubeadm                                     1 10 x     1 14 x kubeadm                        1 10       1 11          1 11     1 12                                                       v1 11 0                 kubeadm config       kubeadm config view api  advertiseAddress  10 151 30 11 bindPort  6443 controlPlaneEndpoint     auditPolicy  logDir   var log kubernetes audit logMaxAge  2 path     authorizationModes  Node RBAC certificatesDir   etc kubernetes pki cloudProvider     criSocket   var run dockershim sock etcd  caFile     certFile     dataDir   var lib etcd endpoints  null image     keyFile     imageRepository  k8s gcr io kubeProxy  config  bindAddress  0 0 0 0 clientConnection  acceptContentTypes     burst  10 contentType  application vnd kubernetes protobuf kubeconfig   var lib kube proxy kubeconfig conf qps  5 clusterCIDR  10 244 0 0 16 configSyncPeriod  15m0s conntrack  max  null maxPerCore  32768 min  131072 tcpCloseWaitTimeout  1h0m0s tcpEstablishedTimeout  24h0m0s enableProfiling  false healthzBindAddress  0 0 0 0 10256 hostnameOverride     iptables  masqueradeAll  false masqueradeBit  14 minSyncPeriod  0s syncPeriod  30s ipvs  minSyncPeriod  0s scheduler     syncPeriod  30s metricsBindAddress  127 0 0 1 10249 mode     nodePortAddresses  null oomScoreAdj   999 portRange     resourceContainer   kube proxy udpIdleTimeout  250ms kubeletConfiguration     kubernetesVersion  v1 10 0 networking  dnsDomain  cluster local podSubnet  10 244 0 0 16 serviceSubnet  10 96 0 0 12 nodeName  ydzs master privilegedPods  false token     tokenGroups  system bootstrappers kubeadm default node token tokenTTL  24h0m0s tokenUsages  signing authentication unifiedControlPlaneImage         imageRepository     gcr azk8s cn google_containers           kubeadm config yaml                 grc io                  kubeadm    yum makecache fast    yum install  y kubeadm 1 11 0 0 kubectl 1 11 0 0   kubeadm version kubeadm version   version Info Major  1   Minor  11   GitVersion  v1 11 0   GitCommit  91e7b4fd31fcd3d5f436da26c980becec37ceefe   GitTreeState  clean   BuildDate  2018 06 27T20 14 41Z   GoVersion  go1 10 2   Compiler  gc   Platform  linux amd64        kubeadm upgrade plan           dl k8s io                                  kubeadm                                  upgrade plan               kubeadm upgrade plan  preflight  Running pre flight checks   upgrade  Making sure cluster healthy   upgrade config  Making sure configuration correct   upgrade config  Reading configuration cluster     upgrade config  FYI  look config file  kubectl  n kube system cm kubeadm config  oyaml  I0518 18 50 12 844665 9676 feature_gate go 230  feature gates    map     upgrade  Fetching available versions upgrade  upgrade versions  Cluster version  v1 10 0  upgrade versions  kubeadm version  v1 11 0  upgrade versions  WARNING  Couldn t fetch latest stable version internet  unable URL  https   dl k8s io release stable txt   https   dl k8s io release stable txt  dial tcp 35 201 71 162 443  i o timeout  upgrade versions  WARNING  Falling back current kubeadm version latest stable version  upgrade versions  WARNING  Couldn t fetch latest version v1 10 series internet  unable URL  https   dl k8s io release stable 1 10 txt   https   dl k8s io release stable 1 10 txt  dial tcp 35 201 71 162 443  i o timeout Components upgraded manually upgraded control plane  kubeadm upgrade apply   COMPONENT CURRENT AVAILABLE Kubelet 3 x v1 10 0 v1 11 0 Upgrade latest stable version  COMPONENT CURRENT AVAILABLE API Server v1 10 0 v1 11 0 Controller Manager v1 10 0 v1 11 0 Scheduler v1 10 0 v1 11 0 Kube Proxy v1 10 0 v1 11 0 CoreDNS 1 1 3 Kube DNS 1 14 8 Etcd 3 1 12 3 2 18 apply upgrade executing following command  kubeadm upgrade apply v1 11 0         dry run             kubeadm upgrade apply v1 11 0   config kubeadm config yaml   dry run          config                                                                         kubeadm upgrade apply v1 11 0   config kubeadm config yaml kubeadm upgrade apply v1 11 0   config kubeadm config yaml  preflight  Running pre flight checks  I0518 18 57 29 134722 12284 feature_gate go 230  feature gates    map     upgrade  Making sure cluster healthy   upgrade config  Making sure configuration correct   upgrade config  Reading configuration options file  kubeadm config yaml I0518 18 57 29 179231 12284 feature_gate go 230  feature gates    map     upgrade apply  Respecting   cri socket flag set higher priority config file   upgrade version  chosen change cluster version  v1 11 0   upgrade versions  Cluster version  v1 10 0  upgrade versions  kubeadm version  v1 11 0  upgrade confirm  sure want proceed upgrade   y N   y  upgrade prepull  Will prepull images components  kube apiserver kube controller manager kube scheduler etcd   upgrade apply  Upgrading Static Pod hosted control plane version  v1 11 0     Static pod  kube apiserver ydzs master hash  3abd7df4382a9b60f60819f84de40e11 Static pod  kube controller manager ydzs master hash  1a0f3ccde96238d310",
        "objectID": "post/kubeadm更新集群",
        "date": "2019-05-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "kubelet",
            "kubeadm"
        ],
        "keywords": [
            "kubernetes",
            "kubelet",
            "kubeadm",
            "更新",
            "kubectl",
            "docker"
        ],
        "slug": "use-kubeadm-upgrade-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/20190518122741.png",
                "desc": "https://unsplash.com/photos/NuYKNgI3ZW0"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubelet 状态更新机制",
        "uri": "post/Kubelet状态保障",
        "content": "Kubernetes   Node                   Pod                             Down     Pod                     Kubelet              Kubernetes                               Kubelet            kubelet            apiserver       node status update frequency           10s       kube controller manager      node monitor period      kubelet         5s    node         kubernetes    node   notready            node monitor grace period        40s    node         kubernetes    node   unhealthy            node startup grace period        1m0s    node         kubernetes       node    pod          pod eviction timeout        5m0s    kube controller manager   kubelet                          apiserver     etcd                           node status update frequency   5s       etcd           6 7s         Kubelet            nodeStatusUpdateRetry        5    Kubelet     tryUpdateNodeStatus          Kubelet     Golang   http Client                      API Server         TCP                   nodeStatusUpdateRetry     node status update frequency                  Kubernetes   controller manager       node monitor period       nodeStatusUpdateRetry     node monitor grace period         unhealthy       pod eviction timeout    Pod  kube proxy     watcher API    Pod      kube proxy           iptables      Pod   Service   Endpoints                     Pod                                                                          node status update frequency   10s       node monitor period   5s       node monitor grace period   40s       pod eviction timeout   5m                                          node status update frequency   4s       node monitor period   2s       node monitor grace period   20s       pod eviction timeout   30s          Pod    50s            20s     Down     pod eviction timeout  30s                etcd                     2s              1000           15000                etcd       etcd                           5           nodeStatusUpdateRetry     3 5                   15 25                                             node status update frequency   20s       node monitor period   5s       node monitor grace period   2m       pod eviction timeout   1m          20s      node    controller manager    node            2m60 205 30    node      Node     down    1m               1000     1        60s 20s 1000 3000                                                  node status update frequency   1m       node monitor period   5s       node monitor grace period   5m       pod eviction timeout   1m   Kubelet    1m                      5m 1m 5 25          Node        1m    pod                                         https   github com kubernetes sigs kubespray blob master docs kubernetes reliability md",
        "objectID": "post/Kubelet状态保障",
        "date": "2019-05-15T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "kubelet"
        ],
        "keywords": [
            "kubernetes",
            "kubelet",
            "状态",
            "同步",
            "apiserver"
        ],
        "slug": "kubelet-sync-node-status",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1557870496-fa8f75b9dd78.jpeg",
                "desc": "https://unsplash.com/photos/_DocR2F7HIs"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes dashboard 升级之路",
        "uri": "post/kubernetes dashboard 升级",
        "content": "kubernetes           kubernetes   v1 8 2       dashboard    1 6 x     dashboard                                                1 7 x                                  dashboard                                       basic auth       1 6 x   dashboard      basic auth                 haproxy nginx  traefik ingress haproxy nginx     haproxy  nginx    basic auth                      https            traefik ingress       https        traefik       nginx       nginx   https           haproxy         ConfigMap  kind  ConfigMap apiVersion  v1 metadata  name  haproxy conf namespace  kube system data  haproxy config     userlist users user admin insecure password admin global log 127 0 0 1 local0 debug stats timeout 30s defaults log global mode http option httplog option dontlognull timeout connect 5000 timeout client 50000 timeout server 50000 timeout http request 15s timeout http keep alive 15s frontend k8s ui bind   8440 mode http acl authok httpauth users  http request auth unless auth_ok default_backend k8s ui backend k8s ui mode http balance roundrobin server k8s ui 1 kubernetes dashboard kube system svc cluster local 80 check       haproxy Deployment Service  apiVersion  extensions v1beta1 kind  Deployment metadata  name  haproxy namespace  kube system labels  k8s app  haproxy spec  template  metadata  labels  k8s app  haproxy spec  containers  name  haproxy image  haproxy latest imagePullPolicy  IfNotPresent ports  containerPort  8440 name  k8s ui protocol  TCP volumeMounts  name  haproxy config volume mountPath   usr local etc haproxy volumes  name  haproxy config volume configMap  name  haproxy conf items  key  haproxy config path  haproxy cfg kind  Service apiVersion  v1 metadata  name  haproxy namespace  kube system labels  k8s app  haproxy spec  ports  port  8440 targetPort  k8s ui name  k8s ui selector  k8s app  haproxy         ingress      apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik system namespace  kube system spec  rules  host  k8s local http  paths  path    backend  serviceName  haproxy servicePort  k8s ui       https   k8s local    basic auth      traefik ingress          haprox  nginx               ingress      basic auth     ingress          annotations                        htpasswd     htpasswd  bc auth admin admin            auth   secret   kubectl create secret generic system basic auth   from file auth  n kube system        auth type basic auth secret system basic auth     ingress       traefik ingress controller hosts   basic auth        htpasswd    apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik system namespace  kube system annotations  ingress kubernetes io auth type  basic ingress kubernetes io auth secret  system basic auth spec  rules  host  k8s local http  paths  path    backend  serviceName  haproxy servicePort  k8s ui     Dashboard         dashboard  basic auth           1 7 1                                dashboard   yaml             kubectl delete  f dashboard                            wget https   raw githubusercontent com kubernetes dashboard master src deploy recommended kubernetes dashboard yaml           Service  NodePort             dashboard      kubectl create  f kubernetes dashboard yaml         dashboard           kubectl svc kubernetes dashboard  n kube system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE haproxy ClusterIP 10 254 125 90 8440 TCP 8442 TCP 2d kubernetes dashboard NodePort 10 254 122 185 443 31694 TCP 10s                 IP      31694      dashboard        dashboard      https                                  dashboard                dashboard   Kubeconfig token                      Kubeconfig                               default                  dashboard      Kubeconfig  token        Kubeconfig     token        token              token       admin     admin           yaml    admin                   token   dashbaord               Service Account        Bearer token   API server          Kubernetes       kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  admin annotations  rbac authorization kubernetes io autoupdate   true  roleRef  kind  ClusterRole name  cluster admin apiGroup  rbac authorization k8s io subjects  kind  ServiceAccount name  admin namespace  kube system apiVersion  v1 kind  ServiceAccount metadata  name  admin namespace  kube system labels  kubernetes io cluster service   true  addonmanager kubernetes io mode  Reconcile    admin                     token          kubectl secret  n kube system grep admin token admin token d5jsg kubernetes io service account token 3 1d   kubectl secret admin token d5jsg  o jsonpath   data token   n kube system  base64  d         base64         dashboard              token                        kubernetes                                    Kubeconfig                     Kubeconfig                 https          bashboard                                    https           dashboard     https                         ls certs  dashboard crt dashboard key   kubectl create secret generic kubernetes dashboard certs   from file certs  n kube syste",
        "objectID": "post/kubernetes dashboard 升级",
        "date": "2017-11-13T00:00:00.000Z",
        "publishdate": "2017-11-13T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "dashboard",
            "https"
        ],
        "keywords": [
            "kubernetes",
            "dashboard",
            "https",
            "登录",
            "认证",
            "升级"
        ],
        "slug": "update-kubernetes-dashboard-more-secure",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/21689420_1963460803943335_1928791974941294592_n.jpg",
                "desc": "It was an exciting feeling to be there alone at this huge lake, witnessing the spectacle of nature"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes 部署策略详解",
        "uri": "post/Kubernetes Deployment 策略",
        "content": "Kubernetes                                                                                                    recreate                  rolling update                        blue green                         canary                         A B  a b testing         HTTP   cookie                A B                         Kubernetes                             Istio Linkerd Traefik       Nginx Haproxy         Kubernetes                                                                      Recreate                 Recreate Deployment                               spec  replicas  3 strategy  type  Recreate                     A        A     B                                                    app v1 yaml  apiVersion  v1 kind  Service metadata  name  my app labels  app  my app spec  type  NodePort ports  name  http port  80 targetPort  http selector  app  my app apiVersion  apps v1 kind  Deployment metadata  name  my app labels  app  my app spec  replicas  3 selector  matchLabels  app  my app strategy  type  Recreate selector  matchLabels  app  my app template  metadata  labels  app  my app version  v1 0 0 annotations  prometheus io scrape   true  prometheus io port   9101  spec  containers  name  my app image  containersol k8s deployment strategies ports  name  http containerPort  8080 name  probe containerPort  8086 env  name  VERSION value  v1 0 0 livenessProbe  httpGet  path   live port  probe initialDelaySeconds  5 periodSeconds  5 readinessProbe  httpGet  path   ready port  probe periodSeconds  5 app v2 yaml         apiVersion  apps v1 kind  Deployment metadata  name  my app labels  app  my app spec  replicas  3 strategy  type  Recreate selector  matchLabels  app  my app template  metadata  labels  app  my app version  v2 0 0 annotations  prometheus io scrape   true  prometheus io port   9101  spec  containers  name  my app image  containersol k8s deployment strategies ports  name  http containerPort  8080 name  probe containerPort  8086 env  name  VERSION value  v2 0 0 livenessProbe  httpGet  path   live port  probe initialDelaySeconds  5 periodSeconds  5 readinessProbe  httpGet  path   ready port  probe periodSeconds  5              Deployment                       VERSION                 Recreate      1         1     2                         kubectl apply  f app v1 yaml service  my app  created deployment apps  my app  created     1          kubectl pods  l app my app NAME READY STATUS RESTARTS AGE my app 7b4874cd75 m5kct 1 1 Running 0 19m my app 7b4874cd75 pc444 1 1 Running 0 19m my app 7b4874cd75 tlctl 1 1 Running 0 19m   kubectl svc my app NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE my app NodePort 10 108 238 76 80 32532 TCP 5m   curl http   127 0 0 1 32532 Host  my app 7b4874cd75 pc444  Version  v1 0 0       1                                       watch kubectl po  l app my app       2       kubectl apply  f app v2 yaml                   Pod              3  Pod      Terminating     3  Pod              Pod                      sleep 0 1  curl http   127 0 0 1 32532  done curl   7  Failed connect 127 0 0 1 32532  Connection refused curl   7  Failed connect 127 0 0 1 32532  Connection refused        Host  my app f885c8d45 sp44p  Version  v2 0 0 Host  my app f885c8d45 t8g7g  Version  v2 0 0 Host  my app f885c8d45 sp44p  Version  v2 0 0                                                                    2                             kubectl delete  l app my app                                          rolling update                                                                            B                   Readiness Probe                                                                      Kubernetes     Deployment               spec  replicas  3 strategy  type  RollingUpdate rollingUpdate  maxSurge  2            Pod maxUnavailable  1              Pod              app v1 yaml                            app v2 rolling update yaml         apiVersion  apps v1 kind  Deployment metadata  name  my app labels  app  my app spec  replicas  10 maxUnavailable   0                                     strategy  type  RollingUpdate rollingUpdate  maxSurge  1 maxUnavailable  0 selector  matchLabels  app  my app template  metadata  labels  app  my app version  v2 0 0 annotations  prometheus io scrape   true  prometheus io port   9101  spec  containers  name  my app image  containersol k8s deployment strategies ports  name  http containerPort  8080 name  probe containerPort  8086 env  name  VERSION value  v2 0 0 livenessProbe  httpGet  path   live port  probe initialDelaySeconds  5 periodSeconds  5 readinessProbe  httpGet  path   ready port  probe                       initialDelaySeconds  15 periodSeconds  5                      2       strategy type RollingUpdate     Deployment                                        1         2             2              1      kubectl apply  f app v1 yaml service  my app  created deployment apps  my app  created     1          kubectl pods  l app my app NAME READY STATUS RESTARTS AGE my app 7b4874cd75 h8c4d 1 1 Running 0 47s my app 7b4874cd75 p4l8f 1 1 Running 0 47s my app 7b4874cd75 qnt7p 1 1 Runnin",
        "objectID": "post/Kubernetes Deployment 策略",
        "date": "2019-01-24T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "deployment"
        ],
        "keywords": [
            "kubernetes",
            "deployment",
            "灰度",
            "蓝绿",
            "AB测试"
        ],
        "slug": "k8s-deployment-strategies",
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/cfhel.jpg",
                "desc": "部署策略"
            }
        ],
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Deployment滚动升级",
        "uri": "post/kubernetes deployment实现滚动升级",
        "content": "k8s      1 7 7                Deployment  Replication Controller rc   Deployment   rc                                                      Deployment                                                     Recreate     Pod      RollingUpdate           Pod                            Deployment       Deployment    Replica Set    Replica Set       Pod   Deployment    rs              Deployment    Kubernetes       Replica Set                              Deployment       Replica Set   3 nginx pod yaml      apiVersion  apps v1beta1 kind  Deployment metadata  name  nginx deploy labels  k8s app  nginx demo spec  replicas  3 template  metadata  labels  app  nginx spec  containers  name  nginx image  nginx 1 7 9 ports  containerPort  80           nginx deployment yaml         kubectl create  f nginx deployment yaml deployment  nginx deploy  created                Deployment    kubectl deployments NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE nginx deploy 3 0 0 0 1s                kubectl deployments NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE nginx deploy 3 3 3 3 4m       Deployment     3 Replica Set           rs pod    kubectl rs NAME DESIRED CURRENT READY AGE nginx deploy 431080787 3 3 3 6m   kubectl pod   show labels NAME READY STATUS RESTARTS AGE LABELS nginx deploy 431080787 53z8q 1 1 Running 0 7m app nginx pod template hash 431080787 nginx deploy 431080787 bhhq0 1 1 Running 0 7m app nginx pod template hash 431080787 nginx deploy 431080787 sr44p 1 1 Running 0 7m app nginx pod template hash 431080787    Deployment yaml    replicas 3         3 POD         Deployment           yaml    nginx     nginx 1 13 3    spec            minReadySeconds  5 strategy  indicate strategy want rolling update type  RollingUpdate rollingUpdate  maxSurge  1 maxUnavailable  1 minReadySeconds  Kubernetes                        Kubernetes                                                 maxSurge                   POD      maxSurage 1 replicas 5    Kubernetes    1    Pod        POD            5 1 POD  maxUnavaible             POD             maxSurge  0        0    maxUnavaible 1    Kubernetes           1 POD                     kubectl apply  f nginx deployment yaml deployment  nginx deploy  configured         rollout            kubectl rollout status deployment nginx deploy Waiting rollout finish  1 3 new replicas updated   deployment  nginx deploy  successfully rolled        kubectl rollout pause deployment        kubectl rollout resume deployment           rs       kubectl rs NAME DESIRED CURRENT READY AGE nginx deploy 2078889897 0 0 0 47m nginx deploy 3297445372 3 3 3 42m nginx deploy 431080787 0 0 0 1h   AGE                  3     yaml                describe               Name  nginx deploy Namespace  default CreationTimestamp  Wed  18 Oct 2017 16 58 52  0800 Labels  k8s app nginx demo Annotations  deployment kubernetes io revision 3 kubectl kubernetes io last applied configuration   apiVersion   apps v1beta1   kind   Deployment   metadata    annotations      labels    k8s app   nginx demo    name   nginx deploy   namespace   defa    Selector  app nginx Replicas  3 desired   3 updated   3 total   3 available   0 unavailable StrategyType  RollingUpdate MinReadySeconds  0 RollingUpdateStrategy  25  max unavailable  25  max surge Pod Template  Labels  app nginx Containers  nginx  Image  nginx 1 13 3 Port  80 TCP Environment  Mounts  Volumes  Conditions  Type Status Reason                    Progressing True NewReplicaSetAvailable Available True MinimumReplicasAvailable OldReplicaSets  NewReplicaSet  nginx deploy 3297445372  3 3 replicas created  Events  FirstSeen LastSeen Count SubObjectPath Type Reason Message                                                                     50m 50m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 2078889897 1 45m 45m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 2078889897 0 45m 45m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 3297445372 1 39m 39m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 431080787 2 39m 39m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 3297445372 2 38m 38m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 431080787 1 38m 38m 1 deployment controller Normal ScalingReplicaSet Scaled replica set nginx deploy 3297445372 3 38m 38m 1 deployment controller Normal ScalingReplicaSet Scaled down replica set nginx deploy 431080787 0   Deployment                 Deployment          POD                                            Deployment                  Deployment         kubectl rollout history deployment nginx deploy deployments  nginx deploy  REVISION CHANGE CAUSE 1 2 3 kubectl apply   filename Desktop nginx deployment yaml   record true              Deployment         record                                 REVISION       kubectl rollout history deployment nginx deploy   revision 3 deployments  nginx deploy  revision  3 Pod Template  Labels  app nginx pod template hash 3297445372 Annotati",
        "objectID": "post/kubernetes deployment实现滚动升级",
        "date": "2017-10-18T00:00:00.000Z",
        "publishdate": "2017-10-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "deployment"
        ],
        "keywords": [
            "kubernetes",
            "deployment",
            "滚动",
            "升级",
            "回滚",
            "更新"
        ],
        "bigimg": [
            {
                "src": "/img/posts/22280765_1473377219422921_7316093626113589248_n.jpg",
                "desc": "峨眉山@四川 Sep 30,2017"
            }
        ],
        "slug": "kubernetes-rollout-update",
        "category": "kubernetes",
        "gitcomment": true
    },
    {
        "title": "Kubernetes Downward API 基本用法",
        "uri": "post/kubernetes Downward API用法",
        "content": "k8s                      POD         kubernetes             Downward API     Downward API           POD                             POD                  Volume     POD                                  Downward API   POD   IP          namespace                                        yaml      test env pod yaml  apiVersion  v1 kind  Pod metadata  name  test env pod namespace  kube system spec  containers  name  test env pod image  busybox latest command     bin sh     c    env   env  name  POD_NAME valueFrom  fieldRef  fieldPath  metadata name name  POD_NAMESPACE valueFrom  fieldRef  fieldPath  metadata namespace name  POD_IP valueFrom  fieldRef  fieldPath  status podIP                       env   valueFrom            POD   name   namespace          POD                     metata             POD   IP             POD IP       POD                       status            fieldRef   POD             resourceFieldRef                          kubectl        POD    kubectl create  f test env pod yaml pod  test env pod  created POD                   kubectl logs test env pod  n kube system  grep POD POD_IP 172 30 19 24 POD_NAME test env pod POD_NAMESPACE kube system        POD   IP NAME NAMESPACE               Volume   Downward API                   Volume         POD              Downward API  POD   Label Annotation       Volume                                      yaml     test volume pod yaml  apiVersion  v1 kind  Pod metadata  name  test volume pod namespace  kube system labels  k8s app  test volume node env  test annotations  build  test own  qikqiak spec  containers  name  test volume pod container image  busybox latest command    sh     c   args  true      e  etc podinfo labels     echo  en   n n   cat  etc podinfo labels  fi      e  etc podinfo annotations     echo  en   n n   cat  etc podinfo annotations  fi  sleep 3600  done  volumeMounts  name  podinfo mountPath   etc podinfo volumes  name  podinfo downwardAPI  items  path   labels  fieldRef  fieldPath  metadata labels path   annotations  fieldRef  fieldPath  metadata annotations        labels   annotaions            etc podinfo          POD     kubectl create  f test volume pod yaml pod  test volume pod  created           kubectl logs test volume pod  n kube system k8s app  test volume  node env  test  build  test  kubernetes io config seen  2018 03 02T17 51 10 856356259 08 00  kubernetes io config source  api  own  qikqiak                  POD   Labels   Annotations          etc podinfo      lables   annotations                       POD                   Downward API                      initContainer  POD",
        "objectID": "post/kubernetes Downward API用法",
        "date": "2018-03-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "pod",
            "downward"
        ],
        "keywords": [
            "kubernetes",
            "pod",
            "downward",
            "用法"
        ],
        "slug": "use-downward-api-get-pod-info",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1493219686142-5a8641badc78.jpeg",
                "desc": "Draw Something"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes PodPreset 的使用",
        "uri": "post/kubernetes PodPreset使用",
        "content": "kubernetes    sentry       sentry     3        POD   WEB Celery Worker Crontab                                                                                    3    3                      3      kubernetes             PodPreset        Pod        Pod                secret volume volume mount              PodPreset      kubernetes 1 8         PodPreset PodPreset     Pod                  API         label selector        Pod   PodPreset  kubernetes           PodPreset       PodPreset                    Pod                           PodPresets    PodPreset                Pod               PodPreset               Pod             Pod              PodPreset              Pod               Pod spec        PodPreset            podpreset admission kubernetes io podpreset           Pod           PodPrestet      PodPreset            Pod  PodPreset          Pod   Kubernetes     Pod Spec    Env EnvFrom   VolumeMounts     Kubernetes    Pod          spec    Volume     Kubernetes    Pod Spec               Pod       Pod Preset                   Pod   Pod Spec       podpreset admission kubernetes io exclude  true      PodPreset    PodPreset            kubernetes 1 8                 PodPreset       PodPreset        podpreset API        admission control NamespaceLifecycle LimitRanger ServiceAccount DefaultStorageClass ResourceQuota PodPreset    runtime config rbac authorization k8s io v1alpha1 true settings k8s io v1alpha1 true      kube apiserver                         kube apiserver                 sentry          PodPreset    sentry podpreset yaml  apiVersion  settings k8s io v1alpha1 kind  PodPreset metadata  name  sentry env namespace  kube ops spec  selector  matchLabels  app  sentry env  name  CFORCEROOT value   true  name  SENTRYREDISHOST value   redis  name  SENTRYREDISPORT value   6379  name  SENTRYREDISDB value   2  name  SENTRYRABBITMQHOST value   rabbitmq 5672  name  SENTRYRABBITMQUSERNAME value   root  name  SENTRYRABBITMQPASSWORD value   root  name  SENTRYSECRETKEY value   xxxxxxxxxxxxx  name  SENTRYPOSTGRESHOST value   postgresql  name  SENTRYPOSTGRESPORT value   5432  name  SENTRYDBNAME value   sentry  name  SENTRYDBUSER value   sentry  name  SENTRYDBPASSWORD value   sentry321           PodPreset        app  sentry          POD                    sentry                sentry deployment yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  labels  app  sentry name  sentry namespace  kube ops spec  template  metadata  labels  app  sentry spec  containers  image  sentry 8 22 0 imagePullPolicy  Always name  sentry ports  containerPort  9000 name  web image  sentry 8 22 0 imagePullPolicy  Always name  sentry worker command    sentry    run    worker   image  sentry 8 22 0 imagePullPolicy  Always name  sentry cron command    sentry    run    cron             kubectl create  f sentry podpreset yaml   kubectl create  f sentry deployment yaml         dashboard       kubectl         sentry POD                     https   kubernetes io docs tasks inject data application podpreset",
        "objectID": "post/kubernetes PodPreset使用",
        "date": "2018-01-23T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "PodPreset"
        ],
        "keywords": [
            "kubernetes",
            "PodPreset",
            "用法"
        ],
        "slug": "how-to-use-podpreset-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1498637841888-108c6b723fcb.jpeg",
                "desc": "Transfagarasan by Drone"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Pod 安全策略(PSP)配置",
        "uri": "post/Kubernetes PSP详解",
        "content": "Kubernetes              Pod                  Pod      PSP                   Pod             Pod      PodSecurityPolicy   Kubernetes API           Kubernetes                                                    kube controller manager      RBAC                         Admission Controller Admission Controller           kube apiserver                                                                           kube apiserver    enable admission plugins             1 10                admision control                       PodSecurityPolicy    kube apiserver     enabled admission plugins         kube apiserver    enable admission plugins NamespaceLifecycle LimitRanger ServiceAccount DefaultStorageClass DefaultTolerationSeconds MutatingAdmissionWebhook ValidatingAdmissionWebhook ResourceQuota PodSecurityPolicy          Kubernetes               PodSecurityPolicy                 PSP                                  Pod                    Nginx   Deployment YAML           nginx yaml  apiVersion  apps v1 kind  Deployment metadata  name  nginx deploy namespace  default labels  app  nginx spec  replicas  1 selector  matchLabels  app  nginx template  metadata  labels  app  nginx spec  containers  name  nginx image  nginx 1 15 4           Deployment    kubectl apply  f nginx yaml deployment apps nginx deploy created        Deployment               default         pod replicaset deployment    kubectl po rs deploy  l app nginx NAME READY STATUS RESTARTS AGE NAME DESIRED CURRENT READY AGE replicaset extensions nginx deploy 77f7d4c6b4 1 0 0 40s NAME READY UP TO DATE AVAILABLE AGE deployment extensions nginx deploy 0 1 0 0 40s      replicaset   deployment           replicaset           Pod           ServiceAccount    ServiceAccount Controller Manager               Pod       Deployment StatefulSet Job    DasemonSet          Pod            kube controller manager                  ServiceAccount                             use service account credentials true                       kubeadm                        kube controller manager                Kubernetes         ServiceAccount    kubectl serviceaccount  n kube system   egrep  o   A Za z0 9    controller  attachdetach controller calico kube controller certificate controller clusterrole aggregation controller cronjob controller daemon set controller deployment controller disruption controller endpoint controller expand controller job controller namespace controller node controller pv protection controller pvc protection controller replicaset controller replication controller resourcequota controller service account controller service controller statefulset controller ttl controller    ServiceAccount                         PodSecurityPolicy                           ServiceAccount                                              2                                    hostNetwork      Pod                             Pod     kube system           Pod                           psp restrictive yaml  apiVersion  policy v1beta1 kind  PodSecurityPolicy metadata  name  restrictive spec  privileged  false hostNetwork  false allowPrivilegeEscalation  false defaultAllowPrivilegeEscalation  false hostPID  false hostIPC  false runAsUser  rule  RunAsAny fsGroup  rule  RunAsAny seLinux  rule  RunAsAny supplementalGroups  rule  RunAsAny volumes   configMap   downwardAPI   emptyDir   persistentVolumeClaim   secret   projected  allowedCapabilities              psp       kubectl apply  f psp restrictive yaml podsecuritypolicy policy restrictive configured               Pod                       Pod                  kube proxy       hostNetwork    kubectl pods  n kube system  l k8s app kube proxy NAME READY STATUS RESTARTS AGE kube proxy 4z4vf 1 1 Running 0 18d   kubectl pods  n kube system kube proxy 4z4vf  o yaml  grep hostNetwork hostNetwork  true                         psp permissive yaml  apiVersion  policy v1beta1 kind  PodSecurityPolicy metadata  name  permissive spec  privileged  true hostNetwork  true hostIPC  true hostPID  true seLinux  rule  RunAsAny supplementalGroups  rule  RunAsAny runAsUser  rule  RunAsAny fsGroup  rule  RunAsAny hostPorts  min  0 max  65535 volumes                psp       kubectl apply  f psp permissive yaml podsecuritypolicy policy permissive configured   kubectl psp NAME PRIV CAPS SELINUX RUNASUSER FSGROUP SUPGROUP READONLYROOTFS VOLUMES permissive true RunAsAny RunAsAny RunAsAny RunAsAny false   restrictive false   RunAsAny RunAsAny RunAsAny RunAsAny false configMap downwardAPI emptyDir persistentVolumeClaim secret projected                      Kubernetes              Pod         ServiceAccount                       RBAC    RBAC       Pod              RBAC                              ClusterRoleBinding     ServiceAccount    replicaset controller                         RoleBinding                             kube system             daemonset controller    kube proxy Pod                                                                              restrictive    ClusterRole        ClusterRoleBinding  restrictive             ServiceAccount       psp restrictive rbac yaml  kind  Cluste",
        "objectID": "post/Kubernetes PSP详解",
        "date": "2019-09-15T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "psp",
            "kubeadm",
            "RBAC"
        ],
        "keywords": [
            "kubernetes",
            "RBAC",
            "psp",
            "kubeadm",
            "安全策略",
            "PodSecurityPolicy"
        ],
        "slug": "setup-psp-in-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1568397917828-25e02104303f.jpeg",
                "desc": "A wonderful morning in summer!"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes RBAC 详解",
        "uri": "post/kubernetes RBAC 详解",
        "content": "Kubernetes                  ConfigMap Secret                     Kubernetes                                                                RBAC              RBAC  rbac authorization k8s io API Group                 Kubernetes API           RBAC     apiserver        authorization mode RBAC      kubeadm      1 6            RBAC        Master     apiserver    Pod        cat  etc kubernetes manifests kube apiserver yaml       authorization mode Node RBAC                                   apiserver     RBAC API    Kubernetes                          API         CRUD Create Read Update Delete                                  Pods ConfigMaps Deployments Nodes Secrets Namespaces                    create delete list update edit watch exec            API Group        Pods   Core API Group  Deployements   apps API Group   Kubernetes   RBAC                                 Rule              API Group             Role   ClusterRole                     Rules              Role                        namespace       ClusterRole                             Role   ClusterRole  Kubernetes            API              Pod ConfigMap                                kubectl           Subject                        3          User Account                                     KeyStone   Goolge                                                            API       Group                              cluster admin Service Account        Kubernetes API              namespace                           API                                ServiceAccount             RoleBinding   ClusterRoleBinding                        Subject      Role                                       RoleBinding         namespace             ClusterRoleBinding         namespace                  RBAC                  namespace             User Account      kube system         username  haimaxy group  youdianzhishi  1                   Kubernetes   User Account   API                                                                     OpenSSL        User              cfssl           haimaxy            haimaxy key    openssl genrsa  out haimaxy key 2048                         haimaxy csr          subj           CN      O        openssl req  new  key haimaxy key  out haimaxy csr  subj   CN haimaxy O youdianzhis         Kubernetes   CA       kubeadm      CA       etc kubernetes pki                                        CA               ca crt ca key                                      500     openssl x509  req  in haimaxy csr  CA  etc kubernetes pki ca crt  CAkey  etc kubernetes pki ca key  CAcreateserial  out haimaxy crt  days 500                             ls haimaxy csr haimaxy key haimaxy crt                                      Context     kubectl config set credentials haimaxy   client certificate haimaxy crt   client key haimaxy key           haimaxy                Context    kubectl config set context haimaxy context   cluster kubernetes   namespace kube system   user haimaxy          haimaxy                           kubectl                                       kubectl pods   context haimaxy context Error server  Forbidden   pods forbidden  User  haimaxy  cannot list pods namespace  default   2                                       YAML              Deployment Pod ReplicaSets           haimaxy role yaml  apiVersion  rbac authorization k8s io v1 kind  Role metadata  name  haimaxy role namespace  kube system rules  apiGroups        extensions    apps   resources    deployments    replicasets    pods   verbs    get    list    watch    create    update    patch    delete                  Pod   core    API Group  YAML          Deployment   apps    API Group ReplicaSets  extensions   API Group                   rules     apiGroups            API Group       extensions    apps     verbs                                                               Role    kubectl create  f haimaxy role yaml                haimaxy context                3           Role                   Role        haimaxy                      RoleBinding     kube system              haimaxy role       haimaxy       haimaxy rolebinding yaml  apiVersion  rbac authorization k8s io v1 kind  RoleBinding metadata  name  haimaxy rolebinding namespace  kube system subjects  kind  User name  haimaxy apiGroup     roleRef  kind  Role name  haimaxy role apiGroup        YAML        subjects                                   User    haimaxy   kubectl             kubectl create  f haimaxy rolebinding yaml  4                 haimaxy context             kubectl pods   context haimaxy context                kubectl         namespace                                  n default        kubectl   context haimaxy context pods   namespace default Error server  Forbidden   pods forbidden  User  haimaxy  cannot list pods namespace  default                     default                        namespace  ServiceAccount                                     subjects               ServiceAccount                      kube system           pods   deployments         ServiceAccount       kubectl create sa haimaxy sa  n kube system           YAML           ",
        "objectID": "post/kubernetes RBAC 详解",
        "subtitle": "深入理解 Kubernetes RBAC 的用法",
        "date": "2018-06-22T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "RBAC"
        ],
        "keywords": [
            "kubernetes",
            "RBAC"
        ],
        "slug": "use-rbac-in-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1529579134665-75dfc9c5ccef.jpeg",
                "desc": "China"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes 下升级Prometheus2.0",
        "uri": "post/kubernetes 下升级prometheus2.0",
        "content": "prometheus2 0                                https   prometheus io blog 2017 11 08 announcing prometheus 2 0              2 0                                 kubernetes   prometheus               Kubernetes  Prometheus               yaml     github                  1 8 2       RABC           Prometheus    ServiceAccount  apiVersion  v1 kind  ServiceAccount metadata  name  prometheus namespace  kube ops apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRole metadata  name  prometheus namespace  kube ops rules  apiGroups       resources  nodes nodes proxy services endpoints pods verbs    get    list    watch   nonResourceURLs     metrics   verbs    get   apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRoleBinding metadata  name  prometheus namespace  kube ops roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  prometheus subjects  kind  ServiceAccount name  prometheus namespace  kube ops        Prometheus       2 0 0                                               storage local path  storage tsdb path     apiVersion  extensions v1beta1 kind  Deployment metadata  labels  k8s app  prometheus name  prometheus namespace  kube ops spec  replicas  1 template  metadata  labels  k8s app  prometheus spec  serviceAccountName  prometheus containers  image  prom prometheus v2 0 0 name  prometheus command    bin prometheus  args     config file  etc prometheus prometheus yml     storage tsdb path  prometheus     storage tsdb retention 15d  ports  containerPort  9090 protocol  TCP name  http volumeMounts  mountPath    prometheus  name  data subPath  prometheus data mountPath    etc prometheus  name  config volume resources  requests  cpu  100m memory  100Mi limits  cpu  200m memory  1Gi volumes  name  data persistentVolumeClaim  claimName  opspvc configMap  name  prometheus config name  config volume   args                      kubernetessdconfigs    api_servers                  apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   kubernetes apiservers  kubernetessdconfigs  role  endpoints scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token relabel_configs  sourcelabels   metakubernetesnamespace  metakubernetesservicename  metakubernetesendpointportname  action  keep regex  default kubernetes https job_name   kubernetes nodes  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics job_name   kubernetes cadvisor  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics cadvisor job_name   kubernetes node exporter  scheme  http tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  31672  targetlabel  address_          prometheus     targets            grafana               Kubernetes  Prometheus        https   github com cnych k8s repo               Kubernetes",
        "objectID": "post/kubernetes 下升级prometheus2.0",
        "date": "2017-11-22T00:00:00.000Z",
        "publishdate": "2017-11-22T00:00:00.000Z",
        "slug": "update-prometheus-2-in-kubernetes",
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana"
        ],
        "keywords": [
            "kubernetes",
            "prometheus2",
            "grafana",
            "升级"
        ],
        "bigimg": [
            {
                "src": "/img/posts/22277538_1987368801539992_4665344475080425472_n.jpg",
                "desc": "It is always a new adventure, and I am always impressed with how beautiful nature is"
            }
        ],
        "category": "kubernetes",
        "gitcomment": true
    },
    {
        "title": "kubernetes 如何发音？",
        "uri": "post/kubernetes 如何发音",
        "content": "kubernetes                       kub  netis                         github issue          https   github com kubernetes kubernetes issues 44308       kubernetes  k8s                                                                       Algorithms    A9  kubernetes   k8s     k    8     s     k8s          K8s abbreviation derived replacing 8 letters  ubernete  8",
        "objectID": "post/kubernetes 如何发音",
        "subtitle": "kubernetes 如何发音？为何缩写为 k8s？",
        "date": "2018-08-19T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "发音",
            "k8s"
        ],
        "keywords": [
            "kubernetes",
            "发音",
            "k8s"
        ],
        "slug": "kubernetes-how-to-pronunciation",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1521312793923-3d0b6e488ecd.jpeg",
                "desc": "Abandoned Boat in São Tomé"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 持久化存储(一)",
        "uri": "post/kubernetes 数据持久化(一)",
        "content": "hostPath    emptyDir                                                                         CPU                                        Kubernetes      PV   PVC                        PV      PersistentVolume                      PV                                      Ceph GlusterFS NFS                       PVC      PersistentVolumeClaim         PVC            PVC   Pod      Pod        PVC      PV    Pod      CPU       PVC                                                    PVC          PVC                                                                                   Kubernetes                 StorageClass    StorageClass                                            StorageClass                                                    NFS                      NFS                10 151 30 57     NFS          data k8s          systemctl stop firewalld service   systemctl disable firewalld service      nfs   yum  y install nfs utils rpcbind             chmod 755  data k8s     nfs nfs           etc exports                       vi  etc exports  data k8s   rw sync norootsquash         data k8s                                      IP        rw       sync               norootsquash     NFS               root                       UID   GID      nobody       nfs                                nfs     rpc    rpc                                           rpcbind   systemctl start rpcbind service   systemctl enable rpcbind   systemctl status rpcbind   rpcbind service   RPC bind service Loaded  loaded   usr lib systemd system rpcbind service  disabled  vendor preset  enabled  Active  active  running  Tue 2018 07 10 20 57 29 CST  1min 54s ago Process  17696 ExecStart  sbin rpcbind  w  RPCBIND_ARGS  code exited  status 0 SUCCESS  Main PID  17697  rpcbind  Tasks  1 Memory  1 1M CGroup   system slice rpcbind service   17697  sbin rpcbind  w Jul 10 20 57 29 master systemd 1   Starting RPC bind service    Jul 10 20 57 29 master systemd 1   Started RPC bind service        Started               nfs       systemctl start nfs service   systemctl enable nfs   systemctl status nfs   nfs server service   NFS server services Loaded  loaded   usr lib systemd system nfs server service  enabled  vendor preset  disabled  Drop In   run systemd generator nfs server service d   order with mounts conf Active  active  exited  Tue 2018 07 10 21 35 37 CST  14s ago Main PID  32067  code exited  status 0 SUCCESS  CGroup   system slice nfs server service Jul 10 21 35 37 master systemd 1   Starting NFS server services    Jul 10 21 35 37 master systemd 1   Started NFS server services       Started     NFS Server                             rpcinfo  p grep nfs 100003 3 tcp 2049 nfs 100003 4 tcp 2049 nfs 100227 3 tcp 2049 nfs_acl 100003 3 udp 2049 nfs 100003 4 udp 2049 nfs 100227 3 udp 2049 nfs_acl               cat  var lib nfs etab  data k8s   rw sync wdelay hide nocrossmnt secure norootsquash noallsquash nosubtreecheck securelocks acl nopnfs anonuid 65534 anongid 65534 sec sys secure norootsquash noallsquash          nfs server                10 151 30 62     nfs          nfs    nfs                systemctl stop firewalld service   systemctl disable firewalld service      nfs   yum  y install nfs utils rpcbind                    rpc      nfs    systemctl start rpcbind service   systemctl enable rpcbind service   systemctl start nfs service   systemctl enable nfs service                            nfs            nfs            showmount  e 10 151 30 57 Export list 10 151 30 57   data k8s                    mkdir  p  root course kubeadm data   nfs                 mount  t nfs 10 151 30 57  data k8s  root course kubeadm data                                nfs                        touch  root course kubeadm data test txt     nfs          ls  ls  data k8s  total 4 4  rw r  r    1 root root 4 Jul 10 21 50 test txt         test txt             nfs        PV       NFS                 PV   PVC   PV                                               PV       nfs         1G             ReadWriteOnce       Recyle     YAML       pv1 demo yaml  apiVersion  v1 kind  PersistentVolume metadata  name  pv1 spec  capacity  storage  1Gi accessModes  ReadWriteOnce persistentVolumeReclaimPolicy  Recycle nfs  path   data k8s server  10 151 30 57 Kubernetes     PV             Ceph GlusterFs NFS    HostPath       HostPath                               Kubernetes PV                                                                   kubectl         kubectl create  f pv1 demo yaml persistentvolume  pv1  created   kubectl pv NAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGE pv1 1Gi RWO Recycle Available 12s        pv1             Available    pv1        PVC                       Capacity               PV                 PV   capacity                            storage 1Gi           IOPS            AccessModes       AccessModes      PV                                            ReadWriteOnce RWO                   ReadOnlyMany ROX                 ReadWriteMany RWX                         PV                                                      Volume            persistentVolu",
        "objectID": "post/kubernetes 数据持久化(一)",
        "subtitle": "PV 和 PVC 的使用",
        "date": "2018-07-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "pv",
            "pvc",
            "nfs",
            "StorageClass"
        ],
        "keywords": [
            "kubernetes",
            "pv",
            "pvc",
            "nfs",
            "StorageClass",
            "持久化",
            "存储"
        ],
        "slug": "kubernetes-persistent-volume1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1531826912410-2811a685b572.jpeg",
                "desc": "Moony colors"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 持久化存储(二)",
        "uri": "post/kubernetes 数据持久化(二)",
        "content": "PV   PVC             PV                      PVC              PV                                                                            StatefulSet                PV                       PV             StorageClass     Provisioner     StorageClass                                nfs              nfs client               Provisioner                nfs                         PV        PV    namespace    pvcName    pvName            NFS                   PV       archieved   namespace    pvcName    pvName           NFS            nfs client              nfs                       10 151 30 57         data k8s            nfs client             nfs client                    Deployment                   nfs    nfs client yaml  kind  Deployment apiVersion  extensions v1beta1 metadata  name  nfs client provisioner spec  replicas  1 strategy  type  Recreate template  metadata  labels  app  nfs client provisioner spec  serviceAccountName  nfs client provisioner containers  name  nfs client provisioner image  quay io external_storage nfs client provisioner latest volumeMounts  name  nfs client root mountPath   persistentvolumes env  name  PROVISIONER_NAME value  fuseim pri ifs name  NFS_SERVER value  10 151 30 57 name  NFS_PATH value   data k8s volumes  name  nfs client root nfs  server  10 151 30 57 path   data k8s           NFSSERVER   NFSPATH             nfs                      nfs client provisioner  serviceAccount             sa             nfs client sa yaml  apiVersion  v1 kind  ServiceAccount metadata  name  nfs client provisioner kind  ClusterRole apiVersion  rbac authorization k8s io v1 metadata  name  nfs client provisioner runner rules  apiGroups       resources    persistentvolumes   verbs    get    list    watch    create    delete   apiGroups       resources    persistentvolumeclaims   verbs    get    list    watch    update   apiGroups    storage k8s io   resources    storageclasses   verbs    get    list    watch   apiGroups       resources    events   verbs    list    watch    create    update    patch   apiGroups       resources    endpoints   verbs    create    delete    get    list    watch    patch    update   kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1 metadata  name  run nfs client provisioner subjects  kind  ServiceAccount name  nfs client provisioner namespace  default roleRef  kind  ClusterRole name  nfs client provisioner runner apiGroup  rbac authorization k8s io             nfs client provisioner  ServiceAccount           nfs client provisioner runner  ClusterRole   ClusterRole              persistentvolumes                     ServiceAccount      PV      nfs client   Deployment                 StorageClass     nfs client class yaml  apiVersion  storage k8s io v1 kind  StorageClass metadata  name  course nfs storage provisioner  fuseim pri ifs   choose name  match deployment s env PROVISIONER_NAME            course nfs storage  StorageClass        provisioner           Deployment    PROVISIONER_NAME                               kubectl create  f nfs client yaml   kubectl create  f nfs client sa yaml   kubectl create  f nfs client class yaml                 kubectl pods NAME READY STATUS RESTARTS AGE     nfs client provisioner 7648b664bc 7f9pk 1 1 Running 0 7h       kubectl storageclass NAME PROVISIONER AGE course nfs storage fuseim pri ifs 11s    StorageClass    StorageClass                            PV        PVC     test pvc yaml  kind  PersistentVolumeClaim apiVersion  v1 metadata  name  test pvc spec  accessModes  ReadWriteMany resources  requests  storage  1Mi          PVC      ReadWriteMany          1Mi                 PVC              StorageClass                       PVC              PV                     PV                        StorageClass                 PV           PVC         StorageClass                annotations         kind  PersistentVolumeClaim apiVersion  v1 metadata  name  test pvc annotations  volume beta kubernetes io storage class   course nfs storage  spec  accessModes  ReadWriteMany resources  requests  storage  1Mi                course nfs storage   StorageClass   Kubernetes              kubectl patch         kubectl patch storageclass course nfs storage  p    metadata     annotations    storageclass kubernetes io is default class   true                                                          kubectl create  f test pvc yaml persistentvolumeclaim  test pvc  created   kubectl pvc NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE     test pvc Bound pvc 73b5ffd2 8b4b 11e8 b585 525400db4df7 1Mi RWX course nfs storage 2m                test pvc   PVC              Bound              VOLUME           STORAGECLASS                    StorageClass   course nfs storage        PV        kubectl pv NAME CAPACITY ACCESS MODES RECLAIM POLICY STATUS CLAIM STORAGECLASS REASON AGE     pvc 73b5ffd2 8b4b 11e8 b585 525400db4df7 1Mi RWX Delete Bound default test pvc course nfs storage 8m                       PV         RWX       Delete    PV                         StorageClass             StorageClass                                    StorageClass       PV",
        "objectID": "post/kubernetes 数据持久化(二)",
        "subtitle": "StorageClass 的使用",
        "date": "2018-07-19T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "pv",
            "pvc",
            "nfs",
            "StorageClass"
        ],
        "keywords": [
            "kubernetes",
            "pv",
            "pvc",
            "nfs",
            "StorageClass",
            "持久化",
            "存储",
            "StatefulSet"
        ],
        "slug": "kubernetes-persistent-volume2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1531902118092-4d55c50cc5fa.jpeg",
                "desc": "StorageClass"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 日志架构",
        "uri": "post/Kubernetes 日志收集",
        "content": "Kubernetes                                                                                                                                                                              stdout   stderr                             JSON                docker logs    kubectl logs                                                          Pod                                           Pod                    cluster level logging        Kubernetes                             Kubernetes                Kubernetes                                 apiVersion  v1 kind  Pod metadata  name  counter spec  containers  name  count image  busybox args    bin sh   c   i 0  true  echo   i    date    i    i 1    sleep 1  done            counter pod yaml   Pod                 Pod    kubectl create  f counter pod yaml pod  counter  created            kubectl logs             kubectl logs counter 0  Thu Dec 27 15 47 04 UTC 2018 1  Thu Dec 27 15 47 05 UTC 2018 2  Thu Dec 27 15 47 06 UTC 2018 3  Thu Dec 27 15 47 07 UTC 2018        Kubernetes      Kubernetes                          3                    agent         Pod       sidecar                                                           agent              agent                                 agent                                          agent                   DaemonSet                            agent                                                                                       stdout   stderr            sidecar                                               stdout   stderr                           JSON                   agent                                                                     sidecar                          Pod         sidecar                          stdout                                sidecar                                                     stdout    stderr           kubectl logs                 Pod                      apiVersion  v1 kind  Pod metadata  name  counter spec  containers  name  count image  busybox args   bin sh  c   i 0  true  echo   i    date       var log 1 log  echo    date  INFO  i      var log 2 log  i    i 1    sleep 1  done volumeMounts  name  varlog mountPath   var log volumes  name  varlog emptyDir        Pod                   sidecar                               stdout           YAML          two files counter pod streaming sidecar yaml  apiVersion  v1 kind  Pod metadata  name  counter spec  containers  name  count image  busybox args   bin sh  c   i 0  true  echo   i    date       var log 1 log  echo    date  INFO  i      var log 2 log  i    i 1    sleep 1  done volumeMounts  name  varlog mountPath   var log name  count log 1 image  busybox args    bin sh   c   tail  n 1  f  var log 1 log   volumeMounts  name  varlog mountPath   var log name  count log 2 image  busybox args    bin sh   c   tail  n 1  f  var log 2 log   volumeMounts  name  varlog mountPath   var log volumes  name  varlog emptyDir             Pod    kubectl create  f two files counter pod streaming sidecar yaml pod  counter  created                              kubectl logs counter count log 1 0  Mon Jan 1 00 00 00 UTC 2001 1  Mon Jan 1 00 00 01 UTC 2001 2  Mon Jan 1 00 00 02 UTC 2001       kubectl logs counter count log 2 Mon Jan 1 00 00 00 UTC 2001 INFO 0 Mon Jan 1 00 00 01 UTC 2001 INFO 1 Mon Jan 1 00 00 02 UTC 2001 INFO 2                  agent                                                                             stdout                               sidecar        agent                                                   sidecar                                      sidecar                                    Pod                        kubectl logs                  kubelet                Stackdriver    fluentd                                     ConfigMap      Kubernetes       fluentd            ConfigMap        apiVersion  v1 kind  ConfigMap metadata  name  fluentd config data  fluentd conf    type tail format none path  var log 1 log pos_file  var log 1 log pos tag count format1 type tail format none path  var log 2 log pos_file  var log 2 log pos tag count format2 type google_cloud                  var log 1 log    var log 2 log            google_cloud            Stackdriver                               fluentd             apiVersion  v1 kind  Pod metadata  name  counter spec  containers  name  count image  busybox args   bin sh  c   i 0  true  echo   i    date       var log 1 log  echo    date  INFO  i      var log 2 log  i    i 1    sleep 1  done volumeMounts  name  varlog mountPath   var log name  count agent image  k8s gcr io fluentd gcp 1 30 env  name  FLUENTD_ARGS value   c  etc fluentd config fluentd conf volumeMounts  name  varlog mountPath   var log name  config volume mountPath   etc fluentd config volumes  name  varlog emptyDir     name  config volume configMap  name  fluentd config     Pod          count agent     count                                                      fluentd    logstash fluent bit                                                                                  Kubernetes                                                   https   k",
        "objectID": "post/Kubernetes 日志收集",
        "date": "2018-12-28T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ElasticSearch",
            "fluentd"
        ],
        "slug": "kubernetes-logs-architecture",
        "keywords": [
            "kubernetes",
            "EFK",
            "ElasticSearch",
            "Kibana",
            "Fluentd",
            "架构"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/xlj4j.jpg",
                "desc": "Maple leaves"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 日志收集方案",
        "uri": "post/kubernetes 日志收集方案",
        "content": "kubernetes                     EFK                     Log Service    Log                                                                                    DT                         ELK  EFK          ElasticSearch                                                                     ES             ElasticSearch                              Kubernetes                                     Project  k8slog project       Agent           fluentd     curl http   aliacs k8s oss aliyuncs com conf 2Flogging 2Ffluentd pilot yml   fluentd pilot yml    yaml       env                FLUENTDOUTPUT      aliyunsls                  ALIYUNSLS_PROJECT                  project     ALIYUNSLSREGIONENDPOINT                                                       ALIYUNSLSACCESSKEY_ID           accesskeyid  ALIYUNSLSACCESSKEY_SECRET           accesskeysecret  ALIYUNSLSNEEDCREATE_LOGSTORE    Logstore              true         apiVersion  extensions v1beta1 kind  DaemonSet metadata  name  fluentd pilot namespace  kube system labels  k8s app  fluentd pilot kubernetes io cluster service   true  spec  template  metadata  labels  k8s app  fluentd es kubernetes io cluster service   true  version  v1 22 annotations  scheduler alpha kubernetes io critical pod     scheduler alpha kubernetes io tolerations      key    node alpha kubernetes io ismaster    effect    NoSchedule     spec  containers  name  fluentd pilot image  registry cn hangzhou aliyuncs com wangbs fluentd pilot latest resources  limits  memory  200Mi requests  cpu  100m memory  200Mi env  name   FLUENTD_OUTPUT  value   aliyun_sls  name   ALIYUNSLS_PROJECT  value   k8slog project  name   ALIYUNSLSREGIONENDPOINT  value   cn shanghai log aliyuncs com  name   ALIYUNSLSACCESSKEY_ID  value   xxxxxxx  name   ALIYUNSLSACCESSKEY_SECRET  value   xxxxxx  name   ALIYUNSLSNEEDCREATE_LOGSTORE  value   true  volumeMounts  name  sock mountPath   var run docker sock name  root mountPath   host readOnly  true terminationGracePeriodSeconds  30 volumes  name  sock hostPath  path   var run docker sock name  root hostPath  path                     kubectl ds  n kube system NAME DESIRED CURRENT READY UP TO DATE AVAILABLE NODE SELECTOR AGE fluentd pilot 4 4 4 4 4 5h           Fluentd                          aliyunlogsfluentd stdout                 fluentd           Project  Logstore     Logstore                   Logstore stdout                                    Fluentd pilot              kubedns         aliyunlogskubedns stuout     kubedns                                  EFK           Kubernetes     EFK",
        "objectID": "post/kubernetes 日志收集方案",
        "date": "2017-11-22T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ElasticSearch",
            "阿里云"
        ],
        "slug": "kubernetes-logs-collect",
        "keywords": [
            "kubernetes",
            "EFK",
            "ElasticSearch",
            "Kibana",
            "Fluentd",
            "阿里云"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23734057_146614452628759_6006637352594702336_n.jpg",
                "desc": "Cherish all moments."
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes 服务质量 Qos 解析",
        "uri": "post/kubernetes 服务质量",
        "content": "QoS  Quality Service                                    kubernetes               QoS Quality Service    pod               pod                   CPU                 kubernetes            QoS           QoS     Guaranteed Burstable   Best Effort            Guaranteed             pod       Pod             CPU      limits pod           CPU      requests   limits         requests  limits requests   0  pod            limits  containers  name  foo resources  limits  cpu  10m memory  1Gi name  bar resources  limits  cpu  100m memory  100Mi pod            requests   limits        requests  limits  containers  name  foo resources  limits  cpu  10m memory  1Gi requests  cpu  10m memory  1Gi name  bar resources  limits  cpu  100m memory  100Mi requests  cpu  100m memory  100Mi   foo bar resources requests limits     pod QoS    Guaranteed  Burstable       pod         requests limits        pod QoS  Burstable    foo   resource    bar     containers  name  foo resources  limits  cpu  10m memory  1Gi requests  cpu  10m memory  1Gi name  bar   foo     limits    bar   CPU limits  containers  name  foo resources  limits  memory  1Gi name  bar resources  limits  cpu  100m          requests    limits  limits      resource           limits    requests  requests    limits  Best Effort          Pod      resources    requests limits  pod QoS  Best Effort    foo   bar    requests limits  containers  name  foo resources  name  bar resources    QoS         Kubernetes   cgroup pod  QoS          kill      pod            OOM       OOM      0 1000 OOM      OOM_ADJ          Guaranteed    Pod OOMADJ       998   Best Effort    Pod OOMADJ      1000   Burstable    Pod OOM_ADJ     2 999     kuberntes        kubelet docker OOMADJ       999      OOM kill  OOMADJ             OOM        pod                   kill    OOM_ADJ    999   kubernetes      OOM  kill   QoS pods kill       Best Effort pods                pods     kill   Burstable pods               Best Effort          kill        pods    kill    Guaranteed pods               Burstable   Best Effort          kill        pods    kill    QoS               QoS pods       Guaranteed                                                   Guaranteed                  Burstable Best Effort",
        "objectID": "post/kubernetes 服务质量",
        "subtitle": "Pod 资源 requests 和 limits 如何配置?",
        "date": "2018-09-07T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Qos"
        ],
        "keywords": [
            "kubernetes",
            "Qos"
        ],
        "slug": "kubernetes-qos-usage",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1536236155319-1edab471917c.jpeg",
                "desc": "Studio, Warsaw"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 下实现socket.io 的集群模式",
        "uri": "post/kubernetes 集群下实现socket.io 的集群模式",
        "content": "socket io                                                                                             kubernetes          socket io                 https   github com cnych k8s socketio cluster demo                        kubernetes                     POD         socket io                  POD                                                         POD                    POD                                            Session ID                           socket io                       Nginx ip_hash            ip        hash                                         kubernetes        traefik ingress                          Nginx                                             sessionAffinity               sessionAffinity    sessionAffinity                                           kubernetes   sessionAffinity          Service       service spec sessionAffinity    ClientIP       sessionAffinity None                     ClientIP      ip_hash              traefik ingress       Service     traefik annotation  apiVersion  v1 kind  Service metadata  name  socket demo namespace  kube apps annotations  traefik backend loadbalancer stickiness   true  traefik backend loadbalancer stickiness cookieName   socket  labels  k8s app  socket demo spec  sessionAffinity   ClientIP  ports  name  socketio port  80 protocol  TCP targetPort  3000 selector  k8s app  socket demo      annotations sessionAffinity                socket io                     hostname                       IP                   sessionAffinity                                                         hostname                POD                                              socket io                multiple Socket IO nodes accepting connections  want broadcast events everyone  or even everyone certain room  you ll need passing messages processes computers    interface charge routing messages call Adapter  implement own top socket io adapter  by inheriting it  use one provide top Redis  socket io redis  var io   require  socket io   3000   var redis   require  socket io redis    io adapter redis   host   localhost   port  6379                                            socket io adapter         socket io redis        socket io redis   adapter                      const express   require  express    const socketRedis   require  socket io redis    const os   require  os    const app   express    const http   require  http   Server app   const io   require  socket io   http   const port   process env PORT    3000  app use express static __dirname     static     app engine  html   require  ejs   renderFile   app set  view engine    html    app get      function  req  res    res render  index      os   os hostname           function onConnection socket   socket on  drawing    data     socket broadcast emit  drawing   data      io adapter socketRedis  host   redis   port  6379     io on  connection   onConnection   http listen port        console log  listening port     port       kubernetes    yaml      apiVersion  extensions v1beta1 kind  Deployment metadata  name  socket demo namespace  kube apps labels  k8s app  socket demo spec  replicas  3 template  metadata  labels  k8s app  socket demo spec  containers  image  cnych socketdemo k8s imagePullPolicy  Always name  socketdemo ports  containerPort  3000 protocol  TCP resources  limits  cpu  100m memory  100Mi requests  cpu  50m memory  50Mi apiVersion  v1 kind  Service metadata  name  socket demo namespace  kube apps annotations  traefik backend loadbalancer stickiness   true  traefik backend loadbalancer stickiness cookieName   socket  labels  k8s app  socket demo spec  sessionAffinity  None ports  name  socketio port  80 protocol  TCP targetPort  3000 selector  k8s app  socket demo                                     kubernetes     socket io            traefik backend loadbalancer stickiness cookieName                                                     socket io          polling         socket io          trasports   polling    websocket     sessionAffinity   traefik  cookieName                      sessionAffinity   None     traefik annotaions       socket io redis          join leave          adapter   remoteJoin remoteLeave                                      traefik sticky sessions kubernetes service socket io docs socket io redis",
        "objectID": "post/kubernetes 集群下实现socket.io 的集群模式",
        "date": "2017-11-21T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "socket.io",
            "cluster"
        ],
        "keywords": [
            "kubernetes",
            "socket.io",
            "cluster",
            "集群",
            "nodejs"
        ],
        "slug": "socketio-multiple-nodes-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23498828_2151213871773296_819155850823204864_n.jpg",
                "desc": "A pal and a skateboard and headed outside in South Australia."
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes使用Prometheus搭建监控平台",
        "uri": "post/Kubernetes使用Prometheus搭建监控平台",
        "content": "Kubernetes                                                          Dashboard                                           Pod          Kubernetes          influxdb grafana heapster                    Prometheus         Prometheus   k8s                     Kubernetes                k8s                                       kubernetes            Prometheus    Prometheus SoundCloud                 Google           Google Kubernetes             influxdb                                                              metrics            Prometheus              Prometheus       ConfigMap      Prometheus         apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   kubernetes nodes cadvisor  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  api_servers   https   10 43 0 1  in_cluster  true role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  4194  targetlabel  address_ job_name   kubernetes apiserver cadvisor  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  api_servers   https   10 43 0 1  in_cluster  true role  apiserver relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  10255  targetlabel  address_ job_name   kubernetes node exporter  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  api_servers   https   10 43 0 1  in_cluster  true role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     sourcelabels   metakubernetes_role  action  replace targetlabel  kubernetesrole sourcelabels   address_  regex        10250  replacement     1  31672  targetlabel  address_           prometheus config yaml           kubectl create  f prometheus config yaml     job_name kubernetes apiserver cadvisor   10250     10255 10255   kubelet   metrics        curl     curl http    10255 metrics job_name kubernetes nodes cadvisor   10250     4194 4194   kubernetes           k8s 1 7      10255       1 7   cadvisor          kubelet                job_name kubernetes node exporter   10250    31672     node exporter   NodePort                    node exporter                       DaemonSet     PODS  apiVersion  extensions v1beta1 kind  DaemonSet metadata  name  node exporter namespace  kube ops labels  k8s app  node exporter spec  template  metadata  labels  k8s app  node exporter spec  containers  image  prom node exporter name  node exporter ports  containerPort  9100 protocol  TCP name  http apiVersion  v1 kind  Service metadata  labels  k8s app  node exporter name  node exporter namespace  kube ops spec  ports  name  http port  9100 nodePort  31672 protocol  TCP type  NodePort selector  k8s app  node exporter         node exporter yaml           kubectl create  f node exporter yaml      Deployment  Prometheus yaml      apiVersion  extensions v1beta1 kind  Deployment metadata  labels  name  prometheus deployment name  prometheus namespace  kube ops spec  replicas  1 template  metadata  labels  app  prometheus spec  containers  image  prom prometheus v1 0 1 name  prometheus command    bin prometheus  args    config file  etc prometheus prometheus yml    storage local path  prometheus    storage local retention 24h  ports  containerPort  9090 protocol  TCP volumeMounts  mountPath    prometheus  name  data subPath  prometheus mountPath    etc prometheus  name  config volume resources  requests  cpu  100m memory  100Mi limits  cpu  200m memory  1Gi volumes  name  data emptyDir     configMap  name  prometheus config name  config volume         prometheus deploy yaml           kubectl create  f prometheus deploy yaml              Prometheus UI        kubectl port forward           POD kubectl pod  l app prometheus  n kube ops  o go template   template    range  items     metadata name    end      kubectl port forward  POD 9090 9090         http   localhost 9090      Prometheus           ingress      yaml      apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik default ingress annotations  kubernetes io ingress class   traefik  spec  tls  secretName  traefik ssl rules  host  prometheus local           http  paths  path    backend  serviceName  prometheus servicePort  9090         prometheus ingress yaml           kubectl create  f prometheus ingress yaml          traefik                 Status   targets                   targets                            Prometheus   API ",
        "objectID": "post/Kubernetes使用Prometheus搭建监控平台",
        "slug": "kubernetes-monitor-prometheus-grafana",
        "date": "2017-10-17T00:00:00.000Z",
        "publishdate": "2017-10-17T00:00:00.000Z",
        "keywords": [
            "kubernetes",
            "监控",
            "prometheus",
            "grafana",
            "influxdb"
        ],
        "tags": [
            "kubernetes",
            "prometheus",
            "grafana",
            "influxdb"
        ],
        "bigimg": [
            {
                "src": "/img/posts/k8s-prometheus-grafana-cover.png",
                "desc": ""
            }
        ],
        "category": "kubernetes",
        "gitcomment": true
    },
    {
        "title": "Kubernetes API 资源使用",
        "uri": "post/Kubernetes的API应该用哪个组和版本",
        "content": "Kubernetes       API                                     CLI  REST API                    API                                                                       YAML       Deployment                     apiVersion  apps v1beta2 apiVersion  apps v1                                     Kubernetes             kubectl                        https   akomljen com kubernetes api resources which group and version to use  API Resources               Kubernetes        API       kubectl api resources  o wide NAME SHORTNAMES APIGROUP NAMESPACED KIND VERBS bindings true Binding  create  componentstatuses cs false ComponentStatus  get list  configmaps cm true ConfigMap  create delete deletecollection list patch update watch  endpoints ep true Endpoints  create delete deletecollection list patch update watch  events ev true Event  create delete deletecollection list patch update watch  limitranges limits true LimitRange  create delete deletecollection list patch update watch  namespaces ns false Namespace  create delete list patch update watch  nodes no false Node  create delete deletecollection list patch proxy update watch  persistentvolumeclaims pvc true PersistentVolumeClaim  create delete deletecollection list patch update watch  persistentvolumes pv false PersistentVolume  create delete deletecollection list patch update watch  pods po true Pod  create delete deletecollection list patch proxy update watch  podtemplates true PodTemplate  create delete deletecollection list patch update watch  replicationcontrollers rc true ReplicationController  create delete deletecollection list patch update watch  resourcequotas quota true ResourceQuota  create delete deletecollection list patch update watch  secrets true Secret  create delete deletecollection list patch update watch  serviceaccounts sa true ServiceAccount  create delete deletecollection list patch update watch  services svc true Service  create delete list patch proxy update watch  mutatingwebhookconfigurations admissionregistration k8s io false MutatingWebhookConfiguration  create delete deletecollection list patch update watch  validatingwebhookconfigurations admissionregistration k8s io false ValidatingWebhookConfiguration  create delete deletecollection list patch update watch  customresourcedefinitions crd apiextensions k8s io false CustomResourceDefinition  create delete deletecollection list patch update watch  apiservices apiregistration k8s io false APIService  create delete deletecollection list patch update watch  controllerrevisions apps true ControllerRevision  create delete deletecollection list patch update watch  daemonsets ds apps true DaemonSet  create delete deletecollection list patch update watch  deployments deploy apps true Deployment  create delete deletecollection list patch update watch  replicasets rs apps true ReplicaSet  create delete deletecollection list patch update watch  statefulsets sts apps true StatefulSet  create delete deletecollection list patch update watch               1 11 0        kubectl      api resources                     SHORTNAMES              deployments      deploy             kubectl     APIGROUP                              yaml       apiVersion  v1 KIND        VERBS               ClusterRole RBAC                   API    API          kubectl api resources   api group apps  o wide NAME SHORTNAMES APIGROUP NAMESPACED KIND VERBS controllerrevisions apps true ControllerRevision  create delete deletecollection list patch update watch  daemonsets ds apps true DaemonSet  create delete deletecollection list patch update watch  deployments deploy apps true Deployment  create delete deletecollection list patch update watch  replicasets rs apps true ReplicaSet  create delete deletecollection list patch update watch  statefulsets sts apps true StatefulSet                    kubectl explain                  kubectl explain configmap DESCRIPTION  ConfigMap holds configuration data pods consume  FIELDS  apiVersion APIVersion defines versioned schema representation object  Servers convert recognized schemas latest internal value  may reject unrecognized values  info  https   git k8s io community contributors devel api conventions md resources data Data contains configuration data  key consist alphanumeric characters        _       kind Kind string value representing REST resource object represents  Servers may infer endpoint client submits requests to  Cannot updated  CamelCase  info  https   git k8s io community contributors devel api conventions md types kinds metadata Standard object s metadata  info  https   git k8s io community contributors devel api conventions md metadata   kubectl explain                     YAML                                   explain         group version         api version                explain                   api version          kubectl explain replicaset   api version apps v1 API Versions                        API       kubectl api versions admissionregistration k8s io v1beta1 apiextensions k8s io v1beta1 apiregistration k8s io v1beta1 apps v1 apps v1beta1 apps v1beta2 authentication k8s io v1 authent",
        "objectID": "post/Kubernetes的API应该用哪个组和版本",
        "subtitle": "应该使用哪个 Group 和 Version?",
        "date": "2018-12-07T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "api"
        ],
        "keywords": [
            "kubernetes",
            "api",
            "Group",
            "Version"
        ],
        "slug": "k8s-api-resources-group-and-version",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1543928069-4ce45659e968.jpeg",
                "desc": "API Resource"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes ConfigMap 和 Secrets",
        "uri": "post/kubernetes的ConfigMap和Secret",
        "content": "Token                                            settings py                                                                                                                                     10            A            A             10                                                                                                     Docker       Dockerfile                                                                                          kubernetes                          Gist  https   gist github com cnych d40756ce6e03035551b6a023135a78d9 1                    WEB       TOKEN   LANGUAGE                 hardcode app py     coding  utf 8    flask import Flask  jsonify app   Flask name   app route      def index    TOKEN    abcdefg123456  LANGUAGE    English  return jsonify token TOKEN  lang LANGUAGE  name     main   app run host  0 0 0 0   port 5000             TOKEN    LANGUAGE                                BUG                                2                                                   python     os     getenv         read env app py     coding  utf 8    import os flask import Flask  jsonify app   Flask name   app route      def index    TOKEN   os getenv  TOKEN       LANGUAGE   os getenv  LANGUAGE       return jsonify token TOKEN  lang LANGUAGE  name     main   app run host  0 0 0 0   port 5000                                       Unix    MacOS Linux                                export TOKEN abcdefg0000   export LANGUAGE English    Windows             cmd                       setx TOKEN  abcdefg0000  setx LANGUAGE  English                                  flask               TOKEN abcdefg0000 LANGUAGE English python read env app py Running http   0 0 0 0 5000   Press CTRL C quit  127 0 0 1      10 Feb 2018 15 15 14   GET   HTTP 1 1  200               http   127 0 0 1 5000                  lang    English    token    abcdefg0000                         3     Docker                                                                                       Docker                     Dockerfile          ENV              python 3 6 4        RUN mkdir  p  usr src app WORKDIR  usr src app      RUN pip install flask      ADD    usr src app        ENV TOKEN abcdefg0000 ENV LANGUAGE English      EXPOSE 5000      CMD python read env app py          Dockerfile    read env app py                      docker build  t cnych envtest                  cnych envtest            docker run   name envtest   rm  p 5000 5000  it cnych envtest Running http   0 0 0 0 5000   Press CTRL C quit              e              docker run   name envtest   rm  e TOKEN abcdefg88888  e LANGUAGE English  p 5000 5000  it cnych envtest Running http   0 0 0 0 5000   Press CTRL C quit             http   127 0 0 1 5000                             lang    English    token    abcdefg88888    4     Kubernetes              Kubernetes                      Kubernetes Deployment        Docker             Deployment    A B         Deployment                 Dockerfile          Kubernetes Deployment  YAML                      Deployment             read env yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  envtest labels  name  envtest spec  replicas  1 template  metadata  labels  name  envtest spec  containers  name  envtest image  cnych envtest ports  containerPort  5000 env  name  TOKEN value   abcd123456  name  LANGUAGE value   English        POD   env                                  TOKEN   LANGUAGE         5     Kubernetes   Secrets   ConfigMap      Docker Kubernetes                                                  Deployment                     Deployment                     Kubernetes    Secrets            ConfigMap                              Secret   ConfigMap           Secret      Base64                                 API      Secret                                ConfigMap             TOKEN     Secret    kubectl create secret generic token   from literal TOKEN abcd123456000     LANGUAGE       ConfigMap    kubectl create configmap language   from literal LANGUAGE English                    Secret   ConfigMap    kubectl secret NAME TYPE DATA AGE default token 6s2bc kubernetes io service account token 3 42d token Opaque 1 1m   kubectl configmap NAME DATA AGE language 1 1m             Kubernetes Demployment   YAML     final read env yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  envtest labels  name  envtest spec  replicas  1 template  metadata  labels  name  envtest spec  containers  name  envtest image  cnych envtest ports  containerPort  5000 env  name  TOKEN valueFrom  secretKeyRef  name  token key  TOKEN name  LANGUAGE valueFrom  configMapKeyRef  name  language key  LANGUAGE           env        secret   ConfigMap      6     Secret   ConfigMap              Kubernetes                                              POD                                                   Secret    ConfigMap    kubectl create configmap language   from literal LANGUAGE Chinese  o yaml   dry run   kubectl replace  f   configmap  language  replaced   kubectl create secret generic token   from literal TOKEN bbbbb123456  o yaml   dr",
        "objectID": "post/kubernetes的ConfigMap和Secret",
        "subtitle": "快速了解 kubernetes 中 ConfigMap 和 Secrets 的用法",
        "date": "2018-02-10T00:00:00.000Z",
        "publishdate": "2017-01-18T00:00:00.000Z",
        "keywords": [
            "kubernetes",
            "ConfigMap",
            "Secretes",
            "使用"
        ],
        "tags": [
            "kubernetes",
            "ConfigMap",
            "Secretes"
        ],
        "slug": "understand-kubernetes-configmap-and-secrets",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1470328358326-dee4879da669.jpeg",
                "desc": "Forest bride in flowing dress"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "kubernetes 的资源配额控制器",
        "uri": "post/kubernetes的资源配额控制器",
        "content": "kubernetes       namespace           namespace                                               kubernetes                           ResourceQuotaController                                                                               kubernetes   3                   CPU   Memory      POD       POD               Namespace                                      Docker   CPU        POD             POD                 CPU memory    Namespace                    CPU          POD RC Service                   apiserver   admission control     ResourceQuota   namespace       ResourceQuota      namespace                            namespace           ResourceQuota     ResourceQuotaController                                                                               namespace              ResourceQuotaController                                                                                    cpu            POD     CPU                limits cpu            POD     CPU                memory            POD                     limits memory            POD                     requests cpu            POD     CPU                requests memory            POD                           cat compute resources yaml apiVersion  v1 kind  ResourceQuota metadata  name  compute resources namespace  myspace spec  hard  requests cpu   1  requests memory  1Gi limits cpu   2  limits memory  2Gi EOF   kubectl create  f compute resources yaml                ResourceQuota      kubectl describe quota compute resources  n myspace Name  compute resources Namespace  myspace Resource Used Hard limits cpu 0 2 limits memory 0 2Gi requests cpu 0 1 requests memory 0 1Gi               namespace           cpu   memory                        request       limit           Pod                         yaml            admission control      LimitRanger  apiVersion  v1 kind  LimitRange metadata  name  limits spec  limits  default  cpu  200m memory  200Mi type  Container                namespace                             Storage Class                                                                                                                       requests storage       PVC                     persistentvolumecliaims   namespace       PVC         storageclass storage k8s io requests storage       storage class name     PVC                       storageclass storage k8s io persistentvolumeclaims   namespace        storage class name     PVC                                                                                                                              configmaps   namespace        configmap         persistentvolumeclaims   namespace        PVC         pods   namespace              POD       POD   status phase   Failed   Succeeded               replicationcontrollers   namespace        replication controllers         resourcequotas   namespace        resource quotas         services   namespace       service        services loadbalancers   namespace        load balancer     service         services nodeports   namespace        node port     service         secrets   namespace        secret               cat object counts yaml apiVersion  v1 kind  ResourceQuota metadata  name  object counts namespace  myspace spec  hard  pods   40  configmaps   10  replicationcontrollers   20  secrets   10  services   10  services nodeports   2  EOF   kubectl create  f object counts yaml                      kubectl describe quota object counts  n myspace Name  object counts Namespace  myspace Resource Used Hard configmaps 0 10 pods 0 40 replicationcontrollers 0 20 secrets 1 10 services 0 10 services nodeports 0 2                      scope                                                                                                                                                              Terminating      spec activeDeadlineSeconds    0   POD     NotTerminating      spec activeDeadlineSeconds nil   POD     BestEffort          best effort       POD     NotBestEffort           best effort       POD     BestEffort                PODS Terminating  NotTerminating   NotBestEffort           cpu limits cpu limits memory memory pods requests cpu requests memory          CPU       namespace                                                                                                                      https   kubernetes io docs tasks administer cluster quota memory cpu namespace  https   kubernetes io docs tasks administer cluster quota api object                Kubernetes",
        "objectID": "post/kubernetes的资源配额控制器",
        "date": "2018-03-23T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "resource",
            "quato"
        ],
        "keywords": [
            "kubernetes",
            "resource",
            "quato",
            "资源配额"
        ],
        "slug": "kubernetes-resource-quota-usage",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1517965319782-7b911f164cc2.jpeg",
                "desc": "Alabama Hills@United States"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes 线下3天闭门集训",
        "uri": "post/Kubernetes线下培训",
        "content": "Kubernetes                                                                                                                                                Kubernetes                   Kubernetes               Docker         Kubernetes                        1     Docker   Kubernetes           2                   Kubernetes 3     Kubernetes                  4         Kubernetes    CI CD           https   jinshuju net f tQKU3u               k8s                                       kubernetes",
        "objectID": "post/Kubernetes线下培训",
        "subtitle": "Kubernetes 快速学习进阶之路",
        "date": "2019-03-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "培训",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "培训",
            "课程",
            "线下"
        ],
        "slug": "k8s-offline-training",
        "gitcomment": true,
        "category": "kubernetes",
        "draft": true
    },
    {
        "title": "Kubernetes 网络故障常见排查方法",
        "uri": "post/Kubernetes网络故障排查",
        "content": "Kubernetes                                          Kubernetes                                                                                                          Kubernetes                            Kubernetes       Netfilter             IP                  IP       IP forward   bridge   IP forward IP forward                                   Linux                                                                                         Pod         connect 10 100 225 223 port 5000 failed  Connection timed Failed connect 10 100 225 223 port 5000  Connection timed Closing connection 0 curl   7  Failed connect 10 100 225 223 port 5000  Connection timed Tcpdump            SYN         ACK          ipv4 forwarding      sysctl net ipv4 ip_forward 0        net ipv4 ip_forward   0      will turn things back live server sysctl  w net ipv4 ip_forward 1 Centos will setting apply reboot echo net ipv4 ip_forward 1     etc sysconf d 10 ipv4 forwarding on conf       sysctl  p    bridge netfilter       iptables       Linux Bridges         Docker   Kubernetes              Linux                                  Pod                                     host unreachable   connection refused           bridge netfilter      sysctl net bridge bridge nf call iptables 0       net bridge bridge nf call iptables   0      Note distributions may compiled kernel  check cat  lib modules   uname  r  modules builtin   grep netfilter modprobe br_netfilter      iptables    sysctl  w net bridge bridge nf call iptables 1 echo net bridge bridge nf call iptables 1     etc sysconf d 10 bridge nf call iptables conf sysctl  p       Kubernetes                             IP                             Kubernetes         VxLan Overlay        IP         UDP    8472                       100          ping 10 244 1 4 PING 10 244 1 4  10 244 1 4   56 data bytes  C    10 244 1 4 ping statistics     5 packets transmitted  0 packets received  100  packet loss                                                   UDP     iperf                   iperf  s  p 8472  u        iperf  c 172 28 128 103  u  p 8472  b 1K                                    iptables          https   serverfault com questions 696182 debugging iptables and common firewall pitfalls Pod CIDR    Kubernetes                     Overlay          Pod              IP                               Kubernetes              Pod                              Pod   Pod                   curl http   172 28 128 132 5000 curl   7  Failed connect 172 28 128 132 port 5000  No route host              Pod IP       kubectl pods  o wide NAME READY STATUS RESTARTS AGE IP NODE netbox 2123814941 f7qfr 1 1 Running 4 21h 172 28 27 2 172 28 128 103 netbox 2123814941 ncp3q 1 1 Running 4 21h 172 28 21 3 172 28 128 102 testbox 2460950909 5wdr4 1 1 Running 3 21h 172 28 128 132 172 28 128 101       IP    apiserver     kubernetes           ip addr list 3  eth1  mtu 1500 qdisc pfifo_fast state group default qlen 1000 link ether 52 54 00 2c 6c 50 brd ff ff ff ff ff ff inet 172 28 128 103 24 brd 172 28 128 255 scope global eth1 validlft forever preferredlft forever inet6 fe80  5054 ff fe2c 6c50 64 scope link validlft forever preferredlft forever           IP                                         VLAN   VPC                      CNI     kubelet  pod cidr      IP                                                tcpdump Tcpdump                                         tcpdump                                        kubectl exec  ti testbox 2460950909 5wdr4     bin bash   curl http   172 28 21 3 5000 curl   7  Failed connect 172 28 21 3 port 5000  No route host                                IP          tcpdump  i host 172 28 21 3 tcpdump  verbose output suppressed  use  v  vv full protocol decode listening any  link type LINUX_SLL  Linux cooked   capture size 262144 bytes 20 15 59 903566 IP 172 28 128 132 60358   172 28 21 3 5000  Flags  S   seq 3042274422  win 28200  options  mss 1410 sackOK TS val 10056152 ecr 0 nop wscale 7   length 0 20 15 59 903566 IP 172 28 128 132 60358   172 28 21 3 5000  Flags  S   seq 3042274422  win 28200  options  mss 1410 sackOK TS val 10056152 ecr 0 nop wscale 7   length 0 20 15 59 905481 ARP  Request who has 172 28 21 3 tell 10 244 27 0  length 28 20 16 00 907463 ARP  Request who has 172 28 21 3 tell 10 244 27 0  length 28 20 16 01 909440 ARP  Request who has 172 28 21 3 tell 10 244 27 0  length 28 20 16 02 911774 IP 172 28 128 132 60358   172 28 21 3 5000  Flags  S   seq 3042274422  win 28200  options  mss 1410 sackOK TS val 10059160 ecr 0 nop wscale 7   length 0 20 16 02 911774 IP 172 28 128 132 60358   172 28 21 3 5000  Flags  S   seq 3042274422  win 28200  options  mss 1410 sackOK TS val 10059160 ecr 0 nop wscale 7   length 0                                 IP            tcpdump              http   bencane com 2014 10 13 quick and practical reference for tcpdump  Netbox                                                         iproute2 net tools ethtool library python 3 3 RUN apt get update    apt get  y install iproute2 net tools ethtool nano CMD    usr bin python     m    SimpleHTTPServer    5000            Deployme",
        "objectID": "post/Kubernetes网络故障排查",
        "date": "2019-04-27T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "iptables",
            "Netfilter",
            "tcpdump"
        ],
        "keywords": [
            "kubernetes",
            "Netfilter",
            "网络",
            "Linux",
            "iptables",
            "tcpdump",
            "防火墙"
        ],
        "slug": "troubleshooting-k8s-network",
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes翻船事故汇总",
        "uri": "post/Kubernetes翻船事故汇总",
        "content": "GitHub           Kubernetes       Kubernetes                                        Service Mesh                         Kubernetes                                        SRE Ops              Kubernetes                      Kubernetes                30                       GKE                    DNS                   https   k8s af     Kubernetes                         Kubernetes      10     9          Datadog   KubeCon Barcelona 2019 https   www youtube com watch v QKI JRs2RIE    CoreDNS ndots 5 IPVS conntrack imagePullPolicy  Always DaemonSet NAT        API   OOMKill kube2iam cluster autoscaler PodPriority      spec replicas AWS ASG     CronJob Pod    zombies readinessProbe exec cgroup freeze kubectl    unknown AP server    pending pod deployments      Spotify Accidentally Deleted its Kube Clusters No User Impact   Spotify   KubeCon Barcelona 2019 involved  GKE  cluster deletion  browser tabs  Terraform  global state file  git PRs  GCP permissions impact  no impact end users",
        "objectID": "post/Kubernetes翻船事故汇总",
        "date": "2019-04-27T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "iptables",
            "Netfilter",
            "tcpdump"
        ],
        "keywords": [
            "kubernetes",
            "Netfilter",
            "网络",
            "Linux",
            "iptables",
            "tcpdump",
            "防火墙"
        ],
        "slug": "troubleshooting-k8s-network",
        "gitcomment": true,
        "notoc": true,
        "draft": true,
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes 调度器介绍",
        "uri": "post/kubernetes调度器介绍",
        "content": "kube scheduler  kubernetes                                          Pod                                             kubernetes                                                         kube scheduler                                                        Pod                                       kubernetes                      Pod                                                    kube scheduler   kubernetes                              Pod        Node                            API Server     PodSpec NodeName     Pod     Pod        binding                                                                                                                                    Pod                                                     kubernetes                                                     kubernetes       kubernetes          kubernetes pkg scheduler                                   kubernetes pkg scheduler    scheduler go                 algorithm       predicates                priorities              algorithmprovider       defaults               Scheduler                   pkg scheduler scheduler go      kube scheduler             cmd kube scheduler scheduler go                                          Predicates                          Priorities                                     Predicates                                               Node                                 Pod        Pending                                                   Pod      Pending                                        Priorities                                           priorites                           Pod                                         API Server   REST API    kubectl      Pod    API Server                 etcd            API Server       bind   Pod             Pod                                   Predicates                         Node       Pod        request         Pod                        Priorities                       Node                            Deployment       Pod                                             Node     Pod    binding             etcd            Node       kubelet        Pod         Predicates                          PodFitsResources              Pod       PodFitsHost    Pod     NodeName           NodeName    PodFitsHostPorts          port     Pod     port    PodSelectorMatches      Pod     label        NoDiskConflict     mount    volume   Pod      volume               CheckNodeDiskPressure                 CheckNodeMemoryPressure                                                  k8s io kubernetes pkg scheduler algorithm predicates predicates go   Priorities                                                         LeastRequestedPriority      CPU                                                  Pod           SelectorSpreadPriority                 Deployment    RC       Pod                      Pod               Pod     controller       controller         Pod    Pod           ImageLocalityPriority                                       NodeAffinityPriority                                                                        k8s io kubernetes pkg scheduler algorithm priorities                      0 10                                                     finalScoreNode    weight1   priorityFunc1     weight2   priorityFunc2         weightn   priorityFuncn             kube scheduler                                            kube scheduler             policy config file                            Predicates Priority                                                        Policy          kind     Policy    apiVersion     v1    predicates        name     PodFitsHostPorts      name     PodFitsResources      name     NoDiskConflict      name     NoVolumeZoneConflict      name     MatchNodeSelector      name     HostName       priorities        name     LeastRequestedPriority    weight    1     name     BalancedResourceAllocation    weight    1     name     ServiceSpreadingPriority    weight    1     name     EqualPriority    weight    1                                                                podSpec schedulerName                          apiVersion  v1 kind  Pod metadata  name  nginx labels  app  nginx spec  schedulerName  my scheduler              my scheduler containers  name  nginx image  nginx 1 10                            my scheduler            API       Pod     phase Pending schedulerName my scheduler pod      Pod                    Binding                                                       Priorities                                 pod priority     Pod            Pod                          Pod        Pod               Pod           PriorityClass         Namespace      apiVersion  v1 kind  PriorityClass metadata  name  high priority value  1000000 globalDefault  false description   This priority class used XYZ service pods only       value  32                    globalDefault      PriorityClassName   Pod            PriorityClass      true       Pod  spec priorityClassName       PriorityClass      apiVersion  v1 kind  Pod metadata  name  nginx labels  app  nginx spec  containers  name  nginx ima",
        "objectID": "post/kubernetes调度器介绍",
        "subtitle": "kubernetes 核心组件 kube-scheduler 调度流程和策略分析",
        "date": "2018-10-11T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "scheduler",
            "调度"
        ],
        "keywords": [
            "kubernetes",
            "scheduler",
            "亲和性",
            "调度",
            "affinity"
        ],
        "slug": "kube-scheduler-introduction",
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "在现有 Kubernetes 集群上安装 KubeSphere",
        "uri": "post/kubesphere安装",
        "content": "KubeSphere   Kubernetes                                                                                           Kubernetes                                                                                                                                       KubeSphere                                     Kubernetes                            Kubernetes       KubeSphere            KubeSphere                   kubeadm     Kubernetes 1 15 2      Helm v2 14 1       NFS                     https   github com kubesphere ks installer                 StorageClass         StorageClass                 apiVersion  storage k8s io v1 kind  StorageClass metadata  name  dynamic data annotations  storageclass kubernetes io is default class   true  provisioner  fuseim pri ifs    annotations     storageclass kubernetes io is default class   true          kubectl sc NAME PROVISIONER AGE dynamic data  default  fuseim pri ifs 4h41m              Clone   Kubernetes      master               master             1             kubesphere system   kubesphere monitoring system  namespace    cat          ca crt   ca key        kubeadm              etc kubernetes pki    kubectl  n kubesphere system create secret generic kubesphere ca     from file ca crt  etc kubernetes pki ca crt     from file ca key  etc kubernetes pki ca key 3   etcd  secret           etcd          etcd            secret   kubectl  n kubesphere monitoring system create secret generic kube etcd client certs     from file etcd client ca crt  etc kubernetes pki etcd ca crt     from file etcd client crt  etc kubernetes pki etcd healthcheck client crt     from file etcd client key  etc kubernetes pki etcd healthcheck client key           kubeadm                etcd            cat  etc kubernetes manifests etcd yaml        livenessProbe  exec  command   bin sh  ec ETCDCTL_API 3 etcdctl   endpoints https    127 0 0 1  2379   cacert  etc kubernetes pki etcd ca crt   cert  etc kubernetes pki etcd healthcheck client crt   key  etc kubernetes pki etcd healthcheck client key foo                   etcd          4           KubeSphere                                                          1 openldap             ks account        openldap                       openldap                     rm  cannot remove   container service slapd assets config bootstrap ldif readonly user   Directory not empty rm  cannot remove   container service slapd assets config bootstrap schema mmc   Directory not empty rm  cannot remove   container service slapd assets config replication   Directory not empty rm  cannot remove   container service slapd assets config tls   Directory not empty    container run startup slapd failed status 1            roles ks core prepare templates ks account init yaml j2     openldap    Deployment              copy service        image     openldaprepo       openldaptag    imagePullPolicy  IfNotPresent args              copy service name  openldap          2              metricsserver           metricsserver_enable     False   3          Waitting ks sonarqube port become open         NodePort          sonarqube                                        sonarqube_enable     False   4        istio                              istio           istio             KubeSphere            deploy kubesphere yaml  apiVersion  v1 data  ks config yaml    kubeapiserverhost  10 151 30 11 6443 etcdtlsenable  True etcdendpointips  10 151 30 11 disableMultiLogin  True elk_prefix  logstash metricsserverenable  False sonarqube_enable  False istio_enable  False kind  ConfigMap metadata  name  kubesphere config namespace  kubesphere system              ConfigMap         kubeapiserverhost         APIServer    etcdendpointips    etcd       IP       2379          etcd            IP                        False                 kubectl apply  f deploy kubesphere yaml   kubectl pods  n kubesphere system NAME READY STATUS RESTARTS AGE ks account 575d4fd8f r5476 1 1 Running 0 44m ks apigateway 5c56f79976 jxmd4 1 1 Running 0 44m ks apiserver 5d56bc8976 678hj 1 1 Running 0 41m ks console 75b6cb84c ldsn7 1 1 Running 0 42m ks console 75b6cb84c pzqcx 1 1 Running 0 42m ks controller manager 78bfd56fbf dtcg2 1 1 Running 0 43m ks docs 65bd89559b 58lpp 1 1 Running 0 3h16m kubesphere installer x7q8z 0 1 Completed 0 45m openldap 5bd67c84c6 gw8f5 1 1 Running 0 114m redis 6cf6fc98b5 nsqfn 1 1 Running 0 3h19m                                                                Job                            kubectl logs  n kubesphere system   kubectl pod  n kubesphere system  l job name kubesphere installer  o jsonpath    items 0  metadata name     f           Job            KubeSphere                    Ingress       KubeSphere  kubesphere ingress yaml    apiVersion  extensions v1beta1 kind  Ingress metadata  name  kubesphere namespace  kubesphere system annotations  kubernetes io ingress class  nginx spec  rules  host  ks qikqiak com http  paths  path  backend  serviceName  ks console servicePort  80           kubectl create  f kubesphere ingress yaml                                     admin    P 88w0rd KubeSphere                           ",
        "objectID": "post/kubesphere安装",
        "date": "2019-08-13T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "devops",
            "KubeSphere",
            "istio"
        ],
        "keywords": [
            "kubernetes",
            "drone",
            "CI",
            "CD",
            "github",
            "动态",
            "helm"
        ],
        "slug": "install-kubesphere-on-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1558981420-c532902e58b4.jpeg",
                "desc": "https://unsplash.com/photos/AyH9hAmiX9Y"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "使用 Kustomize 配置 Kubernetes 应用",
        "uri": "post/Kustomize的使用",
        "content": "Kubernetes                                    Helm Helm                    tiller                             Helm Chart                      go template               Docker   Kubernetes                           Kustomize             Kustomize                       kubectl 1 14                                    kubectl                              Helm          Kustomize   Kubernetes                                                            Docker                                                                                                  Git                                                      Mac            brew            brew install kustomize                          Release                 PATH                                https   github com Kubernetes sigs kustomize           Kustomize           yaml                             base        k8s base                                                                 kubectl apply  f   k8s base                        Service   Deployment                          service yaml       apiVersion  v1 kind  Service metadata  name  sl demo app spec  ports  name  http port  8080 selector  app  sl demo app deployment yaml       apiVersion  apps v1 kind  Deployment metadata  name  sl demo app spec  selector  matchLabels  app  sl demo app template  metadata  labels  app  sl demo app spec  containers  name  app image  foo bar latest ports  name  http containerPort  8080 protocol  TCP                 kustomization yaml     apiVersion  kustomize config k8s io v1beta1 kind  Kustomization resources  service yaml deployment yaml                                    kubectl apply  f   k8s base      kustomization yaml                     validate false                                                           kubectl apply  k k8s base service sl demo app created deployment apps sl demo app created                           kustomize build     kubectl apply  k       kubectl kustomize               kubectl 1 14            kustomize    kustomize build                               kustomize build k8s base apiVersion  v1 kind  Service metadata  name  sl demo app spec  ports  name  http port  8080 selector  app  sl demo app apiVersion  apps v1 kind  Deployment metadata  name  sl demo app spec  selector  matchLabels  app  sl demo app template  metadata  labels  app  sl demo app spec  containers  image  foo bar latest name  app ports  containerPort  8080 name  http protocol  TCP                                                        Kustomize                                               k8s overlays prod         kustomzization yaml            apiVersion  kustomize config k8s io v1beta1 kind  Kustomization bases        base                     tree       k8s     base       deployment yaml       kustomization yaml       service yaml     overlays     prod     kustomization yaml                        base            kustomzie build k8s overlays prod apiVersion  v1 kind  Service metadata  name  sl demo app spec  ports  name  http port  8080 selector  app  sl demo app apiVersion  apps v1 kind  Deployment metadata  name  sl demo app spec  selector  matchLabels  app  sl demo app template  metadata  labels  app  sl demo app spec  containers  image  foo bar latest name  app ports  containerPort  8080 name  http protocol  TCP           prod                   base                                                                                      kustomization yaml                              custom env yaml  apiVersion  apps v1 kind  Deployment metadata  name  sl demo app spec  template  spec  containers  name  app    1  env  name  CUSTOMENVVARIABLE value  Value defined Kustomize          1        name        kustomize                    yaml                                               k8s overlays prod kustomization yaml       apiVersion  kustomize config k8s io v1beta1 kind  Kustomization bases        base patchesStrategicMerge  custom env yaml                           kustomize build k8s overlays prod apiVersion  v1 kind  Service metadata  name  sl demo app spec  ports  name  http port  8080 selector  app  sl demo app apiVersion  apps v1 kind  Deployment metadata  name  sl demo app spec  selector  matchLabels  app  sl demo app template  metadata  labels  app  sl demo app spec  containers  env  name  CUSTOMENVVARIABLE value  Value defined Kustomize    image  foo bar latest name  app ports  containerPort  8080 name  http protocol  TCP         env                        env        deployment yaml                                                             base                                         YAML                       replica and rollout strategy yaml             apiVersion  apps v1 kind  Deployment metadata  name  sl demo app spec  replicas  10 strategy  rollingUpdate  maxSurge  1 maxUnavailable  1 type  RollingUpdate        kustomization yaml    patchesStrategicMerge             apiVersion  kustomize config k8s io v1beta1 kind  Kustomization bases        base patchesStrategicMerge  custom env yaml replica and rollout strategy yaml           kustomize build             kustomize build k",
        "objectID": "post/Kustomize的使用",
        "date": "2019-08-16T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "helm",
            "kustomize"
        ],
        "keywords": [
            "kubernetes",
            "helm",
            "kustomize",
            "模板"
        ],
        "slug": "kustomize-101",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1565780421727-543646cefafb.jpeg",
                "desc": "Out of a foggy and windless Hindmarsh Island sunrise"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Mac 下安装 cryptography 失败",
        "uri": "post/Mac 下安装 cryptography 失败问题",
        "content": "Mac    cryptography            openssl opensslv h  file not found       pip install cryptography     building  _openssl  extension cc  fno strict aliasing  fno common  dynamic  arch i386  arch x8664  g  Os  pipe  fno common  fno strict aliasing  fwrapv  DENABLEDTRACE  DMACOSX  DNDEBUG  Wall  Wstrict prototypes  Wshorten 64 to 32  DNDEBUG  g  fwrapv  Os  Wall  Wstrict prototypes  DENABLEDTRACE  arch i386  arch x8664  pipe  I System Library Frameworks Python framework Versions 2 7 include python2 7  c build temp macosx 10 12 intel 2 7 openssl c  o build temp macosx 10 12 intel 2 7 build temp macosx 10 12 intel 2 7 openssl o build temp macosx 10 12 intel 2 7 _openssl c 434 10  fatal error   openssl opensslv h  file not found  include   1 error generated  error  command  cc  failed exit status 1            openssl         brew          brew install openssl                                       openssl         env LDFLAGS   L  brew   prefix openssl  lib  CFLAGS   I  brew   prefix openssl  include  pip install cryptography",
        "objectID": "post/Mac 下安装 cryptography 失败问题",
        "date": "2018-07-05T00:00:00.000Z",
        "tags": [
            "mac",
            "python"
        ],
        "keywords": [
            "mac",
            "python",
            "pip",
            "cryptography"
        ],
        "slug": "install-cryptography-failed-in-mac",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1530636100082-7781dfaa6ab3.jpeg",
                "desc": "Eagle on the Way"
            }
        ],
        "category": "python"
    },
    {
        "title": "Memcached的一些坑!!!",
        "uri": "post/Memcached的一些坑",
        "content": "django                                     502                                                                                                   API   15             API                                      API             2M   Memcache          value                                 Memcached          Memcached      item                 Memcached          2G                    Memcached     30                           REALTIME_MAXDELTA 606024 30        250               KEYMAXLENGTH 250                  item     1MB   1MB         POWER_BLOCK 1048576          slab                 I 10m            128M         200   conn_init    freetotal            1024   settings maxconns 1024                 settings factor 1 25  settings chunk_size 48    slab           memcached       socket         libevent                       memcached                                        memcached                                                          item           10m                                                                              1m                        memcached       C              memcached  d  m 2048  l 10 0 0 40  p 11211  d  memcached             m                    M  2048  2 G     l     IP         localhost  p           11211",
        "objectID": "post/Memcached的一些坑",
        "date": "2014-05-28T00:00:00.000Z",
        "tags": [
            "django",
            "Memcached"
        ],
        "slug": "some-pits-of-memcached",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Nginx中如何设置301跳转",
        "uri": "post/nginx中设置301跳转",
        "content": "www                    SEO                                                DNS                     dnspod                                                        301   301      302        nginx        nginx   301       server   listen 80  server_name kuaidiantv com www kuaidiantv com  index index html    host     www kuaidiantv com      rewrite         http   www kuaidiantv com  1 permanent           http   atulhost com 301 redirect in nginx",
        "objectID": "post/nginx中设置301跳转",
        "date": "2016-02-27T21:21:00.000Z",
        "tags": [
            "ops",
            "nginx",
            "301"
        ],
        "slug": "nginx-301-redirect",
        "category": "ops",
        "gitcomment": true
    },
    {
        "title": "Kubernetes Operator 快速入门教程",
        "uri": "post/Operator 快速入门教程",
        "content": "Kubernetes                 Promethues Operator                     Prometheus                        Pod Deployment    Prometheus Operator       CoreOS                Operator Framework                   Operator                                 Operator Framework         Operator     Kubernetes Operator Operator    CoreOS          Kubernetes API                                             Operator    Kubernetes                                    Operator     CRD            Kubernetes 1 7                                                                        Kubernetes         Operator      Kubernetes API                                       Pods Services                Operator Framework Operator Framework      CoreOS             Operator                    Operator SDK          Kubernetes API                       Operator     Operator Lifecycle Manager OLM                        Operator            Workflow Operator SDK                Operator  1     SDK        Operator    2            CRD        API 3       SDK API   watch     4     Operator     reconcile    5     Operator SDK       Operator        Demo              Webserver   Kubernetes                 Deployment             Service       Pod   label             Ingress    type NodePort     Service                                                 CRD                                                                 Deployment   Service                            Deployment   Service                      AppService   CRD                         apiVersion  app example com v1 kind  AppService metadata  name  nginx app spec  size  2 image  nginx 1 7 9 ports  port  80 targetPort  80 nodePort  30002           AppService            2  Pod      nodePort 30002                                   Operator                   Operator    Kubernetes             Golang                        Go            dep    Operator SDK      dep                         https   github com golang dep               dep                                                            operator sdk operator sdk                 github                   PATH                 clone                  Mac            brew           brew install operator sdk          operator sdk version operator sdk version  v0 7 0   go version go version go1 11 4 darwin amd64         sdk    v0 7 0              https   github com operator framework operator sdk blob master doc user install operator sdk md                          operator sdk                    operator sdk new             CRD                           mkdir  p operator learning         GOPATH      cd operator learning    export GOPATH  PWD   mkdir  p  GOPATH src github com cnych   cd  GOPATH src github com cnych    sdk        opdemo   operator      operator sdk new opdemo                                          cd opdemo    tree  L 2       Gopkg lock     Gopkg toml     build       Dockerfile       _output       bin     cmd       manager     deploy       crds       operator yaml       role yaml       role_binding yaml       service_account yaml     pkg       apis       controller     vendor       cloud google com       contrib go opencensus io       github com       go opencensus io       go uber org       golang org       google golang org       gopkg in       k8s io       sigs k8s io     version     version go 23 directories  8 files          Operator                  operator sdk new       Operator                          Gopkg toml Gopkg lock   Go Dep           Operator       cmd      main go       operator sdk API          Operator      deploy           Kubernetes             Kubernetes         pkg apis         API        CRD             sdk   CRD                             pkg controller                    vendor   golang vendor                           go dep                  pkg      api         controller        API                    API                    Operator                  operator sdk add api   api version app example com v1   kind AppService                                            API               API       Controller                     operator sdk add controller   api version app example com v1   kind AppService      Operator                                 API      pkg apis app v1 appservice_types go                    AppServiceSpec                  size image ports                                 type AppServiceSpec struct      INSERT ADDITIONAL SPEC FIELDS   desired state cluster    Important  Run  operator sdk generate k8s  regenerate code modifying file    Add custom validation using kubebuilder tags  https   book kubebuilder io beyondbasics generatingcrd html Size  int32 json  size  Image string json  image  Resources corev1 ResourceRequirements json  resources omitempty  Envs   corev1 EnvVar json  envs omitempty  Ports   corev1 ServicePort json  ports omitempty                                                     import   appsv1  k8s io api apps v1  corev1  k8s io api core v1  appv1  github com cnych opdemo pkg apis app v1  metav1  k8s io apimachinery pkg apis meta v1        resources envs ports            k8s io api core v1      ",
        "objectID": "post/Operator 快速入门教程",
        "subtitle": "Kubernetes Operator 101",
        "date": "2019-05-29T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "operator",
            "101"
        ],
        "slug": "k8s-operator-101",
        "keywords": [
            "kubernetes",
            "operator",
            "101",
            "教程"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1559160581-44bd4222d397.jpeg",
                "desc": "https://unsplash.com/photos/S2Q5mdOrrVc"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Pod 中挂载单个文件的方法",
        "uri": "post/Pod 中挂载单个文件的方法",
        "content": "Pod   volume                                                                                     subPath subPath         Pod        volume                ConfigMap      Nginx        1         nginx conf user nginx  worker_processes 1  error_log  var log nginx error log warn  pid  var run nginx pid  events   worker_connections 1024    http   include  etc nginx mime types  default_type application octet stream  logformat main   remoteaddr    remoteuser   timelocal    request      status  bodybytessent   http_referer       httpuseragent    httpxforwarded_for    access_log  var log nginx access log main  sendfile on   tcp_nopush on  keepalive_timeout 65   gzip on  include  etc nginx conf d   conf    2       ConfigMap      kubectl create configmap confnginx   from file nginx conf 3      nginx   Pod       configmap    nginx conf          nginx yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  ngtest spec  template  metadata  labels  app  nginx spec  containers  name  nginx image  nginx 1 7 9 ports  containerPort  80 volumeMounts  name  nginx config mountPath   etc nginx nginx conf subPath  nginx conf volumes  name  nginx config configMap  name  confnginx 4      Deployment    kubectl apply  f nginx yaml 5              Pod                  kubectl pods NAME READY STATUS RESTARTS AGE     ngtest 7df9b74f98 btlgp 1 1 Running 0 19m                  nginx conf       kubectl exec  it ngtest 7df9b74f98 btlgp  bin bash root ngtest 7df9b74f98 btlgp    ls  etc nginx  conf d koi utf mime types scgi_params win utf fastcgiparams koi win nginx conf uwsgiparams root ngtest 7df9b74f98 btlgp    cat  etc nginx nginx conf user nginx  worker_processes 1  error_log  var log nginx error log warn  pid  var run nginx pid  events   worker_connections 1024    http   include  etc nginx mime types  default_type application octet stream  logformat main   remoteaddr    remoteuser   timelocal    request      status  bodybytessent   http_referer       httpuseragent    httpxforwarded_for    access_log  var log nginx access log main  sendfile on   tcp_nopush on  keepalive_timeout 65  gzip on  include  etc nginx conf d   conf         nginx conf           ConfigMap              6           subPath                 t Model   os ModeDir       subPath                                       func doBindSubPath mounter Interface  subpath Subpath  kubeletPid int   hostPath string  err error           Create target bind mount  directory directories  empty file    everything else  t  err    os Lstat subpath Path  err    nil   return     fmt Errorf  lstat  s failed   s   subpath Path  err    t Mode     os ModeDir   0   err   os Mkdir bindPathTarget  0750   err    nil     os IsExist err    return     fmt Errorf  error creating directory  s   s   bindPathTarget  err      else        bin touch       file enough possible targets  symlink  device  pipe     socket        bind mounting file correctly changes type    target file  err   ioutil WriteFile bindPathTarget    byte    0640   err    nil   return     fmt Errorf  error creating file  s   s   bindPathTarget  err                          Kubernetes",
        "objectID": "post/Pod 中挂载单个文件的方法",
        "date": "2018-07-24T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod",
            "nginx",
            "configmap"
        ],
        "slug": "pod-mount-single-file",
        "keywords": [
            "kubernetes",
            "Pod",
            "nginx",
            "configmap",
            "subPath",
            "volume"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1532339142463-fd0a8979791a.jpeg",
                "desc": "Chilling in Georgia"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Pod 工作流",
        "uri": "post/pod 工作流程",
        "content": "Pod Kubernetes               Pod              Pod                                   Kubernetes   apiserver           etcd               apiserver        etcd       apiserver                REST API       8080         6443                  apiserver        kube controller manager kube scheduler kubelet   apiserver watch API                              apiserver                    apiserver REST API apiserver watch API     Pod           Pod                   Pod                 Pod                        apiserver REST API    Pod   apiserver            etcd    kube scheduler  apiserver watch API                      Pod        Pod     Node         kube scheduler                      Node     Pod    Node            etcd             Node    kubelet  apiserver watch API        Pod           Pod                 container runtime    Docker        Pod   kubelet    container runtime  Pod         apiserver           etcd            Pod                               apiserver watch API kube scheduler",
        "objectID": "post/pod 工作流程",
        "date": "2018-05-15T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod"
        ],
        "keywords": [
            "kubernetes",
            "Pod",
            "workflow",
            "工作流"
        ],
        "slug": "pod-workflow",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1497864149936-d3163f0c0f4b.jpeg",
                "desc": "Coloured pencils"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "初始化容器",
        "uri": "post/Pod 的初始化容器",
        "content": "liveness probe        readiness probe                                                       PostStart   PreStop              Init Container         Init Container                                                     Init Container                    Pod                        Init Container                        Init Container                                                       PreStart           Init Container                                         PostStart PreStop  liveness readiness                 Init Container                  Pod                   Init Container                           Pod      infra                                  Pod      Docker            Pod        pause amd64           infra       Pod                                        Pod                         Pod             infra                                                 Init Container                                 Ready                           Web                                Web                                              Web                           Web     Pod      InitContainer                                                    Web                                                                                                   Pod                                                 Pod      apiVersion  v1 kind  Pod metadata  name  init pod1 labels  app  init spec  containers  name  init container image  busybox command    sh     c    echo app running     sleep 3600   initContainers  name  init myservice image  busybox command    sh     c    until nslookup myservice  echo waiting myservice  sleep 2  done    name  init mydb image  busybox command    sh     c    until nslookup mydb  echo waiting mydb  sleep 2  done               Pod     init pod yaml    kubectl create  f init pod yaml pod  init pod  created   kubectl pod NAME READY STATUS RESTARTS AGE init pod 0 1 Init 0 2 0 26s         STATUS   Init 0 2      describe            kubectl describe pod init pod Name  init pod Namespace  default Node  node01 10 151 30 62 Start Time  Wed  30 May 2018 06 39 51  0800 Labels  app init Annotations  Status  Pending IP  10 244 1 23 Init Containers  init myservice  Container ID  docker   99cf46f0fab3841fe7725b386567d03dbd2f427cff5098116a7e3dafb9830b44 Image  busybox Image ID  docker pullable   busybox sha256 141c253bc4c3fd0a201d32dc1f493bcf3fff003b6df416dea4f41046e0f37d47 Port  Host Port  Command  sh  c until nslookup myservice  echo waiting myservice  sleep 2  done  State  Running Started  Wed  30 May 2018 06 40 03  0800 Ready  False Restart Count  0 Environment  Mounts   var run secrets kubernetes io serviceaccount default token n9w2d  ro  init mydb  Container ID  Image  busybox Image ID  Port  Host Port  Command  sh  c until nslookup mydb  echo waiting mydb  sleep 2  done  State  Waiting Reason  PodInitializing Ready  False Restart Count  0 Environment  Mounts   var run secrets kubernetes io serviceaccount default token n9w2d  ro  Containers  main container  Container ID  Image  busybox Image ID  Port  Host Port  Command  sh  c echo app running     sleep 3600 State  Waiting Reason  PodInitializing Ready  False Restart Count  0 Environment  Mounts   var run secrets kubernetes io serviceaccount default token n9w2d  ro  Conditions  Type Status Initialized False Ready False PodScheduled True Volumes  default token n9w2d  Type  Secret  a volume populated Secret  SecretName  default token n9w2d Optional  false QoS Class  BestEffort Node Selectors  Tolerations  node kubernetes io not ready NoExecute 300s node kubernetes io unreachable NoExecute 300s Events  Type Reason Age Message                               Normal Scheduled 1m default scheduler Successfully assigned init pod node01 Normal SuccessfulMountVolume 1m kubelet  node01 MountVolume SetUp succeeded volume  default token n9w2d  Normal Pulling 1m kubelet  node01 pulling image  busybox  Normal Pulled 1m kubelet  node01 Successfully pulled image  busybox  Normal Created 1m kubelet  node01 Created container Normal Started 1m kubelet  node01 Started container     myservice        init mydb main container    PodInitializing             myservice        init mydb main container           init mydb     main container        Service   YAML    kind  Service apiVersion  v1 metadata  name  myservice spec  ports  protocol  TCP port  80 targetPort  6376 kind  Service apiVersion  v1 metadata  name  mydb spec  ports  protocol  TCP port  80 targetPort  6377    Pod                                                                             Pod restartPolicy                 Pod   restartPolicy     Always Init          RestartPolicy                     Pod      Ready          Pod  Pending          Initializing    true                        Pod  apiVersion  v1 kind  Pod metadata  name  init demo spec  containers  name  nginx image  nginx ports  containerPort  80 volumeMounts  name  workdir mountPath   usr share nginx html initContainers  name  install image  busybox command  wget   O    work dir index html  http   www baidu com volumeMounts  name  workdir mountPath    work dir  volumes  name  workdir emptyDir ",
        "objectID": "post/Pod 的初始化容器",
        "subtitle": "Pod Init Container 详解",
        "date": "2018-05-29T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker"
        ],
        "keywords": [
            "kubernetes",
            "docker"
        ],
        "slug": "pod-init-container",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1520406625550-148d283f3620.jpeg",
                "desc": "Init Container"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus Operator 自定义报警",
        "uri": "post/Prometheus Operator 自定义报警",
        "content": "ServiceMonitor                                   PrometheusRule               ServiceMonitor                                  Prometheus Dashboard   Alert                                                                                   Prometheus           AlertManager         rules           Operator            Prometheus Dashboard   Config          AlertManager      alerting  alertrelabelconfigs  separator    regex  prometheus_replica replacement   1 action  labeldrop alertmanagers  kubernetessdconfigs  role  endpoints namespaces  names  monitoring scheme  http path_prefix    timeout  10s relabel_configs  sourcelabels   metakubernetesservicename  separator    regex  alertmanager main replacement   1 action  keep sourcelabels   metakubernetesendpointport_name  separator    regex  web replacement   1 action  keep rule_files   etc prometheus rules prometheus k8s rulefiles 0   yaml    alertmanagers                   endpoints   kubernetes                     alertmanager main      web   Service          alertmanager main    Service  kubectl describe svc alertmanager main  n monitoring Name  alertmanager main Namespace  monitoring Labels  alertmanager main Annotations  kubectl kubernetes io last applied configuration   apiVersion   v1   kind   Service   metadata    annotations      labels    alertmanager   main    name   alertmanager main   namespace   monitoring       Selector  alertmanager main app alertmanager Type  NodePort IP  10 104 156 29 Port  web 9093 TCP TargetPort  web TCP NodePort  web 31918 TCP Endpoints  10 244 2 34 9093 10 244 2 37 9093 10 244 4 109 9093 Session Affinity  None External Traffic Policy  Cluster Events            alertmanager main Port         web            Prometheus   AlertManager                         etc prometheus rules prometheus k8s rulefiles 0         YAML           Prometheus   Pod              YAML       kubectl exec  it prometheus k8s 0  bin sh  n monitoring Defaulting container name prometheus  Use  kubectl describe pod prometheus k8s 0  n monitoring  containers pod   prometheus   ls  etc prometheus rules prometheus k8s rulefiles 0  monitoring prometheus k8s rules yaml  prometheus   cat  etc prometheus rules prometheus k8s rulefiles 0 monitoring pr ometheus k8s rules yaml groups  name  k8s rules rules  expr    sum rate containercpuusagesecondstotal job  kubelet   image      container_name      5m     namespace  record  namespace containercpuusagesecondstotal sum_rate           YAML                  PrometheusRule          cat prometheus rules yaml apiVersion  monitoring coreos com v1 kind  PrometheusRule metadata  labels  prometheus  k8s role  alert rules name  prometheus k8s rules namespace  monitoring spec  groups  name  k8s rules rules  expr    sum rate containercpuusagesecondstotal job  kubelet   image      container_name      5m     namespace  record  namespace containercpuusagesecondstotal sum_rate       PrometheusRule   name   prometheus k8s rules namespace   monitoring               PrometheusRule               prometheus k8s rulefiles 0              yaml                                 PrometheusRule              Prometheus        PrometheusRule                   prometheus                      ruleSelector      rule               prometheus k8s   role alert rules     PrometheusRule              ruleSelector  matchLabels  prometheus  k8s role  alert rules                           prometheus k8s   role alert rules     PrometheusRule                  etcd              etcd                                      etcd                     prometheus etcdRules yaml  apiVersion  monitoring coreos com v1 kind  PrometheusRule metadata  labels  prometheus  k8s role  alert rules name  etcd rules namespace  monitoring spec  groups  name  etcd rules  alert  EtcdClusterUnavailable annotations  summary  etcd cluster small description  one etcd peer goes down cluster will unavailable expr    count up job  etcd      0     count up job  etcd      2   1  for  3m labels  severity  critical    label          prometheus k8s   role alert rules                    rules      kubectl exec  it prometheus k8s 0  bin sh  n monitoring Defaulting container name prometheus  Use  kubectl describe pod prometheus k8s 0  n monitoring  containers pod   prometheus   ls  etc prometheus rules prometheus k8s rulefiles 0  monitoring etcd rules yaml monitoring prometheus k8s rules yaml           rule              rulefiles                           Prometheus Dashboard   Alert                                                                                      AlertManager                         Operator     alertmanager                             alertmanager main    Service    NodePort     Service                status        AlertManager                          prometheus operator contrib kube prometheus manifests        alertmanager secret yaml     apiVersion  v1 data  alertmanager yaml  Imdsb2JhbCI6IAogICJyZXNvbHZlX3RpbWVvdXQiOiAiNW0iCiJyZWNlaXZlcnMiOiAKLSAibmFtZSI6ICJudWxsIgoicm91dGUiOiAKICAiZ3JvdXBfYnkiOiAKICAtICJqb2IiCiAgImdyb3VwX2ludGVydmFsIjogIjVtIgogICJncm91cF93YWl0IjogIjMwcyIKICAicmVjZWl2ZXIiOiAibnVsbCI",
        "objectID": "post/Prometheus Operator 自定义报警",
        "date": "2018-12-19T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "operator",
            "alertmanager"
        ],
        "slug": "prometheus-operator-custom-alert",
        "keywords": [
            "kubernetes",
            "prometheus",
            "operator",
            "alertmanager",
            "prometheus-operator",
            "钉钉"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/izvuk.jpg",
                "desc": ""
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus Operator 高级配置",
        "uri": "post/Prometheus Operator 高级配置",
        "content": "Prometheus Operator                                                          Kubernetes          Service Pod                      ServiceMonitor                                         Prometheus Operator                                                                      Prometheus Operator             prometheus io scrape true   annotations   Service         Prometheus        job_name   kubernetes service endpoints  kubernetessdconfigs  role  endpoints relabel_configs  sourcelabels   metakubernetesserviceannotationprometheusio_scrape  action  keep regex  true sourcelabels   metakubernetesserviceannotationprometheusio_scheme  action  replace targetlabel  scheme_ regex   https   sourcelabels   metakubernetesserviceannotationprometheusio_path  action  replace targetlabel  metricspath regex       sourcelabels   address  _metakubernetesserviceannotationprometheusioport  action  replace targetlabel  address_ regex          d      d   replacement   1  2 action  labelmap regex  metakubernetesservicelabel     sourcelabels   metakubernetes_namespace  action  replace targetlabel  kubernetesnamespace sourcelabels   metakubernetesservicename  action  replace targetlabel  kubernetesname                               Kubernetes                         Service        Service  annotation    prometheus io scrape true               prometheus additional yaml                 Secret       kubectl create secret generic additional configs   from file prometheus additional yaml  n monitoring secret  additional configs  created               Prometheus Operator   contrib kube prometheus manifests                        base64       prometheus additional yaml    key           kubectl secret additional configs  n monitoring  o yaml apiVersion  v1 data  prometheus additional yaml  LSBqb2JfbmFtZTogJ2t1YmVybmV0ZXMtc2VydmljZS1lbmRwb2ludHMnCiAga3ViZXJuZXRlc19zZF9jb25maWdzOgogIC0gcm9sZTogZW5kcG9pbnRzCiAgcmVsYWJlbF9jb25maWdzOgogIC0gc291cmNlX2xhYmVsczogW19fbWV0YV9rdWJlcm5ldGVzX3NlcnZpY2VfYW5ub3RhdGlvbl9wcm9tZXRoZXVzX2lvX3NjcmFwZV0KICAgIGFjdGlvbjoga2VlcAogICAgcmVnZXg6IHRydWUKICAtIHNvdXJjZV9sYWJlbHM6IFtfX21ldGFfa3ViZXJuZXRlc19zZXJ2aWNlX2Fubm90YXRpb25fcHJvbWV0aGV1c19pb19zY2hlbWVdCiAgICBhY3Rpb246IHJlcGxhY2UKICAgIHRhcmdldF9sYWJlbDogX19zY2hlbWVfXwogICAgcmVnZXg6IChodHRwcz8pCiAgLSBzb3VyY2VfbGFiZWxzOiBbX19tZXRhX2t1YmVybmV0ZXNfc2VydmljZV9hbm5vdGF0aW9uX3Byb21ldGhldXNfaW9fcGF0aF0KICAgIGFjdGlvbjogcmVwbGFjZQogICAgdGFyZ2V0X2xhYmVsOiBfX21ldHJpY3NfcGF0aF9fCiAgICByZWdleDogKC4rKQogIC0gc291cmNlX2xhYmVsczogW19fYWRkcmVzc19fLCBfX21ldGFfa3ViZXJuZXRlc19zZXJ2aWNlX2Fubm90YXRpb25fcHJvbWV0aGV1c19pb19wb3J0XQogICAgYWN0aW9uOiByZXBsYWNlCiAgICB0YXJnZXRfbGFiZWw6IF9fYWRkcmVzc19fCiAgICByZWdleDogKFteOl0rKSg OjpcZCspPzsoXGQrKQogICAgcmVwbGFjZW1lbnQ6ICQxOiQyCiAgLSBhY3Rpb246IGxhYmVsbWFwCiAgICByZWdleDogX19tZXRhX2t1YmVybmV0ZXNfc2VydmljZV9sYWJlbF8oLispCiAgLSBzb3VyY2VfbGFiZWxzOiBbX19tZXRhX2t1YmVybmV0ZXNfbmFtZXNwYWNlXQogICAgYWN0aW9uOiByZXBsYWNlCiAgICB0YXJnZXRfbGFiZWw6IGt1YmVybmV0ZXNfbmFtZXNwYWNlCiAgLSBzb3VyY2VfbGFiZWxzOiBbX19tZXRhX2t1YmVybmV0ZXNfc2VydmljZV9uYW1lXQogICAgYWN0aW9uOiByZXBsYWNlCiAgICB0YXJnZXRfbGFiZWw6IGt1YmVybmV0ZXNfbmFtZQo  kind  Secret metadata  creationTimestamp  2018 12 20T14 50 35Z name  additional configs namespace  monitoring resourceVersion   41814998  selfLink   api v1 namespaces monitoring secrets additional configs uid  9bbe22c5 0466 11e9 a777 525400db4df7 type  Opaque            prometheus                     prometheus prometheus yaml  apiVersion  monitoring coreos com v1 kind  Prometheus metadata  labels  prometheus  k8s name  k8s namespace  monitoring spec  alerting  alertmanagers  name  alertmanager main namespace  monitoring port  web baseImage  quay io prometheus prometheus nodeSelector  beta kubernetes io os  linux replicas  2 secrets  etcd certs resources  requests  memory  400Mi ruleSelector  matchLabels  prometheus  k8s role  alert rules securityContext  fsGroup  2000 runAsNonRoot  true runAsUser  1000 additionalScrapeConfigs  name  additional configs key  prometheus additional yaml serviceAccountName  prometheus k8s serviceMonitorNamespaceSelector     serviceMonitorSelector     version  v2 5 0            prometheus    CRD         kubectl apply  f prometheus prometheus yaml prometheus monitoring coreos com  k8s  configured            Prometheus   Dashboard              Prometheus Dashboard                                    targets                      Prometheus   Pod       kubectl logs  f prometheus k8s 0 prometheus  n monitoring level error ts 2018 12 20T15 14 06 772903214Z caller main go 240 component k8sclientruntime err  github com prometheus prometheus discovery kubernetes kubernetes go 302  Failed list  v1 Pod  pods forbidden  User   system serviceaccount monitoring prometheus k8s   cannot list pods cluster scope  level error ts 2018 12 20T15 14 06 773096875Z caller main go 240 component k8sclientruntime err  github com prometheus prometheus discovery kubernetes kubernetes go 301  Failed list  v1 Service  services forbidden  User   system serviceaccount monitoring prometheus k8s   cannot list services cluster scope  level error ts 2018 12 20T15 14 06 773212629Z",
        "objectID": "post/Prometheus Operator 高级配置",
        "subtitle": "Prometheus Operator 自动发现以及数据持久化",
        "date": "2018-12-20T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "operator",
            "storageclass"
        ],
        "slug": "prometheus-operator-advance",
        "keywords": [
            "kubernetes",
            "prometheus",
            "operator",
            "alertmanager",
            "prometheus-operator",
            "钉钉",
            "持久化",
            "自动发现"
        ],
        "gitcomment": true,
        "notoc": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/xb4u8.jpg",
                "desc": ""
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus 删除数据指标",
        "uri": "post/Prometheus删除数据指标",
        "content": "Prometheus                                 Prometheus            HTTP API                      API                  Prometheus           web enable admin api                  Kubernetes Pod                    command    bin prometheus  args     config file  etc prometheus prometheus yml     storage tsdb path  prometheus     storage tsdb retention 24h     web enable admin api       admin HTTP API                     web enable lifecycle              localhost 9090   reload               Prometheus Operator                                Staefulset                           API                                     curl  X POST  g  http   localhost 9090 api v1 admin tsdb deleteseries match    kubernetesname  redis        localhost         Prometheus                         kubernetes_name  redis                  job      instance                     curl  X POST  g  http   localhost 9090 api v1 admin tsdb delete_series match    job  kubernetes service endpoints      curl  X POST  g  http   localhost 9090 api v1 admin tsdb delete_series match    instance  10 244 2 158 9090       Prometheus                      curl  X POST  g  http   localhost 9090 api v1 admin tsdb deleteseries match    name_                     API                                                       storage tsdb retention             Prometheus       15",
        "objectID": "post/Prometheus删除数据指标",
        "date": "2018-12-29T00:00:00.000Z",
        "tags": [
            "Prometheus"
        ],
        "slug": "prometheus-delete-metrics",
        "keywords": [
            "Prometheus",
            "删除",
            "数据指标",
            "metrics"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/opd8s.jpg",
                "desc": "kiss"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus报警AlertManager实战",
        "uri": "post/Prometheus报警AlertManager实战",
        "content": "Kubernetes  Prometheus                Prometheus            grafana                          grafana       grafana            Prometheus                      AlertManager                Kubernetes                k8s                                       kubernetes            AlertManager    Prometheus                       Prometheus Servers           AlertManger      AlertManager             silencing inhibition           email PagerDuty HipChat Slack             AlertManager           3        AlertManger   Prometheus  AlertManager    Prometheus             AlertManager      https   prometheus io docs alerting configuration          alertmanager                        alertmanager  config file simple yml      config file                kubernetes          AlertManager        docker                quay io prometheus alertmanager v0 12 0                         AlertManager               docker           ConfigMap            kind  ConfigMap apiVersion  v1 metadata  name  alertmanager namespace  kube ops data  config yml     global  resolve_timeout  5m route  receiver  webhook group_wait  30s group_interval  5m repeat_interval  4h group_by   alertname  routes  receiver  webhook group_wait  10s match  team  node receivers  name  webhook webhook_configs  url   http   apollo hooks dingtalk   send_resolved  true url   http   apollo hooks prome   send_resolved  true          webhook              email                                                       token URL             URL          Prometheus  AlertManager         Prometheus ConfigMap   AlertManager     alerting  alertmanagers  static_configs  targets    localhost 9093            Prometheus AlertManager      POD   AlertManager      9093       localhost 9093           Prometheus                        rule_files   etc prometheus rules yml   rule_files                 rules yml ConfigMap       etc prometheus        rules yml    groups  name  test rule rules  alert  NodeFilesystemUsage expr   nodefilesystemsize device  rootfs     nodefilesystemfree device  rootfs      nodefilesystemsize device  rootfs     100   80 for  2m labels  team  node annotations  summary      labels instance    High Filesystem usage detected  description      labels instance    Filesystem usage above 80   current value is      value     alert  NodeMemoryUsage expr   nodememoryMemTotal    nodememoryMemFree nodememoryBuffers nodememoryCached      nodememoryMemTotal   100   80 for  2m labels  team  node annotations  summary      labels instance    High Memory usage detected  description      labels instance    Memory usage above 80   current value is      value     alert  NodeCPUUsage expr   100    avg  instance   irate node_cpu job  kubernetes node exporter  mode  idle   5m      100     80 for  2m labels  team  node annotations  summary      labels instance    High CPU usage detected  description      labels instance    CPU usage above 80   current value is      value            3                         CPU          80      label team node receiver   alertmanager                       webhook  receiver         POST        HOOK                                         3     inactive             firing     pending   pending                    firing                           expr      graph                       Prometheus                     ConfigMap      cm yaml  apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s rule_files   etc prometheus rules yml alerting  alertmanagers  static_configs  targets    localhost 9093   scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   kubernetes apiservers  kubernetessdconfigs  role  endpoints scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token relabel_configs  sourcelabels   metakubernetesnamespace  metakubernetesservicename  metakubernetesendpointportname  action  keep regex  default kubernetes https job_name   kubernetes nodes  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics job_name   kubernetes cadvisor  scheme  https tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node relabel_configs  action  labelmap regex  metakubernetesnodelabel     targetlabel  address_ replacement  kubernetes default svc 443 sourcelabels   metakubernetesnodename  regex       targetlabel  metricspath replacement   api v1 nodes   1  proxy metrics cadvisor job_name   kubernetes node exporter  scheme  http tls_config  ca_file   var run secr",
        "objectID": "post/Prometheus报警AlertManager实战",
        "date": "2017-12-27T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "alertmanager"
        ],
        "keywords": [
            "kubernetes",
            "prometheus",
            "alertmanager",
            "报警",
            "钉钉",
            "webhook"
        ],
        "slug": "alertmanager-of-prometheus-in-practice",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1512389142860-9c449e58a543.jpeg",
                "desc": ""
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus Operator 初体验",
        "uri": "post/Promethues Operator 的安装使用",
        "content": "Kubernetes                     Prometheus AlertManager                                            Prometheus          Kubernetes                                                   Prometheus Operator     Operator Operator  CoreOS           Kubernetes API                                             Operator   Kubernetes                                              Operator                         Operator    CRD              CRD   Kubernetes API     Kubernetes            API            YAML        spec    Kubernetes                       Kubernetes            kubectl     Operator                        Kubernetes                    CoreOS       Operator                 Prometheus Operator Operator          Kubernetes                                                                   Operator                Prometheus Operator                   Prometheus Operator         Prometheus Operator           Operator                     Prometheus ServiceMonitor AlertManager  PrometheusRule4 CRD                4               prometheus          Prometheus Server    ServiceMonitor  exporter      exporter                   metrics        Prometheus    ServiceMonitor   metrics      pull       alertmanager           AlertManager     PrometheusRule    Prometheus                                       Kubernetes                        Service   ServiceMonitor    Kubernetes        ServiceMonitor      labelSelector          Service Prometheus       labelSelector      ServiceMonitor              Prometheus Operator                 Helm                                    Clone       git clone https   github com coreos kube prometheus git   cd manifests   ls 00namespace namespace yaml node exporter clusterRole yaml 0prometheus operator 0alertmanagerCustomResourceDefinition yaml node exporter daemonset yaml                    https   github com coreos prometheus operator tree master contrib kube prometheus        git     https   github com coreos kube prometheus git     manifests                                     prometheus serviceMonitorKubelet yaml                    ServiceMonitor      kubelet  10250                          metrics        10255                     https metrics   http metrics       Prometheus Operator                                  Subsets    v1 EndpointSubset    Ports    v1 EndpointPort    Name   https metrics   Port  10250       Name   http metrics   Port  10255       Name   cadvisor   Port  4194                                           kubectl apply  f                monitoring  namespace                       Operator      4  CRD         kubectl crd  grep coreos alertmanagers monitoring coreos com 5d prometheuses monitoring coreos com 5d prometheusrules monitoring coreos com 5d servicemonitors monitoring coreos com 5d     monitoring             Pod    alertmanager   prometheus    StatefulSet                    prometheus operator   Pod                       kubectl pods  n monitoring NAME READY STATUS RESTARTS AGE alertmanager main 0 2 2 Running 0 21h alertmanager main 1 2 2 Running 0 21h alertmanager main 2 2 2 Running 0 21h grafana df9bfd765 f4dvw 1 1 Running 0 22h kube state metrics 77c9658489 ntj66 4 4 Running 0 20h node exporter 4sr7f 2 2 Running 0 21h node exporter 9mh2r 2 2 Running 0 21h node exporter m2gkp 2 2 Running 0 21h prometheus adapter dc548cc6 r6lhb 1 1 Running 0 22h prometheus k8s 0 3 3 Running 1 21h prometheus k8s 1 3 3 Running 1 21h prometheus operator bdf79ff67 9dc48 1 1 Running 0 21h       Service    kubectl svc  n monitoring NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE alertmanager main ClusterIP 10 110 204 224 9093 TCP 23h alertmanager operated ClusterIP None 9093 TCP 6783 TCP 23h grafana ClusterIP 10 98 191 31 3000 TCP 23h kube state metrics ClusterIP None 8443 TCP 9443 TCP 23h node exporter ClusterIP None 9100 TCP 23h prometheus adapter ClusterIP 10 107 201 172 443 TCP 23h prometheus k8s ClusterIP 10 107 105 53 9090 TCP 23h prometheus operated ClusterIP None 9090 TCP 23h prometheus operator ClusterIP None 8080 TCP 23h          grafana   prometheus           ClusterIP   Service                               Ingress        NodePort     Service               NodePort            grafana   prometheus k8s     Service          NodePort    kubectl edit svc grafana  n monitoring   kubectl edit svc prometheus k8s  n monitoring   kubectl svc  n monitoring NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE grafana NodePort 10 98 191 31 3000 32333 TCP 23h prometheus k8s NodePort 10 107 105 53 9090 30166 TCP 23h                                      prometheus   targets                                               kube controller manager   kube scheduler             ServiceMonitor                 kube scheduler       ServiceMonitor        prometheus serviceMonitorKubeScheduler yaml  apiVersion  monitoring coreos com v1 kind  ServiceMonitor metadata  labels  k8s app  kube scheduler name  kube scheduler namespace  monitoring spec  endpoints  interval  30s    30s       port  http metrics     service     jobLabel  k8s app namespaceSelector                 service        namespace    any  true matchNames  kube system ",
        "objectID": "post/Promethues Operator 的安装使用",
        "date": "2018-12-11T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "operator"
        ],
        "slug": "first-use-prometheus-operator",
        "keywords": [
            "kubernetes",
            "prometheus",
            "operator",
            "安装",
            "prometheus-operator"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1544436595-18448ba66450.jpeg",
                "desc": "Cold lake"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Prometheus Operator 监控 etcd 集群",
        "uri": "post/Promethues Operator 监控 etcd",
        "content": "Prometheus Operator                        Prometheus Operator                  Kubernetes                                                                                   ServiceMonitor       Prometheus            ServiceMonitor      metrics         Service          Service           metrics                     etcd            Kubernetes          Kubeadm          etcd                                          etcd       etcd                  https               Prometheus     etcd                                      Kubeadm              kubectl       etcd                 kubectl pods  n kube system NAME READY STATUS RESTARTS AGE etcd master 1 1 Running 0 2h   kubectl pod etcd master  n kube system  o yaml        spec  containers  command  etcd   peer cert file  etc kubernetes pki etcd peer crt   listen client urls https   127 0 0 1 2379   advertise client urls https   127 0 0 1 2379   client cert auth true   peer client cert auth true   data dir  var lib etcd   cert file  etc kubernetes pki etcd server crt   key file  etc kubernetes pki etcd server key   trusted ca file  etc kubernetes pki etcd ca crt   peer key file  etc kubernetes pki etcd peer key   peer trusted ca file  etc kubernetes pki etcd ca crt image  k8s gcr io etcd amd64 3 1 12 imagePullPolicy  IfNotPresent livenessProbe  exec  command   bin sh  ec ETCDCTL_API 3 etcdctl   endpoints 127 0 0 1 2379   cacert  etc kubernetes pki etcd ca crt   cert  etc kubernetes pki etcd healthcheck client crt   key  etc kubernetes pki etcd healthcheck client key foo failureThreshold  8 initialDelaySeconds  15 periodSeconds  10 successThreshold  1 timeoutSeconds  15 name  etcd resources     terminationMessagePath   dev termination log terminationMessagePolicy  File volumeMounts  mountPath   var lib etcd name  etcd data mountPath   etc kubernetes pki etcd name  etcd certs        tolerations  effect  NoExecute operator  Exists volumes  hostPath  path   var lib etcd type  DirectoryOrCreate name  etcd data hostPath  path   etc kubernetes pki etcd type  DirectoryOrCreate name  etcd certs               etcd               etc kubernetes pki etcd                          secret              etcd          kubectl  n monitoring create secret generic etcd certs   from file  etc kubernetes pki etcd healthcheck client crt   from file  etc kubernetes pki etcd healthcheck client key   from file  etc kubernetes pki etcd ca crt secret  etcd certs  created                   etcd                      secret                  etcd certs       prometheus            prometheus           kubectl edit prometheus k8s  n monitoring       secrets     nodeSelector  beta kubernetes io os  linux replicas  2 secrets  etcd certs              Prometheus   Pod           etcd                   Pod        kubectl exec  it prometheus k8s 0  bin sh  n monitoring Defaulting container name prometheus  Use  kubectl describe pod prometheus k8s 0  n monitoring  containers pod      ls  etc prometheus secrets etcd certs  ca crt healthcheck client crt healthcheck client key    ServiceMonitor    Prometheus    etcd                   ServiceMonitor      prometheus serviceMonitorEtcd yaml  apiVersion  monitoring coreos com v1 kind  ServiceMonitor metadata  name  etcd k8s namespace  monitoring labels  k8s app  etcd k8s spec  jobLabel  k8s app endpoints  port  port interval  30s scheme  https tlsConfig  caFile   etc prometheus secrets etcd certs ca crt certFile   etc prometheus secrets etcd certs healthcheck client crt keyFile   etc prometheus secrets etcd certs healthcheck client key insecureSkipVerify  true selector  matchLabels  k8s app  etcd namespaceSelector  matchNames  kube system       monitoring             etcd k8s   ServiceMonitor                     kube system             k8s app etcd    label     Service jobLabel        job                     endpoints             etcd       endpoints                    relabel proxyUrl tlsConfig                 tls         serverName   etcd                 insecureSkipVerify true      ServiceMonitor               https   github com coreos prometheus operator blob master Documentation api md             ServiceMonitor       kubectl create  f prometheus serviceMonitorEtcd yaml servicemonitor monitoring coreos com  etcd k8s  created    Service ServiceMonitor                     Service                  Service    prometheus etcdService yaml   apiVersion  v1 kind  Service metadata  name  etcd k8s namespace  kube system labels  k8s app  etcd spec  type  ClusterIP clusterIP  None ports  name  port port  2379 protocol  TCP apiVersion  v1 kind  Endpoints metadata  name  etcd k8s namespace  kube system labels  k8s app  etcd subsets  addresses  ip  10 151 30 57 nodeName  etc master ports  name  port port  2379 protocol  TCP         Service          label          Pod                       etcd                              Endpoints     metadata         Service      Service   clusterIP     None                        Service        Endpoints   subsets     etcd                                Service       kubectl create  f prometheus etcdService yaml             Prometheus   Dashboard     target",
        "objectID": "post/Promethues Operator 监控 etcd",
        "date": "2018-12-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus",
            "operator",
            "etcd"
        ],
        "slug": "prometheus-operator-monitor-etcd",
        "keywords": [
            "kubernetes",
            "prometheus",
            "operator",
            "etcd",
            "prometheus-operator"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/jdu4o.jpg",
                "desc": ""
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "用python处理csv文件",
        "uri": "post/python处理csv文件",
        "content": "CSV            Sublime Text  EXCEL   python            csv    csv         csv                             import csv def readcsvfile path   open path   rb   f    r     b        reader   csv reader f  row reader  print row f close     csv                                                                          csv                                               import csv def readcsvdata path   data_lines      open path   rb   f  reader   csv reader f  fields   reader next                  row reader  items   dict zip fields  row   data_lines append items  f close   return data_lines   csv      csv                   csv         import csv def writecsvfile path  open path   wb   f    w     b       writer   csv writer f  writer writerow   name    address    age      writerow        data        ych    china   25       Lily    USA    24    writer writerows data    writerows        f close     csv",
        "objectID": "post/python处理csv文件",
        "date": "2015-05-05T00:00:00.000Z",
        "tags": [
            "python",
            "csv"
        ],
        "slug": "python-process-csv-file",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "Python 虚拟环境全知道",
        "uri": "post/python虚拟环境全知道",
        "content": "python                                                      python           python2 7    python3 6     python                                                 python                       virtualenv   python     pyenv             docker virtualenv   pip install virtualenv    virtualenv        easy_install            Python       pip         virtualenv py   python virtualenv py                           pip                   virtualenv    pip         pip install virtualenv Collecting virtualenv Using cached virtualenv 15 1 0 py2 py3 none any whl Installing collected packages  virtualenv Successfully installed virtualenv 15 1 0                      virtualenv          virtualenv env4test                           source env4test bin activate  env4test                                 env4test       django2 0   env4test   pip install django                        deactivate      pip list          django      virtualenv                     virtualenvwrapper virtualenvwrapper virtualenv                  virtualenv                                                                  pip install virtualenvwrapper                             virtualenvwrapper sh          usr local bin virtualenvwrapper sh    sudo find    name virtualenvwrapper sh Password   usr local bin virtualenvwrapper sh         zshrc             zsh         source  usr local bin virtualenvwrapper sh               source    zshrc          virtualenvwrapper               mkvirtualenv            rmvirtualenv            workon            deactivate        workon  lsvirtualenv  b      https   virtualenvwrapper readthedocs io en latest  pyenv pyenv Python              Python          Pytho        Python                                 sudo    pyenv             Python         virtualenv    Python           Python                                 MAC       homebrew       brew update   brew install pyenv                  pyenv                curl  L https   raw githubusercontent com pyenv pyenv installer master bin pyenv installer   bash                  zshrc         bashrc                          export PATH  HOME  pyenv bin  PATH eval    pyenv init     eval    pyenv virtualenv init                    source    zshrc          pyenv         Python      pyenv versions   system  set  Users ych  pyenv version  3 6 4 3 6 4 envs ops3 6 4 3 6 4 envs talk3 6 4 ops3 6 4 talk3 6 4            Python            Python      pyenv install  l          pyenv install 2 7 3     python   pyenv uninstall 2 7 3     python         pyenv global 2 7 3   pyenv local 2 7 3 global       Python              pyenv version      local                        python version               Python      global   python    shell   local   global pyenv               python version                  global      pyenv shell 2 7 3        shell   Python           shell   PYENV_VERSION                   local   global        pyenv shell   unset    unset          shell        pyenv virtualenv     pyenv               pyenv virtualenv        virtualenv        ls  la    pyenv plugins total 8 drwxr xr x 9 ych staff 288 12 26 16 27   drwxr xr x 23 ych staff 736 12 26 17 44     rw r  r   1 ych staff 52 12 26 16 26  gitignore drwxr xr x 11 ych staff 352 12 26 16 27 pyenv doctor drwxr xr x 12 ych staff 384 12 26 16 27 pyenv installer drwxr xr x 7 ych staff 224 12 26 16 27 pyenv update drwxr xr x 13 ych staff 416 12 26 16 27 pyenv virtualenv drwxr xr x 8 ych staff 256 12 26 16 27 pyenv which ext drwxr xr x 8 ych staff 256 12 26 16 26 python build                  pyenv virtualenvs        pyenv activate             pyenv deactivate        pyenv uninstall       rm  rf    pyenv versions             pyenv virtualenv 3 6 4 env3 6 4       python             python        Python                                    pyenv versions        pyenv pyenv virtualenv           python                                     https   github com pyenv pyenv  Docker                                       Docker                  Docker                                                                                       django              testpyenv tree       manage py     testpyenv     init py     settings py     urls py     wsgi py             requirements txt  Django  2 0               Dockerfile    python 3 6 4        RUN mkdir  p  usr src app WORKDIR  usr src app        Docker      ADD   requirements txt  usr src app requirements txt      RUN pip install  r requirements txt      ADD    usr src app      CMD python manage py runserver 0 0 0 0 8000   django2 0   python3                python 3 6 4                                    docker build  t cnych testpyenv v0 1 1                       start sh          docker run  d  p 8000 8000   name testpyenv cnych testpyenv v0 1 1     8000      8000                  source start sh                 http   127 0 0 1 8000                                                                                                               django                                                         Docker      volume                                     start sh    work_path   pwd  docker run  d  p 8000 8000   name te",
        "objectID": "post/python虚拟环境全知道",
        "date": "2018-01-09T00:00:00.000Z",
        "tags": [
            "python",
            "pyenv",
            "virtualenv",
            "docker"
        ],
        "keywords": [
            "python",
            "pyenv",
            "virtualenv",
            "docker",
            "虚拟"
        ],
        "slug": "python-virtualenv-all-know",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1500644970114-4ff3c3dfb61f.jpeg",
                "desc": "Reach for the End."
            }
        ],
        "category": "python"
    },
    {
        "title": "Python装饰器简介",
        "uri": "post/python装饰器简介",
        "content": "Python                                                                                                                                                                                     def anewdecorator a_func   def wrapTheFunction    print  I doing boring work executing a_func     a_func   print  I doing boring work executing a_func     return wrapTheFunction def afunctionrequiring_decoration    print  I function needs decoration remove foul smell   afunctionrequiring_decoration    outputs   I function needs decoration remove foul smell  afunctionrequiringdecoration   anewdecorator afunctionrequiringdecoration   now afunctionrequiring_decoration wrapped wrapTheFunction   afunctionrequiring_decoration    outputs I doing boring work executing a_func   function needs decoration remove foul smell doing boring work executing a_func      python                                                                                                        anewdecorator def afunctionrequiring_decoration       Hey you  Decorate me     print  I function needs decoration    remove foul smell   afunctionrequiring_decoration    outputs  doing boring work executing a_func   function needs decoration remove foul smell doing boring work executing a_func    the  anewdecorator just short saying  afunctionrequiringdecoration   anewdecorator afunctionrequiringdecoration       wraps      Python                                    print afunctionrequiringdecoration name_  Output  wrapTheFunction           Ouput      afunctionrequiring_decoration        warpTheFunction                     docstring      Python                       functools wraps             functools wraps  functools import wraps def anewdecorator a_func    wraps a_func  def wrapTheFunction    print  I doing boring work executing a_func     a_func   print  I doing boring work executing a_func     return wrapTheFunction  anewdecorator def afunctionrequiring_decoration       Hey yo  Decorate me     print  I function needs decoration    remove foul smell   print afunctionrequiringdecoration name_  Output  afunctionrequiring_decoration                          functools import wraps def decorator_name f    wraps f  def decorated args   kwargs   not can_run  return  Function will not run  return f args   kwargs  return decorated  decorator_name def func    return  Function running   can_run   True print func    Output  Function running can_run   False print func    Output  Function will not run     wraps                                                                                    wraps                                                             decorator_name                               Python                                                                                functools import wraps def logit logfile  out log    def logging_decorator func    wraps func  def wrapped_function args   kwargs   logstring   func name_     called  print log_string    logfile       open logfile   a   opened_file            logfile openedfile write logstring     n   return func args   kwargs  return wrapped_function return logging_decorator  logit   def myfunc1    pass myfunc1   Output  myfunc1 called        out log                       logit logfile  func2 log   def myfunc2    pass myfunc2   Output  myfunc2 called        func2 log                                         logit                                                                             email                                                                                           logit  functools import wraps class logit object   def init self  logfile  out log    self logfile   logfile def call self  func    wraps func  def wrapped_function args   kwargs   logstring   func name_     called  print log_string    logfile    open self logfile   a   opened_file               openedfile write logstring     n             self notify   return func args   kwargs  return wrapped_function def notify self   logit          pass                                                   logit   def myfunc1    pass       logit        email      email              class email_logit logit         logit                email         def init self  email  admin myproject com   args   kwargs   self email   email super logit  self  init args   kwargs  def notify self       email self email          pass       email_logit    logit",
        "objectID": "post/python装饰器简介",
        "date": "2016-11-14T00:00:00.000Z",
        "publishdate": "2016-11-14T00:00:00.000Z",
        "bigimg": [
            {
                "src": "/img/posts/decorator-cover.jpg",
                "desc": ""
            }
        ],
        "tags": [
            "python",
            "装饰器"
        ],
        "slug": "django-decorator-usage",
        "category": "python",
        "gitcomment": true
    },
    {
        "title": "RC、RS 使用方法",
        "uri": "post/RC和RS的使用",
        "content": "Pod                        Pod          Pod                                                        Pod         Pod                                                      Pod           Pod                                                                          Pod                                                                  Pod    Pod            Pod                   Pod                                Kubernetes                Replication Controller        Pod Replica Set     Replication Controller Deployment          Pod Replica Set Replication Controller RC  Replication Controller  RC RC Kubernetes                RC           Pod          Pod          Pod                                 Pod  Pod            RC         Pod                Pod        RC      Pod                                                        Pod      RC   Pod                  Pod               Pod                      Pod  10              2                                                HPA                                                      RC          Nginx Pod YAML      apiVersion  v1 kind  ReplicationController metadata  name  rc demo labels  name  rc spec  replicas  3 selector  name  rc template  metadata  labels  name  rc spec  containers  name  nginx demo image  nginx ports  containerPort  80    YAML          Pod     kind ReplicationController spec replicas    Pod        1 spec selector  RC            Pod spec template           Pod            apiVersion kind  spec template metadata labels       Pod labels  spec selector     RC          Pod     YAML             RC          rc demo       3 Pod   Pod    nginx        spec selector spec template metadata labels                            spec selector       Pod    metadata labels                                   RC       rc demo yaml     kubectl create  f rc demo yaml   RC    kubectl rc           kubectl describe rc rc demo       RC    Pod      2    kubectl apply  f rc demo yaml      kubectl edit rc rc demo         RC                    nginx 1 7 9    kubectl rolling update rc demo   image nginx 1 7 9        Pod               YAML            kubectl rolling update rc demo  f rc demo yaml                                 RC                              Replication Set RS  Replication Set  RS   Kubernetes                RS Deployment   RC     RS RC                   RC        selector env dev app nginx   RS        selector version  v1  v2                    kubectl        RC              RS                  RS     Deployment                                   Pod              Deployment      Replica Set           RC RS                            RC   Pod            RC        Pod        apiversion kind  RC   label selector      Pod           RC   Pod         Pod           RC   Pod            Pod                                                   RC  RS      Pod                                   Deployment",
        "objectID": "post/RC和RS的使用",
        "subtitle": "使用Replication Controller、Replica Set 管理Pod",
        "date": "2018-06-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod"
        ],
        "slug": "use-rc-rs-manage-pod",
        "keywords": [
            "kubernetes",
            "rc",
            "rs",
            "pod"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1493546109643-cd9fda7b38fe.jpeg",
                "desc": "Light in Pinks"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Secret 的使用",
        "uri": "post/Secret 的使用",
        "content": "ConfigMap       ConfigMap       Kubernetes                 ConfigMap                                 ConfigMap         ConfigMap                               Secret Secret              OAuth     ssh key          Secret    Pod      docker              Secret       Opaque base64      Secret                     base64  decode                  kubernetes io dockerconfigjson       docker registry       kubernetes io service account token    serviceaccount   serviceaccout    Kubernetes        secret Pod     serviceaccount    secret      Pod   run secrets kubernetes io serviceaccount   Opaque Secret Opaque          map      value base64                   admin     admin321   Secret                   base64       echo  n  admin    base64 YWRtaW4    echo  n  admin321    base64 YWRtaW4zMjE                         YAML    secret demo yaml  apiVersion  v1 kind  Secret metadata  name  mysecret type  Opaque data  username  YWRtaW4  password  YWRtaW4zMjE              kubectl          kubectl create  f secret demo yaml secret  mysecret  created   get secret        kubectl secret NAME TYPE DATA AGE default token n9w2d kubernetes io service account token 3 33d mysecret Opaque 2 40s     default token cty7pdefault token n9w2d            secret  serviceacount default       describe           kubectl describe secret mysecret Name  mysecret Namespace  default Labels  Annotations  Type  Opaque Data password  8 bytes username  5 bytes         describe      Data              Data                 YAML          kubectl secret mysecret  o yaml apiVersion  v1 data  password  YWRtaW4zMjE  username  YWRtaW4  kind  Secret metadata  creationTimestamp  2018 06 19T15 27 06Z name  mysecret namespace  default resourceVersion   3694084  selfLink   api v1 namespaces default secrets mysecret uid  39c139f5 73d5 11e8 a101 525400db4df7 type  Opaque    Secret                         Volume                                         busybox        secret1 pod yaml  apiVersion  v1 kind  Pod metadata  name  secret1 pod spec  containers  name  secret1 image  busybox command      bin sh     c    env    env  name  USERNAME valueFrom  secretKeyRef  name  mysecret key  username name  PASSWORD valueFrom  secretKeyRef  name  mysecret key  password             secretKeyRef           configMapKeyRef            Secret          ConfigMap           Pod    kubectl create  f secret1 pod yaml pod  secret1 pod  created       Pod         kubectl logs secret1 pod     USERNAME admin PASSWORD admin321           USERNAME   PASSWORD             Volume            Pod    Volume       Pod    secret2 pod yaml  apiVersion  v1 kind  Pod metadata  name  secret2 pod spec  containers  name  secret2 image  busybox command     bin sh     c    ls  etc secrets   volumeMounts  name  secrets mountPath   etc secrets volumes  name  secrets secret  secretName  mysecret   Pod    kubectl create  f secret pod2 yaml pod  secret2 pod  created               kubectl logs secret2 pod password username     secret   key                                              secretName    items   key   path            ConfigMap          kubernetes io dockerconfigjson      Opaque                docker registry   Secret     kubectl create             kubectl create secret docker registry myregistry   docker server DOCKERSERVER   docker username DOCKERUSER   docker password DOCKERPASSWORD   docker email DOCKEREMAIL secret  myregistry  created     Secret      kubectl secret NAME TYPE DATA AGE default token n9w2d kubernetes io service account token 3 33d myregistry kubernetes io dockerconfigjson 1 15s mysecret Opaque 2 34m       TYPE   myregistry      kubernetes io dockerconfigjson        describe             kubectl describe secret myregistry Name  myregistry Namespace  default Labels  Annotations  Type  kubernetes io dockerconfigjson Data  dockerconfigjson  152 bytes        Data                       o yaml           kubectl secret myregistry  o yaml apiVersion  v1 data   dockerconfigjson  eyJhdXRocyI6eyJET0NLRVJfU0VSVkVSIjp7InVzZXJuYW1lIjoiRE9DS0VSX1VTRVIiLCJwYXNzd29yZCI6IkRPQ0tFUl9QQVNTV09SRCIsImVtYWlsIjoiRE9DS0VSX0VNQUlMIiwiYXV0aCI6IlJFOURTMFZTWDFWVFJWSTZSRTlEUzBWU1gxQkJVMU5YVDFKRSJ9fX0  kind  Secret metadata  creationTimestamp  2018 06 19T16 01 05Z name  myregistry namespace  default resourceVersion   3696966  selfLink   api v1 namespaces default secrets myregistry uid  f91db707 73d9 11e8 a101 525400db4df7 type  kubernetes io dockerconfigjson       data dockerconfigjson        base64                   echo eyJhdXRocyI6eyJET0NLRVJfU0VSVkVSIjp7InVzZXJuYW1lIjoiRE9DS0VSX1VTRVIiLCJwYXNzd29yZCI6IkRPQ0tFUl9QQVNTV09SRCIsImVtYWlsIjoiRE9DS0VSX0VNQUlMIiwiYXV0aCI6IlJFOURTMFZTWDFWVFJWSTZSRTlEUzBWU1gxQkJVMU5YVDFKRSJ9fX0    base64  d   auths    DOCKERSERVER    username   DOCKERUSER   password   DOCKERPASSWORD   email   DOCKEREMAIL   auth   RE9DS0VSX1VTRVI6RE9DS0VSX1BBU1NXT1JE                   docker             myregistry  Secret  apiVersion  v1 kind  Pod metadata  name  foo spec  containers  name  foo image  192 168 1 100 5000 test v1 imagePullSecrets  name  myregistry             192 168 1 100 5000 test v1                     Secret    Pod  YAM",
        "objectID": "post/Secret 的使用",
        "subtitle": "Kubernetes Secret 资源对象使用方法",
        "date": "2018-06-20T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "secret"
        ],
        "keywords": [
            "kubernetes",
            "secret"
        ],
        "slug": "use-secret-in-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1517960413843-0aee8e2b3285.jpeg",
                "desc": "happy moment"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Service 的使用",
        "uri": "post/Service 的使用",
        "content": "Pod            Pod                          RC Deployment            Pod     Pod     IP       Pod           IP                              Pod             Pod    API           Pod          Pod                     Pod                         Pod                 IP                                                     Kubernetes                          IP               WEB              Nginx          Nginx                                 Nginx    upstream                                  Consul ZooKeeper       etcd                                                       Nginx                                                                           Pod                  Pod                               Pod             Pod                                   Kubernetes                    Service Service               Pod                                   Serivce     Pod      Label Selector                         3                                                   Pod                                             Service                        IP        Service           Kubernetes      IP                Node IP Node   IP   Pod IP  Pod IP   Cluster IP  Service IP      Node IP Kubernetes          IP                                  Kubernetes        Kubernetes                   Node IP                IP     Pod IP   Pod IP     Docker Engine  docker0   IP                 flannel              Pod IP        Cluster IP      IP      Kubernetes Service      Kubernetes                    ping                          Service Port                 Service   Service                                 Pod           8080             app myapp                       Service    apiVersion  v1 kind  Service metadata  name  myservice spec  selector  app  myapp ports  protocol  TCP port  80 targetPort  8080 name  myapp http        kubectl create  f myservice yaml         myservice Service              TCP      8080      app myapp Pod    Service              Cluster IP  Service       selector   Pod     Pod         myservice Endpoints                    Pod            Service               targetPort        targetPort      port                targetPort              backend Pod                               backend Pod                   Service                   Service     TCP   UDP        TCP     kube proxy          Kubernetes      Node     kube proxy       Service     VIP    IP         clusterIP          Kubernetes        iptables             kube proxy   Kubernetes master  Service     Endpoints               Service       iptables            Service   clusterIP    IP                  Service     backend                Endpoints          iptables              backend Pod                backend               IP            service spec sessionAffinity        ClientIP         None                     Pod      iptables              Pod         readiness probes  Service         Service                 Service           ClusterIP                   ClusterIP         IP                                ServiceType  NodePort      Node      IP       NodePort      NodePort        ClusterIP       ClusterIP                             NodePort     LoadBalancer                                      NodePort     ClusterIP                      ExternalName      CNAME               externalName           foo bar example com                  Kubernetes 1 7        kube dns      NodePort         type     NodePort Kubernetes master               30000 32767         Node          Node           Service        Service   spec ports    nodePort                                Service        spec ports   nodePort   spec clusterIp spec ports   port                     NodePort           Nginx        service demo yaml  apiVersion  v1 kind  Service metadata  name  myservice spec  selector  app  myapp type  NodePort ports  protocol  TCP port  80 targetPort  80 name  myapp http    Service    kubectl create  f service demo yaml         Service        kubectl svc NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE kubernetes ClusterIP 10 96 0 1 443 TCP 27d myservice NodePort 10 104 57 198 80 32560 TCP 14h       myservice  TYPE        NodePort    PORT S         32560                 describe     Service          kubectl describe svc myservice Name  myservice Namespace  default Labels  Annotations  Selector  app nginx Type  NodePort IP  10 104 57 198 Port  mynginx http 80 TCP TargetPort  80 TCP NodePort  mynginx http 32560 TCP Endpoints  10 244 1 55 80 10 244 2 189 80 10 244 2 190 80   1 more    Session Affinity  None External Traffic Policy  Cluster Events  ExternalName ExternalName   Service        selector             Endpoint                                       kind  Service apiVersion  v1 metadata  name  my service namespace  prod spec  type  ExternalName externalName  my database example com       my service prod svc cluster local                          DNS           my database example com   CNAME                                    DNS                               Kubernetes             Pod       Selector   Endpoint    Service   type",
        "objectID": "post/Service 的使用",
        "subtitle": "学习使用 Kubernetes 中的 Service 对象",
        "date": "2018-06-13T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod"
        ],
        "slug": "use-service-in-k8s",
        "keywords": [
            "kubernetes",
            "service",
            "pod"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1518301885719-b60b8379b2a9.jpeg",
                "desc": "Sunset"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Traefik 团队开源的轻量级 Service Mesh 工具 Maesh",
        "uri": "post/Traefik团队Service Mesh工具Maesh",
        "content": "Containous Traefik                service mesh         Maesh Maesh     Kubernetes                              Maesh     Traefk                                  SMI                      Maesh                                                      Maesh         sidecar                                       Pod                     deployment Maesh                  SMI            sidecar     Maesh        Kubernetes                             Maesh          Kubernetes DNS Maesh    Kubernetes       CoreDNS         Maesh           Kubernetes Service  Maesh                                                           Maesh                     Meash      CoreDNS                                Maesh     TCP   HTTP          HTTP     Maesh    Traefik      virtual host path headers cookies                TCP            SNI                                               Traefik    Maesh     Traefik                 OpenTracing HTTP      GRPC WebSocket TCP                                                   Maesh       Kubernetes               Helm chart                      CRD                      Pod   Service                      Maesh           Maesh    helm repo add maesh https   containous github io maesh charts   helm repo update   helm install   name maesh   namespace maesh maesh maesh               Maesh                       Maesh    kubectl annotate service web application maesh containo us traffic type http               TCP      HTTP                    kubectl annotate service mongo database maesh containo us traffic type tcp          Maesh          Istio               http   mae sh  http   docs mae sh  https   github com containous maesh https   community containo us c maesh https   blog containo us announcing maesh a lightweight and simpler service mesh made by the traefik team cb866edc6f29",
        "objectID": "post/Traefik团队Service Mesh工具Maesh",
        "date": "2019-09-05T00:00:00.000Z",
        "tags": [
            "traefik",
            "istio",
            "Mash"
        ],
        "keywords": [
            "traefik",
            "istio",
            "Mash",
            "Service Mesh",
            "服务网格"
        ],
        "slug": "maesh-service-mesh-by-trafik",
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "VMWare 开源的 Kubernetes 可视化工具 Octant",
        "uri": "post/VMWare开源的Octant",
        "content": "VMWare       Kubernetes Dashboard        Octant                    Kubernetes                         Kubernetes                          pod    pod                                 Octant               Octant              Dashboard                     Octant              kubectl                                    Octant          Octant              Linux              deb   rpm                GitHub Release                                Octant   GitHub      https   github com vmware octant          Kubernetes     master           Octant       centos             rpm        wget https   github com vmware octant releases download v0 6 0 octant0 6 0Linux 64bit rpm        100                                                                                          21 798 100 33 6KB s 8m 50s 2019 09 03 10 31 02  40 2 KB s     octant0 6 0Linux 64bit rpm  saved  21798100 21798100      rpm          yum install octant0 6 0Linux 64bit rpm Loaded plugins  fastestmirror  langpacks Examining octant0 6 0Linux 64bit rpm  octant 0 6 0 1 x86_64 Marking octant0 6 0Linux 64bit rpm installed Resolving Dependencies     Running transaction check      Package octant x86_64 0 0 6 0 1 will installed     Finished Dependency Resolution        Installed  octant x86_64 0 0 6 0 1 Complete           octant                              KUBECONFIG                Octant                      OCTANTACCEPTEDHOSTS k8s youdianzhishi com KUBECONFIG    kube config OCTANTLISTENERADDR 0 0 0 0 8900 octant 2019 09 03T10 36 57 379 0800 INFO module manager go 75 registering action   component    module manager    actionPath    deployment configuration    module name    overview   2019 09 03T10 36 57 383 0800 INFO api content go 52 Registering routes overview 2019 09 03T10 36 57 398 0800 INFO api content go 52 Registering routes cluster overview 2019 09 03T10 36 57 398 0800 INFO api content go 52 Registering routes configuration 2019 09 03T10 36 57 399 0800 INFO dash dash go 332 Dashboard available http        8900         OCTANTACCEPTEDHOSTS              KUBECONFIG             kubeconfig                  k8s youdianzhishi com 8900    Octant                    Dashboard                               Octant                                 Octant                       docs plugins",
        "objectID": "post/VMWare开源的Octant",
        "date": "2019-09-03T00:00:00.000Z",
        "tags": [
            "vmware",
            "kubernetes",
            "Octant"
        ],
        "keywords": [
            "vmware",
            "kubernetes",
            "Octant",
            "Dashboard",
            "可视化"
        ],
        "slug": "vmware-k8s-dashboard-octant",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1567161569119-2efa25acc395.jpeg",
                "desc": "https://unsplash.com/photos/bun7ERlQamw"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "webpack3入门到放肆视频教程",
        "uri": "post/webpack3入门到放肆视频教程",
        "content": "python        nodejs golang                                                                                              webpack3              webpack                   React Vue        webpack                                                                                                               nodejs                                      Webpack3 x                   Webpack      CSS     ES2015     SASS               CSS JS                    Webpack Manifests",
        "objectID": "post/webpack3入门到放肆视频教程",
        "date": "2017-12-26T00:00:00.000Z",
        "publishdate": "2017-12-26T00:00:00.000Z",
        "bigimg": [
            {
                "src": "/img/posts/webpack-get-started.png",
                "desc": "@海马学院"
            }
        ],
        "tags": [
            "webpack",
            "视频"
        ],
        "slug": "webpack3-get-started",
        "category": "devops",
        "gitcomment": true
    },
    {
        "title": "为kubernetes dashboard访问用户添加权限控制",
        "uri": "post/为kubernetes dashboard访问用户添加权限限制",
        "content": "kubernetes dashboard            Dashboard                              admin        cluster admin                                    token  Dashboard                                                        Role Role               Role       namespace                                         Pods           kind  Role apiVersion  rbac authorization k8s io v1beta1 metadata  namespace  default name  pod reader rules  apiGroups            indicates core API group resources    pods   verbs    get    watch    list   ClusterRole ClusterRole   Role                ClusterRole                          node            endpoints     healthz                   pods                                       secrets       kind  ClusterRole apiVersion  rbac authorization k8s io v1beta1 metadata   namespace  omitted ClusterRoles not namespaced name  secret reader rules  apiGroups       resources    secrets   verbs    get    watch    list   RoleBinding ClusterRoleBinding RoloBinding                    RoleBinding         subjects                         users groups service accounts  RoleBinding               ClusterRoleBinding                         pod reader      jane                   pod reader     role binding allows  jane  read pods  default  namespace  kind  RoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  read pods namespace  default subjects  kind  User name  jane apiGroup  rbac authorization k8s io roleRef  kind  Role name  pod reader apiGroup  rbac authorization k8s io RoleBinding      ClusterRole     namespace          ServiceAccount                               ClusterRole        namespace     RoleBinding           RoleBinding       ClusterRole    ClusterRole          secrets               dave      development      secrets    RoleBinding     development       role binding allows  dave  read secrets  development  namespace  kind  RoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  read secrets namespace  development   grants permissions within  development  namespace  subjects  kind  User name  dave apiGroup  rbac authorization k8s io roleRef  kind  ClusterRole name  secret reader apiGroup  rbac authorization k8s io       ClusterRoleBinding                            ClusterRoleBinding         manager                 secrets      cluster role binding allows anyone  manager  group read secrets namespace  kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  read secrets global subjects  kind  Group name  manager apiGroup  rbac authorization k8s io roleRef  kind  ClusterRole name  secret reader apiGroup  rbac authorization k8s io   dashboard                                                              cnych           kube system   pods deployments            ServiceAccount    kubectl create sa cnych  n kube system           role cnych  role yaml  kind  Role apiVersion  rbac authorization k8s io v1 metadata  namespace  kube system name  role cnych rules  apiGroups       resources    pods   verbs    get    watch    list   apiGroups    extensions    apps   resources    deployments   verbs    get    list    watch    create    update    patch    delete        rules     pods deployments                        role cnych   cnych ServiceAccount   role bind yaml  kind  RoleBinding apiVersion  rbac authorization k8s io v1 metadata  name  role bind cnych namespace  kube system subjects  kind  ServiceAccount name  cnych namespace  kube system roleRef  kind  Role name  role cnych apiGroup  rbac authorization k8s io         yaml      kubect create  f role yaml   kubect create  f role bind yaml                       cnych  ServiceAccount token     Dashboard     kubectl secret  n kube system  grep cnych cnych token nxgqx kubernetes io service account token 3 47m   kubectl secret cnych token nxgqx  o jsonpath   data token   n kube system  base64  d         base64         dashboard              token                               token                                      kube system           https       pod namespace kube system             pod                   events forbidden  User  system serviceaccount kube system cnych  cannot list events namespace  kube system                  pod deployment           deployment                                          Role                                     https   kubernetes io docs admin authorization rbac  Add Users Kubernetes  kubectl                 Kubernetes",
        "objectID": "post/为kubernetes dashboard访问用户添加权限限制",
        "date": "2018-01-18T00:00:00.000Z",
        "publishdate": "2017-01-18T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "dashboard",
            "rbac"
        ],
        "keywords": [
            "kubernetes",
            "dashboard",
            "rbac",
            "权限"
        ],
        "slug": "add-authorization-for-kubernetes-dashboard",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1439209306665-700c9bca794c.jpeg",
                "desc": "two boats"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "服务网格(Service Mesh)是什么?",
        "uri": "post/什么是服务网格?",
        "content": "Trace                                                                                                              Service Mesh     Service Mesh  Service Mesh             2016    Linkerd  Buoyant          Linkerd    Service Mesh                  infoQ      istio    Service Mesh                             Service Mesh                                         Willian Morgan Linker  CEO    Service Mesh      service mesh dedicated infrastructure layer handling service to service communication  It s responsible reliable delivery requests complex topology services comprise modern  cloud native application  practice  service mesh typically implemented array lightweight network proxies deployed alongside application code  without application needing aware                                                                                                                                               sidecar Service Mesh                                                      Service Mesh                       Service Mesh                                         Sidecar    Sidecar  Kubernetes    POD         Sidecar                                       Service Mesh                              Service Mesh                                                                                                                                               Service Mesh                     Sidecar                                            Sidecar                                                                                                                                                          Service Mesh                                  Service Mesh                Sidecar                                       Service Mesh                   Sidecar                Service Mesh                      Service Mesh             Serivce Mesh      istio      https   buoyant io 2017 04 25 whats a service mesh and why do i need one",
        "objectID": "post/什么是服务网格?",
        "date": "2017-10-21T00:00:00.000Z",
        "tags": [
            "microservice",
            "Service Mesh",
            "服务网格",
            "微服务"
        ],
        "keywords": [
            "microservice",
            "Service Mesh",
            "服务网格",
            "微服务"
        ],
        "slug": "what-is-service-mesh",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/18723523_813563038801986_2018903369518678016_n.jpg",
                "desc": "断桥残雪@杭州西湖 Apr 30,2017"
            }
        ],
        "category": "microservice"
    },
    {
        "title": "使用 Configuration-As-Code 运行 Jenkins",
        "uri": "post/使用 Configuration-As-Code 运行 Jenkins",
        "content": "Configuration Code  JcasC         Jenkins          YAML       Jenkins            Jenkins                             CI CD       JcasC                        YAML                      Configuration Code      Jenkins      Git Maven              Pipeline       Java              Vault              Vault vault                   HTTP API                                                                API keys                                                                                               vault                     Docker          docker run  d   name vault   cap add IPC_LOCK  p 8200 8200 vault 1 1 3              vault        KV Key Value Secrets Engine HTTP API V2               Configuration Code        V2                            Vault              docker logs  f vault   Vault server configuration  Api Address  http   0 0 0 0 8200 Cgo  disabled Cluster Address  https   0 0 0 0 8201 Listener 1  tcp  addr   0 0 0 0 8200   cluster address   0 0 0 0 8201   maxrequestduration   1m30s   maxrequestsize   33554432   tls   disabled   Log Level  info Mlock  supported  true  enabled  false Storage  inmem Version  Vault v1 1 3 Version Sha  9bc820f700f83a7c4bcab54c5323735a581b34eb WARNING  dev mode enabled  mode  Vault runs entirely in memory starts unsealed single unseal key  root token already authenticated CLI  so immediately begin using Vault  may need set following environment variable    export VAULT_ADDR  http   0 0 0 0 8200  unseal key root token displayed below case want seal unseal Vault re authenticate  Unseal Key  5YKiMo0qe983 DqkDmQGGZmhN9Dp7JCbl0mrSyMgZ3E  Root Token  s vf0oCbRDGrLNvfYjRfcdcZLg Development mode NOT used production installations    Vault server started  Log data will stream below             Root Token           Token       Jenkins Dashboard   Github                  Jenkins     rootPassword      Github     githubPassword              vault              docker exec  it vault  bin sh     vault kv put secret jenkins rootPassword  githubPassword  https   127 0 0 1 8200 v1 sys internal ui mounts secret jenkins  http  server gave HTTP response HTTPS client     vault kv put      secret                   VAULTADDR VAULTTOKEN                  export VAULT_ADDR  http   0 0 0 0 8200     TOKEN                  missing client token        export VAULT_TOKEN s vf0oCbRDGrLNvfYjRfcdcZLg     vault kv put secret jenkins rootPassword  githubPassword  Key Value created_time 2019 06 13T03 04 04 9804179Z deletion_time n a destroyed false version 1     vault kv secret jenkins             vault kv secret jenkins Metadata        Key Value created_time 2019 06 13T03 04 04 9804179Z deletion_time n a destroyed false version 1 Data           Key Value githubPassword rootPassword      JcasC                  Jenkins                    Java           Jcasc       https   github com jenkinsci configuration as code plugin                                             Jenkins        Jenkins            Pipeline   Github            Maven         Jenkins           Vault      rootPassword          Maven               Jenkins      Maven                                   Git                             jenkins  agentProtocols   JNLP4 connect   Ping  authorizationStrategy  loggedInUsersCanDoAnything  allowAnonymousRead  false crumbIssuer  standard  excludeClientIPFromCrumb  false disableRememberMe  false mode  NORMAL numExecutors  2 primaryView  all  name   all  quietPeriod  5 scmCheckoutRetryCount  0 securityRealm  local  allowsSignup  false enableCaptcha  false users  id   cnych  password    rootPassword  slaveAgentPort  50000 views  all  name   all  tool  git  installations  home   git  name   Default  jdk  installations  home    docker java home  name   jdk  maven  installations  name   maven  properties  installSource  installers  maven  id   3 5 4  credentials  system  domainCredentials  domain   name   github com  description   GitHub  credentials  usernamePassword  scope  SYSTEM id  github cnych username  cnych    Jenkins      Vault               Docker       Jenkins                          Configuration Code               YAML                                                       Web         URL        Jenkins   Vault              Vault              Vault                                            CASCVAULTFILE                    Jenkins     Dockerfile       JcasC              Vault          jenkins jenkins lts ENV CASCJENKINSCONFIG   var jenkins_home jenkins yml  ENV CASCVAULTFILE   var jenkins_home vault yml  COPY jenkins yml   CASCJENKINSCONFIG  COPY vault yml   CASCVAULTFILE  USER jenkins RUN  usr local bin install plugins sh configuration as code configuration as code support git workflow cps global lib   jenkins yml               vault yml          CASCVAULTTOKEN s vf0oCbRDGrLNvfYjRfcdcZLg CASCVAULTPATHS secret jenkins CASCVAULTURL http   192 168 31 9 8200     Dockerfile                    Dockerfile          docker build  t cnych jenkins casc 1 0                            docker run  d   name jenkins  p 8080 8080  p 50000 50000 cnych jenkins casc 1 0              8080       Jenkins           jenkins yml                     ",
        "objectID": "post/使用 Configuration-As-Code 运行 Jenkins",
        "date": "2019-06-13T00:00:00.000Z",
        "tags": [
            "Jenkins",
            "Pipeline",
            "Docker",
            "Vault"
        ],
        "slug": "use-casc-run-jenkins",
        "keywords": [
            "Jenkins",
            "Pipeline",
            "Vault",
            "Docker",
            "Configuration-As-Code"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1560233829-bbfb114ddf90.jpeg",
                "desc": "https://unsplash.com/photos/RIDhjfZZ7Ys"
            }
        ],
        "category": "devops"
    },
    {
        "title": "使用kubeadm搭建kubernetes1.10集群",
        "uri": "post/使用 kubeadm 搭建 kubernetes 1.10 集群",
        "content": "kubeadm Kubernetes            Kubernetes                             kubeadm                          kubeadm   beta             Using kubeadm Create Cluster       kubeadm                       kubeadm                                                    kubernetes                      Centos7                          cat  etc hosts 10 151 30 57 ydzs master1 10 151 30 62 evjfaxic          systemctl stop firewalld   systemctl disable firewalld   SELINUX    setenforce 0   cat  etc selinux config SELINUX disabled    etc sysctl d k8s conf           net bridge bridge nf call ip6tables   1 net bridge bridge nf call iptables   1 net ipv4 ip_forward   1                modprobe br_netfilter   sysctl  p  etc sysctl d k8s conf                                       gcr io                            docker  master            docker pull cnych kube apiserver amd64 v1 10 0 docker pull cnych kube scheduler amd64 v1 10 0 docker pull cnych kube controller manager amd64 v1 10 0 docker pull cnych kube proxy amd64 v1 10 0 docker pull cnych k8s dns kube dns amd64 1 14 8 docker pull cnych k8s dns dnsmasq nanny amd64 1 14 8 docker pull cnych k8s dns sidecar amd64 1 14 8 docker pull cnych etcd amd64 3 1 12 docker pull cnych flannel v0 10 0 amd64 docker pull cnych pause amd64 3 1 docker tag cnych kube apiserver amd64 v1 10 0 k8s gcr io kube apiserver amd64 v1 10 0 docker tag cnych kube scheduler amd64 v1 10 0 k8s gcr io kube scheduler amd64 v1 10 0 docker tag cnych kube controller manager amd64 v1 10 0 k8s gcr io kube controller manager amd64 v1 10 0 docker tag cnych kube proxy amd64 v1 10 0 k8s gcr io kube proxy amd64 v1 10 0 docker tag cnych k8s dns kube dns amd64 1 14 8 k8s gcr io k8s dns kube dns amd64 1 14 8 docker tag cnych k8s dns dnsmasq nanny amd64 1 14 8 k8s gcr io k8s dns dnsmasq nanny amd64 1 14 8 docker tag cnych k8s dns sidecar amd64 1 14 8 k8s gcr io k8s dns sidecar amd64 1 14 8 docker tag cnych etcd amd64 3 1 12 k8s gcr io etcd amd64 3 1 12 docker tag cnych flannel v0 10 0 amd64 quay io coreos flannel v0 10 0 amd64 docker tag cnych pause amd64 3 1 k8s gcr io pause amd64 3 1              shell                  master                         Node          docker pull cnych kube proxy amd64 v1 10 0 docker pull cnych flannel v0 10 0 amd64 docker pull cnych pause amd64 3 1 docker pull cnych kubernetes dashboard amd64 v1 8 3 docker pull cnych heapster influxdb amd64 v1 3 3 docker pull cnych heapster grafana amd64 v4 4 3 docker pull cnych heapster amd64 v1 4 2 docker pull cnych k8s dns kube dns amd64 1 14 8 docker pull cnych k8s dns dnsmasq nanny amd64 1 14 8 docker pull cnych k8s dns sidecar amd64 1 14 8 docker tag cnych flannel v0 10 0 amd64 quay io coreos flannel v0 10 0 amd64 docker tag cnych pause amd64 3 1 k8s gcr io pause amd64 3 1 docker tag cnych kube proxy amd64 v1 10 0 k8s gcr io kube proxy amd64 v1 10 0 docker tag cnych k8s dns kube dns amd64 1 14 8 k8s gcr io k8s dns kube dns amd64 1 14 8 docker tag cnych k8s dns dnsmasq nanny amd64 1 14 8 k8s gcr io k8s dns dnsmasq nanny amd64 1 14 8 docker tag cnych k8s dns sidecar amd64 1 14 8 k8s gcr io k8s dns sidecar amd64 1 14 8 docker tag cnych kubernetes dashboard amd64 v1 8 3 k8s gcr io kubernetes dashboard amd64 v1 8 3 docker tag cnych heapster influxdb amd64 v1 3 3 k8s gcr io heapster influxdb amd64 v1 3 3 docker tag cnych heapster grafana amd64 v4 4 3 k8s gcr io heapster grafana amd64 v4 4 3 docker tag cnych heapster amd64 v1 4 2 k8s gcr io heapster amd64 v1 4 2          Node            join                    kubeadm kubelet kubectl    docker                                                              kubeadm           yum            cat  etc yum repos d kubernetes repo  kubernetes  name Kubernetes baseurl https   packages cloud google com yum repos kubernetes el7 x86_64 enabled 1 gpgcheck 1 repo_gpgcheck 1 gpgkey https   packages cloud google com yum doc yum key gpg https   packages cloud google com yum doc rpm package key gpg EOF        yum                                       cat  etc yum repos d kubernetes repo  kubernetes  name Kubernetes baseurl http   mirrors aliyun com kubernetes yum repos kubernetes el7 x86_64 enabled 1 gpgcheck 0 repo_gpgcheck 0 gpgkey http   mirrors aliyun com kubernetes yum doc yum key gpg http   mirrors aliyun com kubernetes yum doc rpm package key gpg EOF               1 10            yum                   yum makecache fast    yum install  y kubelet kubeadm kubectl                                                     1 10 0                          yum makecache fast   yum install  y kubelet 1 10 0 0   yum install  y kubectl 1 10 0 0   yum install  y kubeadm 1 10 0 0    kubelet             kubelet        yum       kubelet            cgroup driver   systemd  docker cgroup driver cgroupfs                 docker info        docker info  grep Cgroup Cgroup Driver  cgroupfs     kubelet      etc systemd system kubelet service d 10 kubeadm conf     KUBELETCGROUPARGS     cgroupfs  Environment  KUBELETCGROUPARGS   cgroup driver cgroupfs                                kubernetes            Kubernetes 1 8          Swap             kubelet             kubelet    ",
        "objectID": "post/使用 kubeadm 搭建 kubernetes 1.10 集群",
        "date": "2018-04-14T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "kubeadm"
        ],
        "keywords": [
            "kubernetes",
            "kubeadm"
        ],
        "slug": "use-kubeadm-install-kubernetes-1.10",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1496072298559-ee7eacbd1b39.jpeg",
                "desc": "Kings Mountain"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "使用Elasticsearch Operator快速部署Elasticsearch集群",
        "uri": "post/使用Elasticsearch Operator快速部署ES集群",
        "content": "kubernetes               kubernetes                                                                      MySQL MongoDB Redis                                                             Kubernetes                                     Operator       prometheus operator etcd operator       Operator                   Kubernetes Operator                        Elasticsearch               Kubernetes Operator     Elastic Cloud Kubernetes  ECK            Kubernetes           Elasticsearch     Elastic Cloud Kubernetes Elastic Cloud Kubernetes ECK     Elasticsearch Operator         ECK    Kubernetes Operator                Kubernetes                Kubernetes   Elasticsearch   Kibana            ECK                                                                       Elastic Local Volume                ECK                            Kubernetes     Elasticsearch       ECK       Kubernetes    Elastic           SaaS         ECK        Elasticsearch                                               6 8   7 1      Elasticsearch        TLS                                    ECK                                       Kibana Spaces Canvas Elastic Maps            Elastic Logs   Elastic Infrastructure      Kubernetes                Kubernetes     Elastic Stack          ECK      Elastic Local Volume         Kubernetes           ECK                            drain                                                               ECK                  kubernetes    1 11                    4GB              Elasticsearch                    ECK     Operator         kubectl apply  f https   download elastic co downloads eck 0 8 1 all in one yaml               elastic system   namespace      operator   Pod    kubectl pods  n elastic system NAME READY STATUS RESTARTS AGE elastic operator 0 1 1 Running 1 15h             CRD         CRD             elastic operator 0    Pod      kubectl crd   grep elastic apmservers apm k8s elastic co 2019 06 30T08 12 41Z clusterlicenses elasticsearch k8s elastic co 2019 06 30T08 12 41Z elasticsearches elasticsearch k8s elastic co 2019 06 30T08 12 41Z enterpriselicenses elasticsearch k8s elastic co 2019 06 30T08 12 41Z kibanas kibana k8s elastic co 2019 06 30T08 12 41Z remoteclusters elasticsearch k8s elastic co 2019 06 30T08 12 41Z trustrelationships elasticsearch k8s elastic co 2019 06 30T08 12 41Z users elasticsearch k8s elastic co 2019 06 30T08 12 41Z          CRD                Elasticsearch     elastic yaml  apiVersion  elasticsearch k8s elastic co v1alpha1 kind  Elasticsearch metadata  name  elastic namespace  elastic system spec  version  7 2 0 nodes  nodeCount  1 config  node master  true node data  true node ingest  true          7 2 0         Elasticsearch         kubectl create  f elastic yaml                   Error server  Timeout   error when creating  STDIN   Timeout  request not complete within requested timeout 30s               ECK       validation webhook   Admission                        kubectl ValidatingWebhookConfiguration  o yaml   ValidatingWebhookConfiguration yaml    ValdiationWebhook   kubectl delete ValidatingWebhookConfiguration validating webhook configuration                                                   elastic  Pod         pods  n elastic system NAME READY STATUS RESTARTS AGE elastic es h4xns977f5 1 1 Running 0 3h10m elastic operator 0 1 1 Running 1 15h           Elasticsearch   CRD         kubectl elasticsearch  n elastic system NAME HEALTH NODES VERSION PHASE AGE elastic green 1 7 2 0 Operational 3h10m                        CRD    Kibana     kibana     kibana yaml  apiVersion  kibana k8s elastic co v1alpha1 kind  Kibana metadata  name  kibana namespace  elastic system spec  version  7 2 0 nodeCount  1 elasticsearchRef  name  elastic     spec elasticsearchRef name           Elasticsearch     name elastic                 kubectl create  f kibana yaml   kubectl pods  n elastic system NAME READY STATUS RESTARTS AGE elastic es h4xns977f5 1 1 Running 0 3h15m elastic operator 0 1 1 Running 1 15h kibana kibana 79479c64bc zpdr7 1 1 Running 0 162m   kubectl svc  n elastic system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE elastic es ClusterIP 10 98 117 110 9200 TCP 3h17m elastic es discovery ClusterIP None 9300 TCP 3h17m elastic webhook service ClusterIP 10 106 65 101 443 TCP 15h kibana kibana ClusterIP 10 107 3 36 5601 TCP 3h16m           kibana                      Ingress     ingress yaml  apiVersion  extensions v1beta1 kind  Ingress metadata  name  kibana namespace  elastic system annotations  kubernetes io ingress class  nginx spec  rules  host  kibana qikqiak com http  paths  backend  serviceName  kibana kibana servicePort  5601 path          Ingress       kubectl create  f ingress yaml   kubectl ingress  n elastic system NAME HOSTS ADDRESS PORTS AGE kibana kibana qikqiak com 80 82m            DNS      hosts                kibana               elastic                   PASSWORD   kubectl secret elastic elastic user  n elastic system  o jsonpath    data elastic     base64   decode    echo  PASSWORD                          kibana qikqiak com                                   kibana dashboard  ",
        "objectID": "post/使用Elasticsearch Operator快速部署ES集群",
        "date": "2019-07-01T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "operator",
            "elasticsearch",
            "kibana"
        ],
        "keywords": [
            "kubernetes",
            "operator",
            "elasticsearch",
            "kibana",
            "集群",
            "volume"
        ],
        "slug": "elastic-cloud-on-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1561900073-f07fcec69cc2.jpeg",
                "desc": "https://unsplash.com/photos/snbf9h8rjCw"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "使用 GitHub Actions 自动化构建 Golang 应用",
        "uri": "post/使用GitHub Actions构建Golang应用",
        "content": "GitHub                    GitHub Actions                                                         GitHub Actions          Travis CI                      GitHub Actions          CI CD Pipeline   GitHub                Travis CI    Circle CI                                           https   github com features actions signup        Golang        GitHub Actions                  Hello world   Golang               Pipeline   Pull Request        master            Pipeline             lint              Codecov                       tag    Pipeline     GoReleaser          GitHub       GoReleaser     Golang                                            GitHub         go github actions                 main go            package main import    fmt   github com cnych go github actions hello    func main     fmt Println hello Greet                hello    package     Greet                     hello   package   package        hellog go             package hello    Greet    Greet GitHub Actions func Greet   string   return  Hello GitHub Actions                go modules    go mod init github com cnych go github actions go  creating new go mod  module github com cnych go github actions     hello    package               hello_test go          package hello import  testing  func TestGreet t  testing T    result    Greet   result     Hello GitHub Actions    t Errorf  Greet      s  Expected Hello GitHub actions   result                      go test   hello ok github com cnych go github actions hello 0 007s   go run main go Hello GitHub Actions                tree         README md     go mod     hello       hello go       hello_test go     main go 1 directory  5 files              GitHub      GitHub Actions Pipeline           GitHub               Actions                         Actions             workflow    golang Rust Python Node              workflow       Set workflow yourself     Pipeline              on    workflow                  master release           on  push  branches  master release      pull_request    master       on  pull_request  branches  master                                 2        on  schedule  cron  0 2     1 5 GitHub Actions Workflow            https   help github com articles workflow syntax for github actions                 action actions                    GitHub              GitHub marketplace                   action        ref        name  uses   owner   repo  ref with       GitHub Actions           workflow            workflow                    job     step   name  CI on   push  jobs  build  runs on  ubuntu latest steps  uses  actions checkout v1 name  Run one line script run  echo Hello  world  name  Run multi line script run    echo Add actions build  echo test  deploy project               workflow    workflow             main workflow                    workflow       master        PR        Build   workflow          tag         Release   workflow                     workflow        Job        Build Workflow   3  Job Lint Build   Test    Release Workflow       Release   Job     Job      Step               Job                              Workflow                 github workflows     YAML                                    Build Workflow  main yaml  name  Build Test on  push  branches  master pull_request  jobs  lint  name  Lint runs on  ubuntu latest steps  name  Set Go uses  actions setup go v1 with  go version  1 12 name  Check code uses  actions checkout v1 name  Lint Go Code run    export PATH  PATH   go env GOPATH  bin   temporary fix  https   github com actions setup go issues 14 go  u golang org x lint golint lint test  name  Test runs on  ubuntu latest steps  name  Set Go uses  actions setup go v1 with  go version  1 12 name  Check code uses  actions checkout v1 name  Run Unit tests  run  test coverage name  Upload Coverage report CodeCov uses  codecov codecov action v1 0 0 with  token     secrets CODECOV_TOKEN   file    coverage txt build  name  Build runs on  ubuntu latest needs   lint  test  steps  name  Set Go uses  actions setup go v1 with  go version  1 12 name  Check code uses  actions checkout v1 name  Build run  build         workflow                    master          PR                     on  push  branches  master pull_request        workflow     3  Job Lint Test   Build Lint   Job       lint  name  Lint runs on  ubuntu latest steps  name  Set Go uses  actions setup go v1 with  go version  1 12 name  Check code uses  actions checkout v1 name  Lint Go Code run    export PATH  PATH   go env GOPATH  bin   temporary fix  https   github com actions setup go issues 14 go  u golang org x lint golint lint               Job     ubuntu       runs on     Actions      Linux Mac Windows   Docker                     runners        GitLab CI Runner        Job                Golang    GitHub            action             name  Set Go uses  actions setup go v1 with  go version  1 12       GitHub marketplace      action         https   github com marketplace actions setup go for use with actions                  with          action         setup go   action            go                  go modules       ",
        "objectID": "post/使用GitHub Actions构建Golang应用",
        "date": "2019-08-24T00:00:00.000Z",
        "tags": [
            "CI",
            "CD",
            "github",
            "golang",
            "pipeline"
        ],
        "keywords": [
            "CI",
            "CD",
            "github",
            "GitHub Actions",
            "golang",
            "pipeline"
        ],
        "slug": "use-github-actions-build-go-app",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1566568216493-71bf7995310a.jpeg",
                "desc": "https://unsplash.com/photos/MUbcybuo7aY"
            }
        ],
        "category": "devops"
    },
    {
        "title": "使用 kubeadm 搭建 v1.15.3 版本 Kubernetes 集群",
        "uri": "post/使用kubeadm搭建1.15.3版本集群",
        "content": "Kubeadm     Kubernetes             1 10 0                        Kubeadm          Kubernetes 1 15 3                              calico        ipvs     kube proxy       3       Centos 7 6         3 10 0 957 12 2 el7 x86_64          hosts       cat  etc hosts 10 151 30 11 ydzs master 10 151 30 22 ydzs node1 10 151 30 23 ydzs node2          systemctl stop firewalld   systemctl disable firewalld   SELINUX    setenforce 0   cat  etc selinux config SELINUX disabled    etc sysctl d k8s conf           net bridge bridge nf call ip6tables   1 net bridge bridge nf call iptables   1 net ipv4 ip_forward   1                modprobe br_netfilter   sysctl  p  etc sysctl d k8s conf    ipvs   cat    etc sysconfig modules ipvs modules  etc yum repos d kubernetes repo  kubernetes  name Kubernetes baseurl https   packages cloud google com yum repos kubernetes el7 x86_64 enabled 1 gpgcheck 1 repo_gpgcheck 1 gpgkey https   packages cloud google com yum doc yum key gpg https   packages cloud google com yum doc rpm package key gpg EOF         yum                                       cat  etc yum repos d kubernetes repo  kubernetes  name Kubernetes baseurl http   mirrors aliyun com kubernetes yum repos kubernetes el7 x86_64 enabled 1 gpgcheck 0 repo_gpgcheck 0 gpgkey http   mirrors aliyun com kubernetes yum doc yum key gpg http   mirrors aliyun com kubernetes yum doc rpm package key gpg EOF      kubeadm kubelet kubectl    yum install  y kubelet kubeadm kubectl   disableexcludes kubernetes   kubeadm version kubeadm version   version Info Major  1   Minor  15   GitVersion  v1 15 3   GitCommit  2d3c76f9091b6bec110a5e63777c332469e0cba2   GitTreeState  clean   BuildDate  2019 08 19T11 11 18Z   GoVersion  go1 12 9   Compiler  gc   Platform  linux amd64                v1 15 3        kubelet            systemctl enable kubelet service                                          master      kubeadm                             kubeadm config print init defaults   kubeadm yaml                      imageRepository    kube proxy      ipvs                   calico           networking podSubnet    192 168 0 0 16  apiVersion  kubeadm k8s io v1beta2 bootstrapTokens  groups  system bootstrappers kubeadm default node token token  abcdef 0123456789abcdef ttl  24h0m0s usages  signing authentication kind  InitConfiguration localAPIEndpoint  advertiseAddress  10 151 30 11   apiserver     IP bindPort  6443 nodeRegistration  criSocket   var run dockershim sock name  ydzs master taints  effect  NoSchedule key  node role kubernetes io master apiServer  timeoutForControlPlane  4m0s apiVersion  kubeadm k8s io v1beta2 certificatesDir   etc kubernetes pki clusterName  kubernetes controllerManager     dns  type  CoreDNS   dns   etcd  local  dataDir   var lib etcd imageRepository  gcr azk8s cn google_containers kind  ClusterConfiguration kubernetesVersion  v1 15 3   k8s   networking  dnsDomain  cluster local podSubnet  192 168 0 0 16 serviceSubnet  10 96 0 0 12 scheduler     apiVersion  kubeproxy config k8s io v1alpha1 kind  KubeProxyConfiguration mode  ipvs   kube proxy                        kubeadm init   config kubeadm yaml  init  Using Kubernetes version  v1 15 3  preflight  Running pre flight checks  WARNING SystemVerification   Docker version not list validated versions  19 03 1  Latest validated version  18 09  preflight  Pulling images required setting Kubernetes cluster  preflight  minute two  depending speed internet connection  preflight  perform action beforehand using  kubeadm config images pull   kubelet start  Writing kubelet environment file flags file   var lib kubelet kubeadm flags env   kubelet start  Writing kubelet configuration file   var lib kubelet config yaml   kubelet start  Activating kubelet service  certs  Using certificateDir folder   etc kubernetes pki   certs  Generating  etcd ca  certificate key  certs  Generating  etcd server  certificate key  certs  etcd server serving cert signed DNS names  ydzs master localhost  IPs  10 151 30 11 127 0 0 1   1   certs  Generating  etcd peer  certificate key  certs  etcd peer serving cert signed DNS names  ydzs master localhost  IPs  10 151 30 11 127 0 0 1   1   certs  Generating  apiserver etcd client  certificate key  certs  Generating  etcd healthcheck client  certificate key  certs  Generating  ca  certificate key  certs  Generating  apiserver  certificate key  certs  apiserver serving cert signed DNS names  ydzs master kubernetes kubernetes default kubernetes default svc kubernetes default svc cluster local  IPs  10 96 0 1 10 151 30 11   certs  Generating  apiserver kubelet client  certificate key  certs  Generating  front proxy ca  certificate key  certs  Generating  front proxy client  certificate key  certs  Generating  sa  key public key  kubeconfig  Using kubeconfig folder   etc kubernetes   kubeconfig  Writing  admin conf  kubeconfig file  kubeconfig  Writing  kubelet conf  kubeconfig file  kubeconfig  Writing  controller manager conf  kubeconfig file  kubeconfig  Writing  scheduler conf  kubeconfig file  control plane  Using manifest folder   etc kubernetes manifests   control plane  Creating static P",
        "objectID": "post/使用kubeadm搭建1.15.3版本集群",
        "date": "2019-08-27T00:00:00.000Z",
        "tags": [
            "kubeadm",
            "kubernetes",
            "coredns",
            "ipvs",
            "calico"
        ],
        "keywords": [
            "kubeadm",
            "kubernetes",
            "coredns",
            "ipvs",
            "calico"
        ],
        "slug": "use-kubeadm-install-kubernetes-1.15.3/",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1566807355181-4a22b3cfd335.jpeg",
                "desc": "https://unsplash.com/photos/nfxD5dWy1wk"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Kubernetes Ingress 自动化 HTTPS",
        "uri": "post/使用Let's Encrypt实现Ingress自动化HTTPS",
        "content": "HTTPS        Google     HTTPS                                HTTPS                     CA                           Let s Encrypt     90                                   Kubernetes                Kubernetes Ingress   Let s Encrypt            HTTPS   Kubernetes      HTTPS                              Ingress     HTTPS        Ingress Controller         HTTPS                   SSL TLS       Cert manager        ingress endpoint                certificates                Cert manager         providers         HashiCorp Vault           Helm             Helm               Helm                       cluster issuer    Cert manager        kubernetes io tls acme   true annotation      TLS  ingressShim defaultIssuerName letsencrypt prod ingressShim defaultIssuerKind ClusterIssuer           Cert manager    helm install   name cert manager   namespace kube system   set ingressShim defaultIssuerName letsencrypt prod   set ingressShim defaultIssuerKind ClusterIssuer stable cert manager   version v0 5 2 NAME  cert manager LAST DEPLOYED  Wed Dec 5 18 04 56 2018 NAMESPACE  kube system STATUS  DEPLOYED RESOURCES    v1 ServiceAccount NAME SECRETS AGE cert manager 1 0s   v1beta1 CustomResourceDefinition NAME AGE certificates certmanager k8s io 0s clusterissuers certmanager k8s io 0s issuers certmanager k8s io 0s   v1beta1 ClusterRole cert manager 0s   v1beta1 ClusterRoleBinding NAME AGE cert manager 0s   v1beta1 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE cert manager 1 1 1 0 0s   v1 Pod related  NAME READY STATUS RESTARTS AGE cert manager dd6856945 9ltk9 0 1 ContainerCreating 0 0s NOTES  cert manager deployed successfully  order begin issuing certificates  will need set ClusterIssuer Issuer resource  for example  creating  letsencrypt staging  issuer   information different types issuers configure found documentation  https   cert manager readthedocs io en latest reference issuers html information configure cert manager automatically provision Certificates Ingress resources  look ingress shim documentation  https   cert manager readthedocs io en latest reference ingress shim html           Pod        kubectl pod  n kube system   selector app cert manager NAME READY STATUS RESTARTS AGE cert manager cert manager 7797579f9 m4dbc 1 1 Running 0 1m           Cert manager      Kubernetes custom resources    kubectl crd NAME AGE certificates certmanager k8s io 1m clusterissuers certmanager k8s io 1m issuers certmanager k8s io 1m          Cert manager              letsencrypt prod  cluster issuer        clusterissuers certmanager k8s io  CRD     cluster issuer yaml  apiVersion  certmanager k8s io v1alpha1 kind  ClusterIssuer metadata  name  letsencrypt prod spec  acme  server  https   acme v02 api letsencrypt org directory email  icnych gmail com privateKeySecretRef  name  letsencrypt prod http01             ClusterIssuer      kubectl create  f cluster issuer yaml clusterissuer certmanager k8s io  letsencrypt prod  created   kubectl clusterissuer NAME AGE letsencrypt prod 16s             Cert manager    ClusterIssuer          HTTPS        Kubernetes Dashboard     Dashboard                     Ingress         dashboard ingress yaml  apiVersion  extensions v1beta1 kind  Ingress metadata  name  kube ui namespace  kube system annotations  kubernetes io ingress class   traefik  kubernetes io tls acme   true  spec  tls  hosts  k8sui qikqiak com secretName  k8sui tls rules  host  k8sui qikqiak com http  paths  path      backend  serviceName  kubernetes dashboard servicePort  443                  annotations           Cert Manager                   HTTPS            tls           k8sui tls   Secret                Secret                 Cert Manager                                kubectl create  f dashboard ingress yaml                                   Ingress Controller                  etc hosts                                       Ingress       Ingress                  kubectl ingress  n kube system NAME HOSTS ADDRESS PORTS AGE cm acme http solver hl5sx k8sui qikqiak com 80 37s kube ui k8sui qikqiak com 80  443 41s        Traefik   Dashboard                    Ingress                    describe     Ingress       Name  kube ui Namespace  kube system Address  Default backend  default http backend 80    TLS  k8sui tls terminates k8sui qikqiak com Rules  Host Path Backends                    k8sui qikqiak com   kubernetes dashboard 443  10 244 0 31 8443  Annotations  kubernetes io tls acme  true kubernetes io ingress class  traefik Events  Type Reason Age Message                               Normal CreateCertificate 13m cert manager Successfully created Certificate  k8sui tls                Certificate                       kubectl certificate  n kube system NAME AGE k8sui tls 15m      Let s Encrypt                           Ingress      Secret        kubectl secret  n kube system k8sui tls kubernetes io tls 2 32m          Cert manager   Pod           kubectl logs  f cert manager dd6856945 4drmr  n kube system        1 sync go 124  Certificate  k8sui tls  ingress  kube ui  already exists I1205 16 27 21 372285 1 sync go 127  Certificate  k8sui tls ",
        "objectID": "post/使用Let's Encrypt实现Ingress自动化HTTPS",
        "subtitle": "使用 Let's Encrypt 实现 Kubernetes Ingress 自动化 HTTPS",
        "date": "2018-12-05T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ingress",
            "traefik"
        ],
        "slug": "automatic-kubernetes-ingress-https-with-lets-encrypt",
        "keywords": [
            "kubernetes",
            "ingress",
            "https",
            "traefik"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1543970256-c86ba45b0d9b.jpeg",
                "desc": "You don’t have to be at the top to enjoy the view"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "使用YAML 文件创建 Kubernetes Deployment",
        "uri": "post/使用YAML 文件创建 kubernetes Deployment",
        "content": "kubernetes             kubectl          POD         kubernetes          YAML                 YAML         POD                  YAML              YAML         kubernetes pod          kubernetes deployment   YAML    YAML                         JSON     YAML        j m l                                                                         Tab                                                                      kubernetes                 Lists Maps            Lists Maps Maps Lists                                           Maps        Maps      Map        key value     Maps                      apiVersion  v1 kind  Pod                                                            kind   apiVersion           v1 Pod     YAML       JSON                    apiVersion    v1    kind    pod                   YAML         KEY               Maps  apiVersion  v1 kind  Pod metadata  name  kube100 site labels  app  web     YAML    metadata    KEY         Maps        labels    KEY       Map                             YAML         YAML                                YAML                                                                    4            name   labels             YAML                MAP   app   labels       app               YAML           tab                 YAML       JSON        apiVersion    v1    kind    Pod    metadata      name    kube100 site    labels      app    web                JSON                YAML              Lists Lists               YAML              args Cat Dog Fish                                                    JSON          args      Cat    Dog    Fish         list         Maps Maps        list      apiVersion  v1 kind  Pod metadata  name  kube100 site labels  app  web spec  containers  name  front end image  nginx ports  containerPort  80 name  flaskapp demo image  jcdemo flaskapp ports  containerPort  5000      YAML             containers   List           name image ports       ports      key   containerPort   Map                 JSON          apiVersion    v1    kind    Pod    metadata      name    kube100 site    labels      app   web        spec      containers       name    front end    image    nginx    ports       containerPort    80           name    flaskapp demo    image    jcdemo flaskapp    ports       containerPort    5000                   JSON           YAML             YAML    Pod         YAML                                     YAML         Deployment         kubernetes                             kubernetes            Pod apiVersion  v1 kind  Pod metadata  name  kube100 site labels  app  web spec  containers  name  front end image  nginx ports  containerPort  80 name  flaskapp demo image  jcdemo flaskapp ports  containerPort  5000                POD                   apiVersion       v1               kubernetes                     kind            Pod                      Deployment Job Ingress Service     metadata          Pod     meta         namespace         spec      containers storage volumes     Kubernetes                                    Kubernetes API     Kubernetes Pod                        spec  containers  name  front end image  nginx ports  containerPort  80                           front end     nginx                    80                                                                                               name image command args workingDir ports env resources volumeMounts livenessProbe readinessProbe livecycle terminationMessagePath imagePullPolicy securityContext stdin stdinOnce tty     POD              POD   YAML      pod yaml     kubectl   POD    kubectl create  f pod yaml pod  kube100 site  created                   kubectl      POD         kubectl pods NAME READY STATUS RESTARTS AGE kube100 site 2 2 Running 0 1m        POD                                  kubectl describe                POD    kubectl delete  f pod yaml pod  kube100 site  deleted    Deployment                Deployment                      POD           POD                      kubernetes     Deployment       kubernetes      POD                                       POD                      Deployment  apiVersion  extensions v1beta1 kind  Deployment metadata  name  kube100 site spec  replicas  2      apiVersion     extensions v1beta1   kind    Deployment                       meta                         spec                                     Pod                                Kubernetes v1beta1 API           Depolyment                        Deployment   YAML     apiVersion  extensions v1beta1 kind  Deployment metadata  name  kube100 site spec  replicas  2 template  metadata  labels  app  web spec  containers  name  front end image  nginx ports  containerPort  80 name  flaskapp demo image  jcdemo flaskapp ports  containerPort  5000             pod yaml          template       POD            YAML      deployment yaml      Deployment    kubectl create  f deployment yaml deployment  kube100 site  created                    Deployment       kubectl deployments NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE kube100 site 2 2 2 2 2m           Pods                       YAML      Kubernetes",
        "objectID": "post/使用YAML 文件创建 kubernetes Deployment",
        "date": "2018-02-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "yaml",
            "Deployment"
        ],
        "keywords": [
            "kubernetes",
            "YAML",
            "Deployment"
        ],
        "slug": "use-yaml-create-kubernetes-deployment",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1502990313206-7f37a9514bea.jpeg",
                "desc": "Zigzag"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "办公环境下 kubernetes 网络互通方案",
        "uri": "post/办公环境下 Kubernetes 网络互通方案",
        "content": "kubernetes                CNI      Flannel    Overlay Network              pod               spring cloud         k8s               pod      Eureka                         ingress   ingress controller             http 80   https 443                            TangT                        1         k8s pod                                     k8s                               2         k8s svc        k8s      mysql redis        ingress 7                           service   NodePort                        k8s             2 4G   node    node 30                  k8s    pod svc node 30 IP    10 60 20 30    DNS IP    10 60 20 1 pod   10 244 0 0 24 svc   10 96 0 0 12      192 168 0 0 22   node 30         taints     k8s    pod        kubectl taint nodes node 30 forward node 30 NoSchedule node 30    snat       vim  etc sysctl d k8s conf net ipv4 ip_forward   1 sysctl  p        pod service snat iptables  t nat  A POSTROUTING  s 192 168 0 0 22  d 10 244 0 0 24  j MASQUERADE iptables  t nat  A POSTROUTING  s 192 168 0 0 22  d 10 96 0 0 12  j MASQUERADE                      k8s pod   service         node 30     ip route 10 244 0 0 255 255 255 0 10 60 20 30 ip route 10 96 0 0 255 240 0 0 10 60 20 30 DNS                             pod ip   service ip           k8s      pod ip          service ip                        DNS       cluster local  coreDNS                   A            mysql     ProjectA dev1    namespace         k8s    service                  mysql             mysql ProjectA dev1 svc cluster local   DNS         DNS     CoreDNS       service ip       DNS       cluster local      CoreDNS                                    DNS   node 30              kube dns 10 96 0 10 kubectl svc  n kube system  grep kube dns kube dns ClusterIP 10 96 0 10 53 UDP 53 TCP 20d               DNS IP   10 60 20 1     node 30        10 60 20 1    svc  10 96 0 0 12      DNS IP 10 60 20 1         route add  net 10 96 0 0 12 gw 10 60 20 30 node 30 IP 10 60 20 30   snat iptables  t nat  A POSTROUTING  s 10 60 20 1 32  d 10 96 0 0 12  j MASQUERADE                     DNS IP 10 60 20 1    node 30       nodeSelector node 30     nginx ingress controller   4     coredns  TCP UDP 53     node 30      kubectl label nodes node 30 node dns l4     namespace  kubectl create ns dns l4   namespace dns l4     nginx ingress controller     node 30  Tolerate         kind  ConfigMap apiVersion  v1 metadata  name  nginx configuration namespace  dns l4 labels  app kubernetes io name  ingress nginx app kubernetes io part of  ingress nginx kind  ConfigMap apiVersion  v1 metadata  name  tcp services namespace  dns l4 labels  app kubernetes io name  ingress nginx app kubernetes io part of  ingress nginx data  53   kube system kube dns 53  kind  ConfigMap apiVersion  v1 metadata  name  udp services namespace  dns l4 labels  app kubernetes io name  ingress nginx app kubernetes io part of  ingress nginx data  53   kube system kube dns 53  apiVersion  v1 kind  ServiceAccount metadata  name  nginx ingress serviceaccount namespace  dns l4 labels  app kubernetes io name  ingress nginx app kubernetes io part of  ingress nginx apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRole metadata  name  nginx ingress clusterrole labels  app kubernetes io name  ingress nginx app kubernetes io part of  ingress nginx rules  apiGroups     resources  configmaps endpoints nodes pods secrets verbs  list watch apiGroups     resources  nodes verbs  apiGroups     resources  services verbs  list watch apiGroups   extensions  resources  ingresses verbs  list watch apiGroups     resources  events verbs  create patch apiGroups   extensions  resources  ingresses status verbs  update apiVersion  rbac authorization k8s io v1beta1 kind  Role metadata  name  nginx ingress role namespace  dns l4 labels  app kubernetes io name  ingress nginx app kubernetes io part of  ingress nginx rules  apiGroups     resources  configmaps pods secrets namespaces verbs  apiGroups     resources  configmaps resourceNames  Defaults     Here      adapted change either parameter when launching nginx ingress controller   ingress controller leader nginx  verbs  update apiGroups     resources  configmaps verbs  create apiGroups     resources  endpoints verbs  apiVersion  rbac authorization k8s io v1beta1 kind  RoleBinding metadata  name  nginx ingress role nisa binding namespace  dns l4 labels  app kubernetes io name  ingress nginx app kubernetes io part of  ingress nginx roleRef  apiGroup  rbac authorization k8s io kind  Role name  nginx ingress role subjects  kind  ServiceAccount name  nginx ingress serviceaccount namespace  dns l4 apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRoleBinding metadata  name  nginx ingress clusterrole nisa binding labels  app kubernetes io name  ingress nginx app kubernetes io part of  ingress nginx roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  nginx ingress clusterrole subjects  kind  ServiceAccount name  nginx ingress serviceaccount namespace  dns l4 apiVersion  extensions v1beta1 kind  Deployment metadata  name  nginx ingress controller namespace  dns l4 labels  ",
        "objectID": "post/办公环境下 Kubernetes 网络互通方案",
        "date": "2019-01-11T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "dns",
            "coredns"
        ],
        "slug": "office-env-k8s-network",
        "keywords": [
            "kubernetes",
            "coredns",
            "kubedns",
            "网络互通"
        ],
        "gitcomment": true,
        "notoc": true,
        "category": "Kubernetes"
    },
    {
        "title": "华为 CloudNativeLives K8S 系列课程",
        "uri": "post/华为 CloudNativeLives K8S系列课程",
        "content": "CloudNativeLives   Kubernetes                                         Cloud Native                Cloud Migration      Cloud Native                                                                                                                  CloudNativeLives                                                              CNCF Cloud Native Computing Foundation                                                                                    CNCF   Maintainer Committer         CNCF                                CloudNativeLives           20 00                 https   bbs huaweicloud com webinar CloudNativeLives                                     k8s                CloudNativeLives",
        "objectID": "post/华为 CloudNativeLives K8S系列课程",
        "date": "2018-08-31T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "CloudNative",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "CloudNative",
            "课程",
            "华为"
        ],
        "slug": "huawei-cloudnativelives-k8s-course",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535632788826-78ca9d09d2e7.jpeg",
                "desc": "NIGHT FULL OF MAGIC"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "双11优点知识课程优惠活动",
        "uri": "post/双11优点知识课程优惠活动",
        "content": "11                                         11                                                                11 11                                                                                               Docker Kubernetes      349    399          Kubernetes      49    59   Django2 0         80    99    0         59    69           https   youdianzhishi com",
        "objectID": "post/双11优点知识课程优惠活动",
        "date": "2018-11-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "双11",
            "课程",
            "活动"
        ],
        "slug": "course-11-promotion",
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "名称解释OCI、runc、containerd、Docker、CRI、CRI-O",
        "uri": "post/名称解释OCI、runc、containerd、Docker、CRI、CRI-O",
        "content": "TODO",
        "objectID": "post/名称解释OCI、runc、containerd、Docker、CRI、CRI-O",
        "date": "2018-06-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Pod",
            "Docker"
        ],
        "keywords": [
            "kubernetes",
            "Pod",
            "Docker",
            "runc",
            "CRI"
        ],
        "slug": "what-is-oci-runc-containerd-cri-docker",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1497864149936-d3163f0c0f4b.jpeg",
                "desc": "Coloured pencils"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "国庆 K8S 课程特别活动",
        "uri": "post/国庆 K8S 课程特别活动",
        "content": "3                                Kubernetes      59    Docker   Kubernetes       399       Kubernetes       99      557         399              www haimaxy com          2018 9 26  10 01        1             Kubernetes       Docker   Kubernetes          2      iEverything               59      3",
        "objectID": "post/国庆 K8S 课程特别活动",
        "date": "2018-09-27T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "国庆",
            "课程",
            "活动"
        ],
        "slug": "k8s-course-promotion",
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "圣诞元旦课程优惠活动",
        "uri": "post/圣诞元旦课程优惠活动",
        "content": "A                                     B                                   C                                                                                              Docker Kubernetes      360    399   Kubernetes        59    69   Django2 0         88    99          Kubernetes      49    59       Kubernetes                Kubernetes      99         2019 1 3                               https   youdianzhishi com",
        "objectID": "post/圣诞元旦课程优惠活动",
        "date": "2018-12-22T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "课程"
        ],
        "slug": "shengdan-promotion",
        "keywords": [
            "kubernetes",
            "课程",
            "优惠"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/rx2a1.jpg",
                "desc": "活动"
            }
        ],
        "category": "课程"
    },
    {
        "title": "在 Kubernetes 上搭建 EFK 日志收集系统",
        "uri": "post/在 Kubernetes 上搭建 EFK 日志收集系统",
        "content": "Kubernetes              Kubernetes                 Elasticsearch Fluentd   Kibana EFK                      Elasticsearch                                                                    Elasticsearch     Kibana      Kibana   Elasticsearch               Dashboard Kibana       web       Elasticsearch       Fluentd                   Kubernetes         Fluentd                               Elasticsearch                                   Elasticsearch        Kubernetes         Kibana         DaemonSet     Fluentd        Kubernetes              Pod     Elasticsearch        Elasticsearch                                            kube logging yaml     apiVersion  v1 kind  Namespace metadata  name  logging      kubectl                logging   namespace    kubectl create  f kube logging yaml namespace logging created   kubectl ns NAME STATUS AGE default Active 244d istio system Active 100d kube ops Active 179d kube public Active 244d kube system Active 244d logging Active 4h monitoring Active 35d                                 EFK              3    Elasticsearch           3  Elasticsearch Pod                                                                     Elasticsearch              https   www elastic co guide en elasticsearch reference current modules node html split brain              discover zen minimummasternodes N 2 1   N  Elasticsearch                    3       N     2                                                                    Elasticsearch                         elasticsearch            elasticsearch svc yaml         kind  Service apiVersion  v1 metadata  name  elasticsearch namespace  logging labels  app  elasticsearch spec  selector  app  elasticsearch clusterIP  None ports  port  9200 name  rest port  9300 name  inter node         elasticsearch   Service     app elasticsearch      Elasticsearch StatefulSet                  app elasticsearch  Elasticsearch Pods   DNS        clusterIP None                        9200 9300       REST API                  kubectl                  kubectl create  f elasticsearch svc yaml service elasticsearch created   kubectl services   namespace logging Output NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE elasticsearch ClusterIP None 9200 TCP 9300 TCP 26s         Pod                 elasticsearch logging svc cluster local         StatefulSet        Elasticsearch   Pod     Kubernetes StatefulSet       Pod                 Elasticsearch            Pod                          StatefulSet     Pod            StaefulSet              StatefulSet       https   kubernetes io docs concepts workloads controllers statefulset        elasticsearch statefulset yaml                   apiVersion  apps v1 kind  StatefulSet metadata  name  es cluster namespace  logging spec  serviceName  elasticsearch replicas  3 selector  matchLabels  app  elasticsearch template  metadata  labels  app  elasticsearch                es cluster   StatefulSet        serviceName elasticsearch       Service               DNS      StatefulSet       Pod es cluster  0 1 2  elasticsearch logging svc cluster local    0 1 2         Pod         3      matchLabels    app elasticsearch    Pod       spec template metadata lables     app elasticsearch         Pod             spec  containers  name  elasticsearch image  docker elastic co elasticsearch elasticsearch oss 6 4 3 resources  limits  cpu  1000m requests  cpu  100m ports  containerPort  9200 name  rest protocol  TCP containerPort  9300 name  inter node protocol  TCP volumeMounts  name  data mountPath   usr share elasticsearch data env  name  cluster name value  k8s logs name  node name valueFrom  fieldRef  fieldPath  metadata name name  discovery zen ping unicast hosts value   es cluster 0 elasticsearch es cluster 1 elasticsearch es cluster 2 elasticsearch  name  discovery zen minimummasternodes value   2  name  ESJAVAOPTS value    Xms512m  Xmx512m         StatefulSet    Pod          oss           Elasticsearch               X Pack                   9200 9300                 Service           volumeMount                     VolumeClaims                       cluster name Elasticsearch               k8s logs  node name         metadata name          es cluster  0 1 2              discovery zen ping unicast hosts          Elasticsearch                     unicastdiscovery                                         Pod       DNS  es cluster 0 1 2  elasticsearch logging svc cluster local                      namespace               es cluster  0 1 2  elasticsearch       Elasticsearch             Elasticsearch       https   www elastic co guide en elasticsearch reference current modules discovery html  discovery zen minimummasternodes         N 2    1 N                      3  Elasticsearch              2                                  Elasticsearch    https   www elastic co guide en elasticsearch reference current modules node html split brain  ESJAVAOPTS         Xms512m  Xmx512m   JVM  512 MB                                                     https   www elastic co guide en elasticsearch reference current heap size html          initContainer          initContainers  name",
        "objectID": "post/在 Kubernetes 上搭建 EFK 日志收集系统",
        "date": "2019-01-17T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "EFK",
            "Elasticsearch",
            "Fluentd",
            "Kibana"
        ],
        "keywords": [
            "kubernetes",
            "log",
            "EFK",
            "Elasticsearch",
            "Fluentd",
            "Kibana"
        ],
        "slug": "install-efk-stack-on-k8s",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/vphcv.jpg",
                "desc": "EFK Stack"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "在 Django 中如何添加没有微秒的 DateTimeField 属性",
        "uri": "post/在django中如何添加没有微秒的DateTimeField",
        "content": "Django                              DateTimeField                            Task Model       class Task models Model                  title   models CharField maxlength 256  verbosename u      createdat   models DateTimeField autonowadd True  verbosename u                            page page_size                                                               data      count   5   has_next   1   tasks        title            1    ts   1546829224000   id   1       title            2    ts   1546829641000   id   2         result   1       2            API                            1546829641000                                                            ts   stringutils getnum request GET get  ts   0   0  alltask   Task objects filter createdatgt dateutils timestamp2datetime ts                              DateTime           createdat_gt                                                             gt   gte                              created_at                           task   Task objects get pk 2      task created_at datetime datetime 2019  1  7  10  54  1  343136            DateTime            ts   int 1546829641000 1000      date_utils timestamp2datetime ts  datetime datetime 2019  1  7  10  54  1                      createdat                   343136         DateTime                           createdat_gt         createdat                                                                                                                        created_at    DateTimeField                                               DateTimeField               django db backends mysql base py            class DatabaseWrapper BaseDatabaseWrapper   vendor    mysql  dictionary maps Field objects associated MySQL column types  strings  Column type strings contain format strings  they ll interpolated against values Field dict output  column type set None  won t included output  datatypes      AutoField    integer AUTO_INCREMENT    BinaryField    longblob    BooleanField    bool    CharField    varchar   max_length s     CommaSeparatedIntegerField    varchar   max_length s     DateField    date    DateTimeField    datetime    DecimalField    numeric   maxdigits s    decimalplaces s     DurationField    bigint    FileField    varchar   max_length s     FilePathField    varchar   max_length s     FloatField    double precision    IntegerField    integer    BigIntegerField    bigint    IPAddressField    char 15     GenericIPAddressField    char 39     NullBooleanField    bool    OneToOneField    integer    PositiveIntegerField    integer UNSIGNED    PositiveSmallIntegerField    smallint UNSIGNED    SlugField    varchar   max_length s     SmallIntegerField    smallint    TextField    longtext    TimeField    time    UUIDField    char 32       cached_property def data_types self   self features supportsmicrosecondprecision  return dict self datatypes  DateTimeField  datetime 6    TimeField  time 6    else  return self datatypes     further class methods     datatypes        MySQL        supportsmicrosecond_precision     django db backends mysql features py  class DatabaseFeatures BaseDatabaseFeatures       properties methods def supportsmicrosecondprecision self   https   github com farcepest MySQLdb1 issues 24 reason requiring MySQLdb 1 2 5 return self connection mysqlversion     5  6  4  Database versioninfo     1  2  5                 MySQL      5 6 4      DateTimeField           datetime 6                   Django                                                   data_types          django db backends mysql base import DatabaseWrapper DatabaseWrapper datatypes   DatabaseWrapper data_types                  models py  init py             migrations       DateTimeField                      datetime    datetime 6         5 6 4                                    created_at          mysql  ALTER TABLE task CHANGE COLUMN createdat createdat datetime NOT NULL  Query OK  156 rows affected  0 14 sec  Records  156 Duplicates  0 Warnings  0         BUG              https   stackoverflow com questions 46539755 how to add datetimefield in django without microsecond",
        "objectID": "post/在django中如何添加没有微秒的DateTimeField",
        "subtitle": "Django 中关于 DateTimeField 属性的一个大坑",
        "date": "2019-01-29T00:00:00.000Z",
        "tags": [
            "django",
            "mysql"
        ],
        "keywords": [
            "django",
            "DateTimeField",
            "mysql"
        ],
        "slug": "how-to-add-datetimefield-in-django-without-microsecond",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/th4t4.jpg",
                "desc": "C H A O S"
            }
        ],
        "category": "django"
    },
    {
        "title": "在 Docker 容器中运行 JVM 的注意事项",
        "uri": "post/在Docker容器中运行JVM的注意事项",
        "content": "https   medium com domain tech running jvm inside a container what you need to know aac6fa6c12c8",
        "objectID": "post/在Docker容器中运行JVM的注意事项",
        "date": "2019-01-05T00:00:00.000Z",
        "tags": [
            "docker",
            "java",
            "jvm"
        ],
        "slug": "running-jvm-inside-a-container",
        "keywords": [
            "docker",
            "容器",
            "java",
            "jvm"
        ],
        "gitcomment": true,
        "notoc": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1544137105-295758788545.jpeg",
                "desc": "Monte Due Mani, Italy"
            }
        ],
        "category": "docker",
        "draft": true
    },
    {
        "title": "在kubernetes 集群上搭建docker 私有仓库Harbor",
        "uri": "post/在kubernetes 上搭建docker 私有仓库Harbor",
        "content": "Harbor          Docker       Registry                                      Docker Distribution          Registry     Harbor                   Registry               Harbor        Registry                   Registry                           Harbor                                       kubernetes            Harbor                    Docker                                      project                        Registry                                                              Docker                AD LDAP      Harbor           AD LDAP                                                                                         RESTful API   RESTful API         Harbor                                                     vSphere   OVA               clone harbor             harbor    kubernetes        kubernetes_deployment md  harbor      python    make kubernetes prepare    kubernetes  ConfigMap           python               python             openssl                            openssl                f         harbor cfg                  k  https          harbor cfg     sslcertkey     c  https           harbor cfg     ssl_cert     s          16                                               make harbor cfg  Harbor          make kubernetes    rc yaml                      rc yaml                     containers  name  nginx app it s importent need modify path image  image  harbor nginx make kubernetes pv  pvc yaml  Persistent Volume Claim                     resources  requests  set value adapt needs storage  100Gi make kubernetes pv  pv yaml  Persistent Volume          pvc yaml  PV   PVC              PVC                PV         capacity  value PVC storage  100Gi                        ConfigMap    python make kubernetes prepare                    make kubernetes jobservice jobservice cm yaml make kubernetes mysql mysql cm yaml make kubernetes nginx nginx cm yaml make kubernetes registry registry cm yaml make kubernetes ui ui cm yaml                                               make kubernetes templates         Harbor       jobservice cm yaml  jobservice       WEB     mysql cm yaml  MySQL  Root      nginx cm yaml  Https     nginx    registry cm yaml  Token       Registry                                storage  filesystem  rootdirectory   storage                         Docker         ui cm yaml  Token       UI  Dashboard       WEB     ui   jobservice   beego        beego                                            namespace kube ops    Harbor    namespace                traefik ingress                     nginx             nginx              make kubernetes     rc yaml    ReplicationController  Deployment   Deployment ReplicationController        apiVersion      apiVersion  extensions v1beta1    sepc    selector         make kubernetes      rc yaml  mysql rc yaml    svc yaml     namespace kube ops         mysql              mysql rc yaml  StatefulSet apiVersion        apps v1beta1             nfs                make kubernetes pv      ops pv yaml      pv         apiVersion  v1 kind  PersistentVolume metadata  name  opspv labels  k8s app  opspv spec  accessModes  ReadWriteMany capacity  storage  100Gi persistentVolumeReclaimPolicy  Retain nfs  path   ops data server  192 168 1 139          nfs           apiVersion  v1 kind  PersistentVolumeClaim metadata  name  opspvc namespace  kube ops labels  k8s app  opspvc spec  accessModes  ReadWriteMany resources  requests  storage  100Gi selector  matchLabels  k8s app  opspv             pv pvc       rc yaml     claimName      opspvc      volumeMounts       subPath               volumeMounts  name  logs mountPath   var log jobs subPath  harbor logs volumes  name  logs persistentVolumeClaim  claimName  opspvc           Harbor realse                            harbor   tgz          docker                docker load  i harbor   tgz            POD                                                         vmware docker            adminserver     clone     make kubernetes template    adminserver cm yaml             github                        github                       ConfigMap                  Harbor   create pv   pvc   kubectl apply  f make kubernetes pv ops pv yaml create config map   kubectl apply  f make kubernetes adminserver adminserver cm yaml   kubectl apply  f make kubernetes jobservice jobservice cm yaml   kubectl apply  f make kubernetes mysql mysql cm yaml   kubectl apply  f make kubernetes registry registry cm yaml   kubectl apply  f make kubernetes ui ui cm yaml create service   kubectl apply  f make kubernetes adminserver adminserver svc yaml   kubectl apply  f make kubernetes jobservice jobservice svc yaml   kubectl apply  f make kubernetes mysql mysql svc yaml   kubectl apply  f make kubernetes registry registry svc yaml   kubectl apply  f make kubernetes ui ui svc yaml create k8s deployment statefulset   kubectl apply  f make kubernetes adminserver adminserver rc yaml   kubectl apply  f make kubernetes registry registry rc yaml   kubectl apply  f make kubernetes mysql mysql rc yaml   kubectl apply  f make kubernetes jobservice jobservice rc yaml   kubectl apply  f make kubernetes u",
        "objectID": "post/在kubernetes 上搭建docker 私有仓库Harbor",
        "date": "2017-11-20T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker",
            "Harbor"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "Harbor",
            "私有仓库"
        ],
        "slug": "install-docker-registry-harbor-in-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/23595852_383101912103802_7062153744867131392_n.jpg",
                "desc": "it’s the season for rainy days and yellow ginkgo leaves. "
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "使用 Kubernetes Helm 安装 Drone",
        "uri": "post/基于 Drone 的 CICD(一)",
        "content": "CI CD   devops                       CI CD              CI CD                       Jenkins  gitlab ci          CI CD                                            CI CD      Drone       Drone   Kubernetes               Drone                    Kubernetes            Helm   Kubernetes        Drone           K8S       Drone                     Drone                                Drone 1 2 Kubectl   Kubernetes v1 14 2 Helm CLI   Tiller  v2 14 1 Docker  18 09 1 Golang  1 11 4 Drone Drone    Go         Docker          CI CD         SaaS                Drone       YAML            Docker        Pipeline Drone          Server                Secrets    Webhook        Agent                   Pipeline      Server   Agent                  10 15MB                             Raspberry PI         Drone                 Drone    GitHub GitLab Gogs                        Kubernetes               Helm    Drone     Kubernetes           Kubernetes                   Kubernetes                  Helm                    Helm            Helm                       Helm Chart          Chart   https   github com helm charts tree master stable drone                Drone                                  GitHub   Drone           GitHub         OAuth         GitHub     https   github com settings applications new                      Drone   ClientID   ClientSecret                 drone values yaml          values yaml    values       Drone       ingress  enabled  true annotations  kubernetes io ingress class  nginx kubernetes io tls acme   true  hosts  drone qikqiak com tls  secretName  drone tls hosts  drone qikqiak com sourceControl  provider  github github  clientID       ClientID  clientSecretKey  clientSecret clientSecretValue       ClientSecret  server  https   github com server  adminUser  cnych   github      Configures drone use kubernetes run pipelines rather agents  enabled will not deploy agents  kubernetes  set true want drone use kubernetes run pipelines enabled  true persistence  enabled  true existingClaim  dronepvc      Ingress       Drone            kubernetes io tls acme   true   annotation               Cert Manager           https               Let s Encrypt    Kubernetes Ingress     HTTPS     server adminUser   GitHub                              server kubernetes enabled true         true     Drone              Kubernetes   Job             Drone   agent       true             drone agent          persistence existingClaim       PVC                       dronepvc    PVC    volume yaml   apiVersion  v1 kind  PersistentVolume metadata  name  dronepv spec  capacity  storage  5Gi accessModes  ReadWriteOnce persistentVolumeReclaimPolicy  Retain nfs  server  10 151 30 11 path   data k8s kind  PersistentVolumeClaim apiVersion  v1 metadata  name  dronepvc namespace  kube ops spec  accessModes  ReadWriteOnce resources  requests  storage  5Gi            values       Drone    kubectl apply  f volume yaml   helm repo update   helm install   name drone     namespace kube ops    f drone values yaml   stable drone Release  drone  installed  Happy Helming  LAST DEPLOYED  Mon Aug 5 23 35 22 2019 NAMESPACE  kube ops STATUS  DEPLOYED RESOURCES    v1 ServiceAccount NAME SECRETS AGE drone drone pipeline 1 18d drone drone 1 18d   v1 RoleBinding NAME AGE drone drone 18d   v1beta1 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE drone drone server 1 1 1 0 18d   v1beta1 Ingress NAME HOSTS ADDRESS PORTS AGE drone drone drone qikqiak com 80  443 18d   v1 Pod related  NAME READY STATUS RESTARTS AGE drone drone server 6f66b47dc 69qmf 0 1 ContainerCreating 0 0s   v1 Secret NAME TYPE DATA AGE drone drone source control Opaque 1 18d drone drone Opaque 1 18d   v1 ClusterRole NAME AGE drone drone pipeline 18d   v1 ClusterRoleBinding NAME AGE drone drone pipeline 18d   v1 Role NAME AGE drone drone 18d   v1 Service NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE drone drone ClusterIP 10 105 20 182 80 TCP 18d NOTES    PLEASE PATIENT  drone may few minutes install   outside cluster  server URL s  are  http   drone qikqiak com             Drone Chart    drone 2 0 5                                   Pod       kubectl pods  n kube ops  l app drone NAME READY STATUS RESTARTS AGE drone drone server 6f66b47dc 69qmf 1 1 Running 0 96s             drone qikqiak com     DNS                       nginx ingress Pod                             drone        etc hosts                   drone qikqiak com             GitHub              GitHub          Drone                       ACTIVATE                                 Helm       Drone                 Drone   Pipeline     CI CD",
        "objectID": "post/基于 Drone 的 CICD(一)",
        "subtitle": "基于 Drone 的 CI/CD（一）",
        "date": "2019-08-05T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "devops",
            "drone",
            "CI",
            "CD",
            "github",
            "helm"
        ],
        "keywords": [
            "kubernetes",
            "devops",
            "drone",
            "CI",
            "CD",
            "github",
            "动态",
            "helm"
        ],
        "slug": "drone-with-k8s-1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1564760055775-d63b17a55c44.jpeg",
                "desc": "https://unsplash.com/photos/j4ocWYAP_cs"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Drone 结合 Helm 部署 Kubernetes 应用",
        "uri": "post/基于 Drone 的 CICD(三)",
        "content": "Drone                          Kubernetes       Helm       Drone     cert manager   Drone         HTTPS                 Drone     Pipeline        Docker              Helm Chart        Drone Pipeline               Kubernetes          Helm                           Helm      Helm Chart       https   github com cnych drone k8s demo          Helm Chart      helm create drone k8s demo Creating drone k8s demo   mv drone k8s demo helm           helm   Helm Chart             helm create           chart                 charts             chart       templates            chart               values yaml          Kubernetes        Charts yaml    Chart      Meta    values yaml    Chart       values                      tree       Dockerfile     README md     go mod     go sum     helm       Chart yaml       charts       templates         NOTES txt         _helpers tpl         deployment yaml         ingress yaml         service yaml       values yaml     main go 6 directories  19 files                        values yaml   templates                      helm create        chart                      metadata              metadata  name     include  drone k8s demo fullname       labels  app     include  drone k8s demo name       chart     include  drone k8s demo chart       release      Release Name    heritage      Release Service                                         Chart             Values             values yaml      replicaCount  1 image  repository  nginx tag  stable pullPolicy  IfNotPresent nameOverride     fullnameOverride     service  type  ClusterIP port  80 ingress  enabled  false annotations     path    hosts  chart example local tls       secretName  chart example tls hosts    chart example local resources     nodeSelector     tolerations     affinity          values                                                   image                      Drone Pipeline               image  repository  cnych drone k8s demo tag  latest pullPolicy  Always        pullPolicy     Always             latest                                      Web           health                                deployment yaml          liveness probe   rediness probe                     health       livenessProbe  httpGet  path   health port  http readinessProbe  httpGet  path   health port  http        health           200         Kubernetes               liveness probe           Pod readiness probe          Pod   Service   Endpoints          Service              Pod                 8080               Deployment           ports  name  http containerPort  8080 protocol  TCP                                  helm install   dry run   debug                             helm install   dry run   debug   name staging   namespace kube ops helm   debug  Created tunnel using local port   64832   debug  SERVER   127 0 0 1 64832         Source  drone k8s demo templates deployment yaml apiVersion  apps v1beta2 kind  Deployment metadata  name  staging drone k8s demo labels  app  drone k8s demo chart  drone k8s demo 0 1 0 release  staging heritage  Tiller spec  replicas  1 selector  matchLabels  app  drone k8s demo release  staging template  metadata  labels  app  drone k8s demo release  staging spec  containers  name  drone k8s demo image   cnych drone k8s demo latest  imagePullPolicy  Always ports  name  http containerPort  8080 protocol  TCP livenessProbe  httpGet  path   health port  http readinessProbe  httpGet  path   health port  http resources            values yaml               Deployment                                                   Service yaml     apiVersion  v1 kind  Service metadata  name     include  drone k8s demo fullname       labels  app     include  drone k8s demo name       chart     include  drone k8s demo chart       release      Release Name    heritage      Release Service    spec  type      Values service type    ports  port      Values service port    targetPort  http protocol  TCP name  http selector  app     include  drone k8s demo name       release      Release Name                             ports     targetPort   http                      Pod                 Service     targetPort               8080       http       Pod               selector       Pod       label                 Ingress                  Ingress          Values ingress enabled                end                values     ingress enabled true      Ingress            helm         my values yaml             values     image  repository  cnych drone k8s demo tag  latest pullPolicy  Always ingress  enabled  true annotations  kubernetes io ingress class  nginx path    hosts  drone k8s demo local resources  limits  cpu  50m memory  128Mi requests  cpu  50m memory  128Mi                             helm install   dry run   debug   name staging   namespace kube ops  f helm my values yaml helm        Chart         Pipeline                Pipeline                    Chart         Drone Pipeline                            Helm                    helm               Kubernetes                          helm                                            Drone                   Drone        ",
        "objectID": "post/基于 Drone 的 CICD(三)",
        "subtitle": "基于 Drone 的 CI/CD（三）",
        "date": "2019-08-07T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "devops",
            "drone",
            "CI",
            "CD",
            "github",
            "helm"
        ],
        "keywords": [
            "kubernetes",
            "devops",
            "drone",
            "CI",
            "CD",
            "github",
            "动态",
            "helm"
        ],
        "slug": "drone-with-k8s-3",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1551949730-c0b55d675af1.jpeg",
                "desc": "Here we go for a photo, above the clouds."
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "使用 Drone Pipeline 构建 Docker 镜像",
        "uri": "post/基于 Drone 的 CICD(二)",
        "content": "Drone                          Kubernetes       Helm       Drone     cert manager   Drone         HTTPS               Golang       Drone   Pipeline        Docker     Go           Go        web    gin         web      GitHub         drone k8s demo       Clone          main go           package main import    net http   github com gin gonic gin   github com sirupsen logrus    func main     r    gin Default   r GET   health   func c  gin Context    c JSON http StatusOK  gin H    health   true        err    r Run   8080    err    nil   logrus WithError err  Fatal  Couldn t listen              8080             health           JSON                     go1 11 4           Go Modules                    mod init    go mod init dronek8s      Go Modules                      Go Modules                   GitHub     https   github com cnych drone k8s demo Docker                  Docker       Dockerfile                                   Dockerfile              Drone   Pipeline                        Dockerfile          alpine WORKDIR  home   alpine      RUN sed  i  s dl cdn alpinelinux org mirrors ustc edu cn g   etc apk repositories      apk update      apk upgrade      apk add ca certificates    update ca certificates      apk add   update tzdata      rm  rf  var cache apk   COPY demo app  home  ENV TZ Asia Shanghai EXPOSE 8080 ENTRYPOINT   demo app              demo app                                        demo app              go build       CGO_ENABLED 0 GOOS linux GOARCH amd64 go build  o demo app   ls Dockerfile README md demo app go mod go sum main go                 Docker        docker build  t cnych drone k8s demo       Successfully built 85a88c8e944a   docker images cnych drone k8s demo latest 85a88c8e944a 43 hours ago 31 1MB        Golang       Docker                       docker run   rm   name drone k8s demo  p 8080 8080 cnych drone k8s demo  GIN debug   WARNING  Creating Engine instance Logger Recovery middleware already attached   GIN debug   WARNING  Running  debug  mode  Switch  release  mode production  using env  export GIN_MODE release using code  gin SetMode gin ReleaseMode   GIN debug   health     main main func1  3 handlers   GIN debug  Listening serving HTTP 127 0 0 1 8080    health       curl http   127 0 0 1 8080 health   health  true             Docker          Pipeline               Golang       Docker                       Drone                  Drone                           Drone        Travis CI GitLab CI                          drone yml                           Pipeline       kind  pipeline name  default steps  name  linter image  golang latest environment  GOPROXY  https   mirrors aliyun com goproxy  commands  go  u github com golangci golangci lint cmd golangci lint golangci lint run name  build image  golang latest environment  GOPROXY  https   mirrors aliyun com goproxy  commands  CGO_ENABLED 0 go build  o demo app name  docker image  plugins docker settings  repo  cnych drone k8s demo use_cache  true username  fromsecret  dockerusername password  fromsecret  dockerpassword tags  latest when  event  push branch  master         pipeline        3    linter build docker                                                     linter   build      golang latest           build                go build        docker        plugins docker                 Dockerfile         tag                      username   password              secret     username fromsecret dockerusername password fromsecret dockerpassword     secret        drone cli             Drone                  GitHub     Drone                    Pipeline         Secret          Drone Pipeline                   drone yml      GitHub                     Drone             Pipeline                                                 Drone      Kubernetes              Agent     Drone                    Job          kubectl job  n kube ops NAME COMPLETIONS DURATION AGE        drone job 26 lo6kxn8f4dde6t8n5 1 1 7m1s 22h drone job 27 aibtb6jahfq8dg88t 1 1 6m14s 11m drone job 28 lgwtvdybpxwwgxwxl 0 1 12s 12s   kubectl pods  n kube ops        drone job 28 lgwtvdybpxwwgxwxl hs28f 1 1 Running 0 2m3s drone job 26 lo6kxn8f4dde6t8n5 bbw8t 0 1 Completed 0 22h drone job 27 aibtb6jahfq8dg88t qkmn5 0 1 Completed 0 12m Job   Drone                 Pod         Completed                          Job                       Job              APIServer     TTLAfterFinished    Feature Gates                    Drone Pipeline              Docker          DockerHub                   Helm        Kubernetes",
        "objectID": "post/基于 Drone 的 CICD(二)",
        "subtitle": "基于 Drone 的 CI/CD（二）",
        "date": "2019-08-06T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "devops",
            "drone",
            "CI",
            "CD",
            "github",
            "helm"
        ],
        "keywords": [
            "kubernetes",
            "devops",
            "drone",
            "CI",
            "CD",
            "github",
            "动态",
            "helm"
        ],
        "slug": "drone-with-k8s-2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1565010505255-cd05a670b436.jpeg",
                "desc": "Drone Shot of a bridge over a river"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "基于 kubernetes 的动态 jenkins slave",
        "uri": "post/基于 jenkins 的 CICD(一)",
        "content": "Kubernetes                                                          CI CD                            Kubernete CI CD              Jenkins Gitlab CI     drone                  Jenkins  CI CD                              Jenkins                 Jenkins                     Jenkins                             Kubernetes  CI CD           Jenkins     Kubernetes           Deployment  jenkins2 yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  jenkins2 namespace  kube ops spec  template  metadata  labels  app  jenkins2 spec  terminationGracePeriodSeconds  10 serviceAccountName  jenkins2 containers  name  jenkins image  jenkins jenkins lts imagePullPolicy  IfNotPresent ports  containerPort  8080 name  web protocol  TCP containerPort  50000 name  agent protocol  TCP resources  limits  cpu  1000m memory  1Gi requests  cpu  500m memory  512Mi livenessProbe  httpGet  path   login port  8080 initialDelaySeconds  60 timeoutSeconds  5 failureThreshold  12 readinessProbe  httpGet  path   login port  8080 initialDelaySeconds  60 timeoutSeconds  5 failureThreshold  12 volumeMounts  name  jenkinshome subPath  jenkins2 mountPath   var jenkins_home securityContext  fsGroup  1000 volumes  name  jenkinshome persistentVolumeClaim  claimName  opspvc apiVersion  v1 kind  Service metadata  name  jenkins2 namespace  kube ops labels  app  jenkins2 spec  selector  app  jenkins2 type  NodePort ports  name  web port  8080 targetPort  web nodePort  30002 name  agent port  50000 targetPort  agent                              kube ops   namespace                 namespace    kubectl create namespace kube ops            jenkins jenkins lts        jenkins     Docker                                                                   https   github com jenkinsci docker                                    var jenkins_home            opspvc   PVC                        PVC                   StorageClass          pvc yaml  apiVersion  v1 kind  PersistentVolume metadata  name  opspv spec  capacity  storage  20Gi accessModes  ReadWriteMany persistentVolumeReclaimPolicy  Delete nfs  server  10 151 30 57 path   data k8s kind  PersistentVolumeClaim apiVersion  v1 metadata  name  opspvc namespace  kube ops spec  accessModes  ReadWriteMany resources  requests  storage  20Gi         PVC       kubectl create  f pvc yaml                       serviceAccount jenkins2         jenkins                   serviceAccount                  sa      cluster admin                             rbac yaml  apiVersion  v1 kind  ServiceAccount metadata  name  jenkins2 namespace  kube ops kind  ClusterRole apiVersion  rbac authorization k8s io v1beta1 metadata  name  jenkins2 rules  apiGroups    extensions    apps   resources    deployments   verbs    create    delete    get    list    watch    patch    update   apiGroups       resources    services   verbs    create    delete    get    list    watch    patch    update   apiGroups       resources    pods   verbs    create   delete   get   list   patch   update   watch   apiGroups       resources    pods exec   verbs    create   delete   get   list   patch   update   watch   apiGroups       resources    pods log   verbs    get   list   watch   apiGroups       resources    secrets   verbs    get   apiVersion  rbac authorization k8s io v1beta1 kind  ClusterRoleBinding metadata  name  jenkins2 roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  jenkins2 subjects  kind  ServiceAccount name  jenkins2 namespace  kube ops    rbac            kubectl create  f rbac yaml serviceaccount  jenkins2  created role rbac authorization k8s io  jenkins2  created rolebinding rbac authorization k8s io  jenkins2  created                   NodePort        Jenkins   web       30002             agent               Jenkins   master   slave                              Jenkins       kubectl create  f jenkins2 yaml deployment extensions  jenkins2  created service  jenkins2  created                               Pod        kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE jenkins2 7f5494cd44 pqpzs 0 1 Running 0 2m       Pod    Running       READY    0       describe         Pod          kubectl describe pod jenkins2 7f5494cd44 pqpzs  n kube ops     Normal Created 3m kubelet  node01 Created container Normal Started 3m kubelet  node01 Started container Warning Unhealthy 1m  x10 2m  kubelet  node01 Liveness probe failed  http   10 244 1 165 8080 login  dial tcp 10 244 1 165 8080  getsockopt  connection refused Warning Unhealthy 1m  x10 2m  kubelet  node01 Readiness probe failed  http   10 244 1 165 8080 login  dial tcp 10 244 1 165 8080  getsockopt  connection refused         Warning                                          kubectl logs  f jenkins2 7f5494cd44 pqpzs  n kube ops touch  cannot touch   var jenkinshome copyreference_file log   Permission denied not write  var jenkinshome copyreference_file log  Wrong volume permissions                             jenkins   home                        jenkins            PVC     nfs                root                                   nfs                            chown  R 1000  data k8s jenki",
        "objectID": "post/基于 jenkins 的 CICD(一)",
        "subtitle": "基于 Jenkins 的 CI/CD(一)",
        "date": "2018-07-28T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "devops",
            "jenkins",
            "slave",
            "CI",
            "CD",
            "gitlab"
        ],
        "keywords": [
            "kubernetes",
            "devops",
            "jenkins",
            "slave",
            "CI",
            "CD",
            "gitlab",
            "动态"
        ],
        "slug": "kubernetes-jenkins1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1532154984646-37dc46508066.jpeg",
                "desc": "Rainbow after the Hailstorm"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Jenkins Blue Ocean 的使用",
        "uri": "post/基于 jenkins 的 CICD(三)",
        "content": "Jenkins Pipeline        Kubernetes                                                                               CI CD                           Jenkins                     Jenkins     Jenkinsfile                              Jenkins Web UI                                Jenkinsfile                             git        dev         main go                                     k8s yaml                            https   github com cnych jenkins demo tree dev         Jenkinsfile                                 Jenkinsfile  node  haimaxy jnlp     stage  Prepare     echo  1 Prepare Stage  checkout scm script   build_tag   sh returnStdout  true  script   git rev parse   short HEAD   trim    env BRANCH_NAME     master     buildtag      env BRANCHNAME    build_tag         stage  Test     echo  2 Test Stage    stage  Build     echo  3 Build Docker Image Stage  sh  docker build  t cnych jenkins demo   build_tag       stage  Push     echo  4 Push Docker Image Stage  withCredentials  usernamePassword credentialsId   dockerHub   passwordVariable   dockerHubPassword   usernameVariable   dockerHubUser       sh  docker login  u   dockerHubUser   p   dockerHubPassword   sh  docker push cnych jenkins demo   build_tag       stage  Deploy     echo  5  Deploy Stage   env BRANCH_NAME     master     input                 sh  sed  i  s    build_tag    k8s yaml  sh  sed  i  s    env BRANCH_NAME    k8s yaml  sh  kubectl apply  f k8s yaml   record                checkout scm                                tag           master                               master                                      k8s yaml                      dev     github      BlueOcean        BlueOcean           CI CD     BlueOcean   Jenkins                Jenkins Pipeline         UI            fressstyle     job BlueOcean                 CD Pipeline                  Pipeline          Pipeline          Pipeline                 BlueOcean     Pipeline                                        GitHub    Bitbucket                             BlueOcean          Jenkins           Docker                      Jenkins       BlueOcean       Jenkins Web UI          Manage Jenkins    Manage Plugins    Available         BlueOcean                     Blue Ocean                 Pipeline   Job            Blue Ocean          Pipeline             Git GitHub                 Pipeline              Jenkins Web UI            Open Blue Ocean                         Pipeline     Blue Ocean       Create new pipeline                     Pipeline            Git Bitbucket GitHub        GitHub                GitHub       token   GitHub          Personal access token         token          Pipeline                                                jenkins demo           Pipeline     Blue Ocean                        Jenkinsfile          Pipeline         master   dev                 Jenkinsfile                 Pipeline                        master                dev             dev    pipeline                                                        Push                 jenkins demo_dev I2WMFUIFQCIFGRPNHN3HU7IZIMHEQMHWPUN2TP6DCYSWHFFFFHOA  Running shell script docker push    jenkins demo dev ee90aa5 push refers repository  docker io    jenkins demo                   Docker     Tag  dev ee90aa5         Jenkinsfile                k8s yaml               BRANCH_NAME    Jenkinsfile                 dev      push   Github           Jenkins Blue Ocean                                                      kubectl pods NAME READY STATUS RESTARTS AGE     jenkins demo 648876568d q5mbx 0 1 Completed 3 57s       kubectl logs jenkins demo 648876568d q5mbx Hello  Kubernetes I m Jenkins CI  BRANCH  dev             BRANCH  dev          CI CD              dev          master                   jenkins demo  dev  git status branch dev nothing commit  working directory clean   jenkins demo  dev  git checkout master Switched branch  master  branch up to date  origin master     jenkins demo  master  git merge dev Updating 50e0401  ee90aa5 Fast forward Jenkinsfile   29                               k8s yaml   3     main go   2    3 files changed  14 insertions     20 deletions      jenkins demo  master  git push origin master Total 0  delta 0   reused 0  delta 0  git github com cnych jenkins demo git 50e0401  ee90aa5 master    master        Jenkins   Blue Ocean            master                             Push               jenkins demo_master XA3VZ5LP4XTCFAHHXIN3G5ZB4XA4J5H6I4DNKOH6JAXZXARF7LYQ  Running shell script docker push    jenkins demo ee90aa5                    TAG   ee90aa5                   Jenkinsfile                     Deploy                                                     master                            Proceed                         Kubernetes                kubectl pods NAME READY STATUS RESTARTS AGE     jenkins demo c69dc6fdf 6ssjf 0 1 Completed 5 4m       kubectl logs jenkins demo c69dc6fdf 6ssjf Hello  Kubernetes I m Jenkins CI  BRANCH  master                  master                                    CI CD                             CI CD                                            Helm Gitlab                Pipe",
        "objectID": "post/基于 jenkins 的 CICD(三)",
        "subtitle": "基于 Jenkins 的 CI/CD(三)",
        "date": "2018-08-02T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "devops",
            "jenkins",
            "blueocean",
            "CI",
            "CD",
            "github",
            "pipeline"
        ],
        "keywords": [
            "kubernetes",
            "devops",
            "jenkins",
            "blueocean",
            "CI",
            "CD",
            "pipeline"
        ],
        "slug": "kubernetes-jenkins3",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1533151027763-09535debae4a.jpeg",
                "desc": "Durdle Door Holiday Park"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Jenkins Pipeline 部署 Kubernetes 应用(二)",
        "uri": "post/基于 jenkins 的 CICD(二)",
        "content": "Kubernetes       Jenkins Slave                     Jenkins        Kubernetes     Jenkins Pipeline         Jenkins                            Pipeline      Pipeline              Jenkins                                                           Jenkins Pipeline          Node       Node      Jenkins    Master    Agent     Step                     Jenkins Slave      Node    Stage       Pipeline          Stage    Stage           Build Test Deploy Stage                  Node Step    Step                             Docker        Jenkins           sh  make           shell                      Jenkins Pipline    Pipeline      Groovy                    Groovy          Pipeline        Declarative       Scripted Pipeline        Pipeline                Jenkins   Web UI                   Jenkinsfile                       Jenkins           SCMD       Jenkinsfile Pipeline              Pipeline                   Pipeline     Jenkins   Web UI               Job   Web UI     New Item         pipeline demo          Pipeline       OK          Pipeline        Script            node   stage  Clone     echo  1 Clone Stage    stage  Test     echo  2 Test Stage    stage  Build     echo  3 Build Stage    stage  Deploy     echo  4  Deploy Stage                 Build Now      Job                           Console Output                           Pipeline     4                                 Pipeline                         Pipeline Syntax              Pipeline                         Slave                    Pipeline                     Jenkins   Slave                  Slave                Slave Pod              label                label             Pipeline      node      label        node  haimaxy jnlp     stage  Clone     echo  1 Clone Stage    stage  Test     echo  2 Test Stage    stage  Build     echo  3 Build Stage    stage  Deploy     echo  4  Deploy Stage              node       haimaxy jnlp      label                kubernetes      Pod    kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE jenkins 7c85b6f4bd rfqgv 1 1 Running 4 6d               kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE jenkins 7c85b6f4bd rfqgv 1 1 Running 4 6d jnlp 0hrrz 1 1 Running 0 23s           jnlp 0hrrz  Pod             Pod         kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE jenkins 7c85b6f4bd rfqgv 1 1 Running 4 6d         Job            Jenkins   Web UI       Console Output                                      Pod                 Job                     Stage View        Kubernetes                 Jenkins Slave                     Kubernetes          Kubernetes                                                    Dockerfile      Docker       Docker          Kubernetes YAML       YAML     Docker    TAG    kubectl              Kubernetes                                              Jenkins                          YAML      CI           CD                            Pipeline              node  haimaxy jnlp     stage  Clone     echo  1 Clone Stage    stage  Test     echo  2 Test Stage    stage  Build     echo  3 Build Docker Image Stage    stage  Push     echo  4 Push Docker Image Stage    stage  YAML     echo  5  Change YAML File Stage    stage  Deploy     echo  6  Deploy Stage                 golang        kubernetes          https   github com cnych jenkins demo                         Pipeline         clone                                           Dockerfile                              Docker                                                YAML        TAG        TAG                    kubectl                     CI CD                                               Clone    stage  Clone     echo  1 Clone Stage  git url   https   github com cnych jenkins demo git                                       stage  Build     echo  3 Build Docker Image Stage  sh  docker build  t cnych jenkins demo   build_tag                         docker build                              Slave Pod             Docker Docker                  Slave     docker build               sh      docker build            tag            tag       latest   tag                                 git commit        tag              tag     git                           tag          stage                              tag                 Clone    stage             stage             stage  Clone     echo  1 Clone Stage  git url   https   github com cnych jenkins demo git  script   build_tag   sh returnStdout  true  script   git rev parse   short HEAD   trim       stage  Build     echo  3 Build Docker Image Stage  sh  docker build  t cnych jenkins demo   build_tag                                                                                         docker hub                        Harbor            Harbor         docker hub                                                           docker hub                                   docker              docker login                         docker push            docker hub                    Pipeline            stage  Push     echo  4 Push Docker Image Stage  sh  docker login  u cnych  p xxxxx  sh  docker push cnych jenkins demo   build_tag     ",
        "objectID": "post/基于 jenkins 的 CICD(二)",
        "subtitle": "基于 Jenkins 的 CI/CD",
        "date": "2018-07-29T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "devops",
            "jenkins",
            "slave",
            "CI",
            "CD",
            "github",
            "pipeline"
        ],
        "keywords": [
            "kubernetes",
            "devops",
            "jenkins",
            "slave",
            "CI",
            "CD",
            "pipeline"
        ],
        "slug": "kubernetes-jenkins2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1532727296720-528974148542.jpeg",
                "desc": "Blood Moon Eclipse"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "外部服务发现之 ingress(一)",
        "uri": "post/外部服务发现之 ingress(一)",
        "content": "Kubernetes      kube dns                 Kubernetes                               NodePort   LoadBlancer     Service                       Kubernetes                                     ingress             NodePort                                   NodePort                  ingress                  Port     Ingress      kuberenets                               Service          nginx haproxy                           nginx            nginx                          Nginx                         Nginx Pod                     consul                       docker                   Ingress                                                                   Ingress controller      Ingress controller                   kube apiserver             service pod                Ingress controller     Ingress                                       consul consul template                  Ingress controller        traefik nginx controller Kubernetes Ingress Controller Kong HAProxy Ingress controller              Ingress Controller            traefik   nginx controller traefik      nginx controller                          traefik         ingress      Traefik Traefik                                                           Docker Swarm Mesos Marathon  Mesos Kubernetes Consul Etcd Zookeeper BoltDB Rest API             traefik          traefik   Pod              master                  master             traefik                           RBAC         rbac yaml   apiVersion  v1 kind  ServiceAccount metadata  name  traefik ingress controller namespace  kube system kind  ClusterRole apiVersion  rbac authorization k8s io v1beta1 metadata  name  traefik ingress controller rules  apiGroups     resources  services endpoints secrets verbs  list watch apiGroups  extensions resources  ingresses verbs  list watch kind  ClusterRoleBinding apiVersion  rbac authorization k8s io v1beta1 metadata  name  traefik ingress controller roleRef  apiGroup  rbac authorization k8s io kind  ClusterRole name  traefik ingress controller subjects  kind  ServiceAccount name  traefik ingress controller namespace  kube system               kubectl create  f rbac yaml serviceaccount  traefik ingress controller  created clusterrole rbac authorization k8s io  traefik ingress controller  created clusterrolebinding rbac authorization k8s io  traefik ingress controller  created      Deployment     Pod         traefik        traefik yaml  kind  Deployment apiVersion  extensions v1beta1 metadata  name  traefik ingress controller namespace  kube system labels  k8s app  traefik ingress lb spec  replicas  1 selector  matchLabels  k8s app  traefik ingress lb template  metadata  labels  k8s app  traefik ingress lb name  traefik ingress lb spec  serviceAccountName  traefik ingress controller terminationGracePeriodSeconds  60 tolerations  operator   Exists  nodeSelector  kubernetes io hostname  master containers  image  traefik name  traefik ingress lb ports  name  http containerPort  80 name  admin containerPort  8080 args    api   kubernetes   logLevel INFO kind  Service apiVersion  v1 metadata  name  traefik ingress service namespace  kube system spec  selector  k8s app  traefik ingress lb ports  protocol  TCP port  80 name  web protocol  TCP port  8080 name  admin type  NodePort                  kubectl create  f traefik yaml deployment extensions  traefik ingress controller  created service  traefik ingress service  created       yaml     tolerations  operator   Exists  nodeSelector  kubernetes io hostname  master               master                 nodeSelector   traefik      master           tolerations                    kubeadm     master                                tolerations                                       nodeSelector   tolerations      Pod                        traefik        web ui          8080                                 NodePort    kubectl pods  n kube system  l k8s app traefik ingress lb  o wide NAME READY STATUS RESTARTS AGE IP NODE traefik ingress controller 57c4f787d9 bfhnl 1 1 Running 0 8m 10 244 0 18 master   kubectl svc  n kube system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE     traefik ingress service NodePort 10 102 183 112 80 30539 TCP 8080 30486 TCP 8m               masternodeip 30486        traefik   dashboard    Ingress            NodePort     traefik   Dashboard          ingress                 ingress     ingress yaml  apiVersion  extensions v1beta1 kind  Ingress metadata  name  traefik web ui namespace  kube system annotations  kubernetes io ingress class  traefik spec  rules  host  traefik haimaxy com http  paths  backend  serviceName  traefik ingress service servicePort  8080     traefik dashboard       ingress       kubectl create  f ingress yaml ingress extensions  traefik web ui  created        ingress            rules             traefik   dashboard      ingress          serviceName             traefik ingress service          8080                 servicePort               port     admin                             etc hosts      traefik haimaxy com   master      IP                   http   traefik haimaxy com                 dashboard  ",
        "objectID": "post/外部服务发现之 ingress(一)",
        "subtitle": "traefik 的安装使用",
        "date": "2018-08-15T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ingress",
            "traefik",
            "nginx",
            "haproxy",
            "kong"
        ],
        "keywords": [
            "kubernetes",
            "ingress",
            "traefik",
            "nginx",
            "haproxy",
            "kong"
        ],
        "slug": "ingress-traefik1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1534181220741-388dc50c711d.jpg",
                "desc": "In the middle of the nowhere"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "外部服务发现之 ingress(二)",
        "uri": "post/外部服务发现之 ingress(二)",
        "content": "traefik          ingress                 ingress tls    path     ingress           TLS                     https                                          CA                                       openssl     CA       openssl req  newkey rsa 2048  nodes  keyout tls key  x509  days 365  out tls crt                 kubectl      secret               kubectl create secret generic traefik cert   from file tls crt   from file tls key  n kube system    Traefik          Traefik               Traefik      https  defaultEntryPoints     http    https    entryPoints   entryPoints http  address     80   entryPoints http redirect  entryPoint    https  entryPoints https  address     443   entryPoints https tls    entryPoints https tls certificates   CertFile     ssl tls crt  KeyFile     ssl tls key                 http   https             http          https              traefik         https       https                           CertFile   KeyFile         traefik pod                                Pod               secret        volume       Pod         traefik toml            traefik pod                   ConfigMap               traefik toml          ConfigMap       traefik pod       kubectl create configmap traefik conf   from file traefik toml  n kube system              traefik pod   yaml      kind  Deployment apiVersion  extensions v1beta1 metadata  name  traefik ingress controller namespace  kube system labels  k8s app  traefik ingress lb spec  replicas  1 selector  matchLabels  k8s app  traefik ingress lb template  metadata  labels  k8s app  traefik ingress lb name  traefik ingress lb spec  serviceAccountName  traefik ingress controller terminationGracePeriodSeconds  60 volumes  name  ssl secret  secretName  traefik cert name  config configMap  name  traefik conf tolerations  operator   Exists  nodeSelector  kubernetes io hostname  master containers  image  traefik name  traefik ingress lb volumeMounts  mountPath    ssl  name   ssl  mountPath    config  name   config  ports  name  http containerPort  80 hostPort  80 name  https containerPort  443 hostPort  443 name  admin containerPort  8080 args    configfile  config traefik toml   api   kubernetes   logLevel INFO              443                 configfile      traefik toml                volume             traefik pod    kubectl apply  f traefik yaml   kubectl logs  f traefik ingress controller 7dcfd9c6df v58k7  n kube system time  2018 08 26T11 26 44Z  level info msg  Server configuration reloaded  80  time  2018 08 26T11 26 44Z  level info msg  Server configuration reloaded  443  time  2018 08 26T11 26 44Z  level info msg  Server configuration reloaded  8080            traefik pod                                      traefik   dashboard      https                                                                                                                       traefik   dashboard       ingress       TLS                             ingress   path              3     web                           backend yaml  kind  Deployment apiVersion  extensions v1beta1 metadata  name  svc1 spec  replicas  1 template  metadata  labels  app  svc1 spec  containers  name  svc1 image  cnych example web service env  name  APP_SVC value  svc1 ports  containerPort  8080 protocol  TCP kind  Deployment apiVersion  extensions v1beta1 metadata  name  svc2 spec  replicas  1 template  metadata  labels  app  svc2 spec  containers  name  svc2 image  cnych example web service env  name  APP_SVC value  svc2 ports  containerPort  8080 protocol  TCP kind  Deployment apiVersion  extensions v1beta1 metadata  name  svc3 spec  replicas  1 template  metadata  labels  app  svc3 spec  containers  name  svc3 image  cnych example web service env  name  APP_SVC value  svc3 ports  containerPort  8080 protocol  TCP kind  Service apiVersion  v1 metadata  labels  app  svc1 name  svc1 spec  type  ClusterIP ports  port  8080 name  http selector  app  svc1 kind  Service apiVersion  v1 metadata  labels  app  svc2 name  svc2 spec  type  ClusterIP ports  port  8080 name  http selector  app  svc2 kind  Service apiVersion  v1 metadata  labels  app  svc3 name  svc3 spec  type  ClusterIP ports  port  8080 name  http selector  app  svc3            3  Deployment     3  Service    kubectl create  f backend yaml deployment extensions  svc1  created deployment extensions  svc2  created deployment extensions  svc3  created service  svc1  created service  svc2  created service  svc3  created          ingress         3     example ingress yaml  apiVersion  extensions v1beta1 kind  Ingress metadata  name  example web app annotations  kubernetes io ingress class   traefik  spec  rules  host  example haimaxy com http  paths  path   s1 backend  serviceName  svc1 servicePort  8080 path   s2 backend  serviceName  svc2 servicePort  8080 path    backend  serviceName  svc3 servicePort  8080           ingress                     path                        ingress       kubectl create  f test ingress yaml ingress extensions  example web app  created   kubectl ingress NAME HOSTS ADDRESS PORTS AGE example web app example haimaxy com 80 1m   kubectl desc",
        "objectID": "post/外部服务发现之 ingress(二)",
        "subtitle": "Ingress TLS 和 PATH 的使用",
        "date": "2018-08-31T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "ingress",
            "traefik",
            "nginx",
            "https"
        ],
        "keywords": [
            "kubernetes",
            "ingress",
            "openssl",
            "traefik",
            "https",
            "nginx"
        ],
        "slug": "ingress-traefik2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535565454739-863432ea3c0e.jpeg",
                "desc": "Thunderstorm over Paris"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "360 开源 K8S Dashboard Wayne 的安装使用",
        "uri": "post/奇虎360 开源 Kubernetes Dashboard wayne使用",
        "content": "Kubernetes                 Dashboard          Dashboard              360         Kubernetes Dashboard    Wayne  Wayne           Web   Kubernetes               Kubernetes                                                            Wayne         360                                    360                   DC       Wayne      Wayne               Bruce Wayne                              Angular               Ace      Kubernetes             Beego              Client go   Kubernetes           MySQL           RBAC Role based access control                                                                  k8s           k8s                         Json Yaml     k8s     LDAP OAuth 2 0 DB                LDAP     DB              OAuth2                        Kubernetes                                                                         webhook       APIKey                   APIKey                         APIKey                                                                k8s                                                                        web shell        web shell          Pod                                                     Web UI                      Worker                    audit   webhook           Wayne    MySQL   RabbitMQ    MySQL                    RabbitMQ                               MySQL                  MySQL                    Kubernetes            MySQL                 db yaml  apiVersion  apps v1beta1 kind  Deployment metadata  name  mysql namespace  kube system labels  app  mysql spec  template  metadata  labels  app  mysql spec  containers  name  mysql image  mysql 5 7 14 imagePullPolicy  IfNotPresent ports  containerPort  3306 name  dbport env  name  MYSQLROOTPASSWORD value  rootPassw0rd volumeMounts  name  db mountPath   var lib mysql volumes  name  db emptyDir     apiVersion  v1 kind  Service metadata  name  mysql namespace  kube system spec  selector  app  mysql ports  name  mysqlport protocol  TCP port  3306 targetPort  dbport              root             wayne                                                                    kubec create  f db yaml   kubectl pods  n kube system NAME READY STATUS RESTARTS AGE mysql 6ffcf87ddc 7kkbk 1 1 Running 0 1h          kubectl svc  n kube system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE mysql ClusterIP 10 106 31 171 3306 TCP 1h                         mysql 3306    MySQL         Wayne    clone Wayne   git       git clone https   github com Qihoo360 wayne     hack kubernetes               Wayne            ls  la hack kubernetes total 24 drwxr xr x 5 ych staff 160 Nov 19 13 40   drwxr xr x 5 ych staff 160 Nov 19 11 33     rw r  r   1 ych staff 339 Nov 19 11 33 configmap yaml  rw r  r   1 ych staff 967 Nov 19 13 40 deployment yaml  rw r  r   1 ych staff 229 Nov 19 11 33 service yaml                kube system                   namespace     kube system                   MySQL            configmap yaml             360       ConfigMap                app conf                    from file       ConfigMap         app conf    appname   wayne httpport   8080 runmode   prod autorender   false copyrequestbody   true EnableDocs   true EnableAdmin   true StaticDir   public static Custom config ShowSql   false enable username password login EnableDBLogin   true token  generate jwt token RsaPrivateKey      apikey rsa private pem  RsaPublicKey      apikey rsa public pem  token end time  second TokenLifeTime 86400 kubernetes labels config AppLabelKey  wayne app NamespaceLabelKey   wayne ns PodAnnotationControllerKindLabelKey   wayne cloud controller kind database configuration  mysql DBName   wayne DBTns   tcp mysql 3306  DBUser   root DBPasswd   rootPassw0rd DBLoc    Asia 2FShanghai  DBConnTTL   30 web shell auth appKey    860af247a91a19b2368d6425797921c6  Set demo namespace group id DemoGroupId   1 DemoNamespaceId   1 Sentry LogLevel   7 SentryEnable   false  SentryDSN      SENTRY_DSN    SentryLogLevel      SENTRY_LOGLEVEL  4   Robin EnableRobin   false api keys EnableApiKeys   false Bus BusEnable   false  BusRabbitMQURL      MQ_URL  amqp   guest guest rabbitmq 5672     Canary Production            metaData   mode   beta       beta    BetaUrl      BETA_URL  https   beta wayne cloud    AppUrl      APP_URL  https   www wayne cloud   oauth2  RedirectUrl      REDIRECT_URL  https   www wayne cloud    auth qihoo  enabled   false client_id   client client_secret   secret auth_url   https   example com oauth2 v1 authorize token_url   https   example com oauth2 v1 token api_url   https   example com oauth2 v1 userinfo ldap config enable ldap login  auth ldap  enabled   false ldap_url   ldap   127 0 0 1 ldapsearchdn    cn admin dc example dc com  ldapsearchpassword   admin ldapbasedn    dc example dc com  ldap_filter   ldap_uid   cn ldap_scope   2 ldapconnectiontimeout   30                          runmode   prod                           DBName   wayne DBTns   tcp mysql 3306  DBUser   root DBPasswd   rootPassw0rd DBLoc    Asia 2FShanghai  DBConnTTL   30  DBTns      mysql                    DBUser    root                             ConfigMap       kubectl create configmap infra wa",
        "objectID": "post/奇虎360 开源 Kubernetes Dashboard wayne使用",
        "date": "2018-11-19T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "wayne"
        ],
        "slug": "kubernetes-dashboard-wayne-usage",
        "keywords": [
            "kubernetes",
            "360",
            "开源",
            "dashboard",
            "wayne"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1542481889-27404a7ec14a.jpeg",
                "desc": "church of St. John of Nepomuk in Ranui, Italy"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "好吧，海马学院正式上线了",
        "uri": "post/好吧，海马学院正式上线了",
        "content": "Sideproject                                      Python                                                                                                                                                                                Web                                                                                                                                                                                                               10                                                                                                                                                                                                                              Python   Golang   Docker   Kubernetes   Devops         Vue   React                                                        Kubernetes 1 9 2             Webpack3 x           Python                        Python      Celery Django              Kubernetes    Python        Vue   Django                                    iEverything                 PC     https   www haimaxy com                              PC                                                                                                                                                                                                             ydzs io       io                                         k8s",
        "objectID": "post/好吧，海马学院正式上线了",
        "subtitle": "一个互联网实战项目学习平台",
        "date": "2018-04-02T00:00:00.000Z",
        "tags": [
            "海马学院",
            "一点知识",
            "上线"
        ],
        "keywords": [
            "海马学院",
            "一点知识",
            "上线",
            "视频教程",
            "实战项目"
        ],
        "slug": "haimaxy-online",
        "toc": true,
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1511376777868-611b54f68947.jpeg",
                "desc": "BEGIN."
            }
        ],
        "category": "一点知识"
    },
    {
        "title": "如何保护对外暴露的 Kubernetes 服务",
        "uri": "post/如何保护对外暴露的Kubernetes服务",
        "content": "Kubernetes                           xpack   Kibana           Jenkins                                      Kubernetes          Ingress                    cert manager       HTTPS                          Basic Auth            Dashboard                          Basic Auth    haproxy nginx   traefik nginx ingress     haproxy nginx                basic auth                    traefik nginx ingress        basic auth            nginx ingress    Jenkins        basic auth                            htpasswd      htpasswd  bc auth admin admin321 Adding password user admin             htpasswd     Secret       kubectl create secret generic jenkins basic auth   from file auth  n kube ops secret  jenkins basic auth  created          Ingress      auth type basic auth jenkins basic auth   annotations  ingress yaml  apiVersion  extensions v1beta1 kind  Ingress metadata  name  jenkins namespace  kube ops annotations  kubernetes io ingress class  nginx      nginx ingress kubernetes io auth type  basic    user password   Secret    nginx ingress kubernetes io auth secret  jenkins basic auth                    nginx ingress kubernetes io auth realm   Authentication Required   admin  spec  rules  host  jenkins qikqiak com http  paths  backend  serviceName  jenkins servicePort  web                kubectl apply  f ingress yaml ingress extensions  jenkins  configured                  Jenkins                         OAuth          Basic Auth                Github Google      OAuth                   OAuth2 Proxy                                                               HTTPS               Let s Encrypt    Kubernetes Ingress     HTTPS       Github  https   github com settings applications new      OAuth                          URL     oauth2 callback                Client ID Client Secret             cookie                 python                Docker             docker run  ti   rm python 3 alpine   python  c  import secrets base64  print base64 b64encode base64 b64encode secrets token_bytes 16       b       OAuth2 Proxy            Helm          helm install   name authproxy     namespace kube system     set config clientID      set config clientSecret      set config cookieSecret      set extraArgs provider github     set extraArgs email domain       stable oauth2 proxy NAME  authproxy LAST DEPLOYED  Sun Apr 14 01 11 50 2019 NAMESPACE  kube system STATUS  DEPLOYED RESOURCES    v1 Secret NAME TYPE DATA AGE authproxy oauth2 proxy Opaque 3 0s   v1 ConfigMap NAME DATA AGE authproxy oauth2 proxy 1 0s   v1 Service NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE authproxy oauth2 proxy ClusterIP 10 109 110 219 80 TCP 0s   v1beta2 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE authproxy oauth2 proxy 1 0 0 0 0s   v1 Pod related  NAME READY STATUS RESTARTS AGE authproxy oauth2 proxy 798cff85fc pc8x5 0 1 ContainerCreating 0 0s NOTES  verify oauth2 proxy started  run  kubectl   namespace kube system pods  l  app oauth2 proxy                 Running              kubectl   namespace kube system pods  l  app oauth2 proxy  NAME READY STATUS RESTARTS AGE authproxy oauth2 proxy cdb4f675b wvdg5 1 1 Running 0 1m      GitHub       github org github team          email doamin           OAuth2 Proxy           GitHub Provider                      Jenkins                                            x pack   Kibana                     nginx ingress controller   annotations        auth url auth signin                            annotation    nginx ingress controller   v0 9 0            Jenkins     Ingress            url https    host oauth2 auth             Ingress    oauth2     OAuth2 proxy           nginx ingress kubernetes io auth url   https    host oauth2 auth  nginx ingress kubernetes io auth signin   https    host oauth2 start rd  escapedrequesturi                Jenkins     Ingress       cat",
        "objectID": "post/如何保护对外暴露的Kubernetes服务",
        "date": "2019-04-14T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "traefik",
            "nginx",
            "ingress",
            "oauth"
        ],
        "keywords": [
            "kubernetes",
            "traefik",
            "nginx",
            "ingress",
            "oauth",
            "basic auth",
            "安全"
        ],
        "slug": "how-to-protect-exposed-k8s-server",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/j14tu.jpg",
                "desc": "oauth"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "如何学习Kubernetes？",
        "uri": "post/如何学习Kubernetes",
        "content": "Docker Kubernetes                            Google Microsoft IBM                                  BAT                      Kubernetes                                                                                                                                        namespace     cgroups                                                                                                                              JVM                 Kubernetes     IP               Debug  Kubernetes StatefulSet Operator       PV PVC                                                                                                                                                                                          Linux                              Kubernetes                     Docker  Kubernetes                                                                       Kubernetes         Kubernetes                Kubernetes                                  Kubernetes                       Docker     Docker           katacoda          Kubernetes                                 Kubernetes       Kubernetes          Rancher    Kubernetes               Rancher          Kubernetes                     Docker MAC Windows   Kubernetes              kubectl     Kubernetes                     Kubeadm                                          kubeadm         Kubernetes                                                        Kubernetes                                      Kubernetes                             Kubernetes                CI CD     ServiceMesh                                Kubernetes                                          Kubernetes                                                                               Kubernetes         Docker Kubernetes                  Docker        Kubernetes                          Docker  Kubernetes                 Docker                 Kubernetes     kubeadm     Kubernetes      Kubernetes                       Kubernetes        Kubernetes         Helm             Kubernetes CI CD                399    499                               40                                                                                  Kubernetes                                    Kubernetes                  Kubernetes                                                                                                     4                                                                               Kubernetes         Kubernetes                                                                          Kubernetes                                       Kubernetes                                                                     Kubernetes                       Kubernetes                       Kubernetes                                                                                              4                                   Kubernetes                                                                                                                                                                                                 68    99 9 8                        24                               App                                             9 2           Docker Kubernetes                           Kubernetes",
        "objectID": "post/如何学习Kubernetes",
        "subtitle": "如何可以快速学习Kubernetes",
        "date": "2018-08-29T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "k8s"
        ],
        "keywords": [
            "kubernetes",
            "学习",
            "视频",
            "专栏",
            "极客时间",
            "优点知识"
        ],
        "slug": "how-to-learn-kubernetes",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535383494412-9bdda0d6d9f3.jpeg",
                "desc": "Lighthouse"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "Metrics Server 安装",
        "uri": "post/安装Metrics-Server",
        "content": "kubernetes              heapster         1 11          heapster      metrics server     metrics server                   kubelet     Summary API         metrics server      APIServer    kube aggregator         APIServer             APIServer           APIServer                        requestheader client ca file  etc kubernetes certs proxy ca crt   proxy client cert file  etc kubernetes certs proxy crt   proxy client key file  etc kubernetes certs proxy key   requestheader allowed names aggregator   requestheader extra headers prefix X Remote Extra    requestheader group headers X Remote Group   requestheader username headers X Remote User   enable aggregator routing true             master       kube proxy       kube apiserver          enable aggregator routing true             metrics server                    https   github com kubernetes incubator metrics server tree master deploy kubernetes 1 7   kubectl create  f 1 7  kubernetes   1 8   kubectl create  f 1 8            Helm           metrics server   Chart   fetch                        helm fetch stable metrics server   tar  xvf metrics server 2 7 1 tgz   cd metrics server                   gcr io              helm install   name metric   namespace kube system   set image repository gcr azk8s cn google_containers metrics server amd64   NAME  metric LAST DEPLOYED  Wed May 22 01 30 53 2019 NAMESPACE  kube system STATUS  DEPLOYED RESOURCES    v1 ServiceAccount NAME SECRETS AGE metric metrics server 1 1s   v1 ClusterRole NAME AGE system metrics server aggregated reader 1s system metric metrics server 1s   v1 ClusterRoleBinding NAME AGE metric metrics server system auth delegator 1s system metric metrics server 1s   v1beta1 RoleBinding NAME AGE metric metrics server auth reader 1s   v1 Service NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE metric metrics server ClusterIP 10 103 214 219 443 TCP 1s   v1 Deployment NAME DESIRED CURRENT UP TO DATE AVAILABLE AGE metric metrics server 1 1 1 0 1s   v1beta1 APIService NAME AGE v1beta1 metrics k8s io 1s   v1 Pod related  NAME READY STATUS RESTARTS AGE metric metrics server 697bd98b8b kvg2d 0 1 ContainerCreating 0 1s NOTES  metric server deployed  few minutes able list metrics using following command  kubectl   raw   apis metrics k8s io v1beta1 nodes              Pod           kubectl pods  n kube system  l release metric NAME READY STATUS RESTARTS AGE metric metrics server 697bd98b8b kvg2d 1 1 Running 0 58m   kubectl logs  f metric metrics server 697bd98b8b kvg2d  n kube system I0521 17 31 54 580374 1 serving go 273  Generated self signed cert   tmp apiserver crt   tmp apiserver key   restful  2019 05 21 17 31 55 log go 33   restful swagger  listing available https    8443 swaggerapi  restful  2019 05 21 17 31 55 log go 33   restful swagger  https    8443 swaggerui  mapped folder  swagger ui  I0521 17 31 55 112171 1 serve go 96  Serving securely      8443 E0521 17 32 55 229771 1 manager go 111  unable fully collect metrics   unable fully scrape metrics source kubeletsummary ydzs node2  unable fetch metrics kubelet ydzs node2  ydzs node2   https   ydzs node2 10250 stats summary   dial tcp  lookup ydzs node2 10 96 0 10 53  no host  unable fully scrape metrics source kubeletsummary ydzs master  unable fetch metrics kubelet ydzs master  ydzs master   https   ydzs master 10250 stats summary   dial tcp  lookup ydzs master 10 96 0 10 53  no host  unable fully scrape metrics source kubelet_summary ydzs node1  unable fetch metrics kubelet ydzs node1  ydzs node1   https   ydzs node1 10250 stats summary   dial tcp  lookup ydzs node1 10 96 0 10 53  no host         Pod            xxx  no host                    DNS                metrics server     kubelet   10250             hostname                etc hosts          hostname   ip            metrics server   Pod         hosts            hostname                                DNS         hostname                   CoreDNS           CoreDNS   Configmap        hosts       kubectl edit configmap coredns  n kube system apiVersion  v1 data  Corefile      53   errors health hosts           hosts     10 151 30 11 ydzs master 10 151 30 22 ydzs node1 10 151 30 23 ydzs node2 fallthrough   kubernetes cluster local in addr arpa ip6 arpa   pods insecure upstream fallthrough in addr arpa ip6 arpa   prometheus  9153 proxy    etc resolv conf cache 30 reload   kind  ConfigMap metadata  creationTimestamp  2019 05 18T11 07 46Z name  coredns namespace  kube system               hostname              ip             metrics server         kubelet preferred address types       custom values yaml  image  repository  gcr azk8s cn google_containers metrics server amd64 args    kubelet preferred address types InternalIP                       helm delete metric   purge   helm install   name metric   namespace kube system  f custom values yaml            kubectl pods  n kube system  grep metric metric metrics server 58fc94d9f jlxcb 1 1 Running 0 47s   kubectl logs  f metric metrics server 58fc94d9f jlxcb  n kube system I0521 17 54 32 873326 1 serving go 273  Generated self signed cert   tmp apiserver crt   tmp apiserver key",
        "objectID": "post/安装Metrics-Server",
        "date": "2019-05-22T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "metrics-server"
        ],
        "slug": "install-metrics-server",
        "keywords": [
            "kubernetes",
            "metrics-server",
            "安装",
            "helm"
        ],
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1558429886-f2d4fa936469.jpeg",
                "desc": "https://unsplash.com/photos/uShcDKPSaCE"
            }
        ],
        "category": "kubernetes",
        "notoc": true
    },
    {
        "title": "nginx-ingress 的安装使用",
        "uri": "post/安装nginx-ingress",
        "content": "nginx ingress   traefik         ingress controller                     Kubernetes     Service         Ingress           Service                            traefik    nginx ingress              traefik                                        traefik              nginx ingress   Kubernetes                  Helm    nginx ingress          Helm                    Kubernetes Helm         nginx ingress                                        nginx ingress       80   443             DasemonSet   hostPort              nodeSelector        IP          kubectl nodes   show labels NAME STATUS ROLES AGE VERSION LABELS ydzs master Ready master 30d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname ydzs master node role kubernetes io master  ydzs node1 Ready 30d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname ydzs node1 ydzs node2 Ready 30d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname ydzs node2          kubeadm          master       IP       nginx ingress     master        nodeSelector    label    kubernetes io hostname ydzs master                                       custom yaml       nginx ingress Chart           controller  hostNetwork  true daemonset  useHostPort  false hostPorts  http  80 https  443 service  type  ClusterIP tolerations  operator   Exists  nodeSelector  kubernetes io hostname  ydzs master defaultBackend  tolerations  operator   Exists  nodeSelector  kubernetes io hostname  ydzs master     Chart                       helm fetch stable nginx ingress   tar  xvf nginx ingress 1 4 0 tgz nginx ingress      values yaml                                           helm install stable nginx ingress   namespace kube system   name nginx ingress  f custom yaml                  nginx ingress   Pod           kubectl pods  n kube system   grep nginx ingress nginx ingress controller 587b4c68bf vsqgm 1 1 Running 0 11h nginx ingress default backend 64fd9fd685 lmxhw 1 1 Running 0 1d            gcr io quay io          dockerhub     pull         tag            nginx ingress                          ngdemo yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  my nginx spec  template  metadata  labels  app  my nginx spec  containers  name  my nginx image  nginx 1 7 9 ports  containerPort  80 apiVersion  v1 kind  Service metadata  name  my nginx labels  app  my nginx spec  ports  port  80 protocol  TCP name  http selector  app  my nginx apiVersion  extensions v1beta1 kind  Ingress metadata  name  my nginx annotations  kubernetes io ingress class   nginx  spec  rules  host  ngdemo qikqiak com http  paths  path    backend  serviceName  my nginx servicePort  80                kubectl apply  f ngdemo yaml deployment extensions  my nginx  created service  my nginx  created ingress extensions  my nginx  created       Ingress            annotations kubernetes io ingress class   nginx           Ingress    nginx ingress                         ngdemo qikqiak com   nginx ingress                       etc hosts                                  nginx ingress                  cert manager    HTTPS               Kubernetes Ingress     HTTPS nginx ingress                        https   kubernetes github io ingress nginx",
        "objectID": "post/安装nginx-ingress",
        "date": "2019-04-14T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "nginx",
            "ingress",
            "helm",
            "traefik"
        ],
        "keywords": [
            "kubernetes",
            "nginx",
            "ingress",
            "helm",
            "traefik"
        ],
        "slug": "install-nginx-ingress",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/xxlj0.jpg",
                "desc": "https://unsplash.com/photos/fvaoHivsHGE"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "基于 Jenkins、Gitlab、Harbor、Helm 和 Kubernetes 的 CI/CD(一)",
        "uri": "post/完整流水线1",
        "content": "Gitlab CI  Kubernetes   CI CD                                    Jenkins   Gitlab   Harbor   Helm   Kubernetes          CI CD                         Jenkins Pipeline   Kubernetes            Kubernetes       Jenkins   Slave                Jenkins Slave                           Github        Docker        Docker Hub                             Jenkins Gitlab Harbor Helm Kubernetes                                           1            Gitlab      2     Gitlab     Jenkins Webhook    Pipeline      3  Jenkins             Pipeline           4                 5       Maven    Java     6           Docker    7     Docker     Harbor    8              Helm       Release 9                                Spring Boot Spring Security JWT React   Ant Design                   https   github com callicoder spring security react ant design polls app                         CI CD                                                                     src main resources application properties                     spring datasource url  jdbc mysql     DBHOST localhost    DBPORT 3306    DBNAME pollingapp  useSSL false serverTimezone UTC useLegacyDatetimeCode false spring datasource username    DB_USER root  spring datasource password    DB_PASSWORD root                                                                   Kubernetes                                      Dockerfile          openjdk 8 jdk alpine MAINTAINER cnych ENV LANG en_US UTF 8 ENV LANGUAGE en_US en ENV LCALL enUS UTF 8 ENV TZ Asia Shanghai RUN mkdir  app WORKDIR  app COPY target polls 0 0 1 SNAPSHOT jar  app polls jar EXPOSE 8080 ENTRYPOINT   java     Djava security egd file  dev   urandom     jar    app polls jar             Spring Boot              openjdk            jar            java  jar                          Jenkins   Pipeline                         jar                  jar                                   Docker     17 06                Docker                             Dockerfile             maven                 maven 3 6 alpine BUILD COPY src  usr app src COPY pom xml  usr app RUN mvn  f  usr app pom xml clean package  Dmaven test skip true openjdk 8 jdk alpine MAINTAINER cnych ENV LANG en_US UTF 8 ENV LANGUAGE en_US en ENV LCALL enUS UTF 8 ENV TZ Asia Shanghai RUN mkdir  app WORKDIR  app COPY   from BUILD  usr app target polls 0 0 1 SNAPSHOT jar  app polls jar EXPOSE 8080 ENTRYPOINT   java     Djava security egd file  dev   urandom     jar    app polls jar               Docker                           maven 3 6 alpine                            jar                                  Docker                           Jenkins Pipeline      maven             Docker                 jar                              Jenkins Pipeline                   Dockerfile                               Gitlab               http   git qikqiak com course polling app server git                                   API           src constants index js APIBASEURL                           APISERVER_URL                API        let API_URL    http   localhost 8080 api    process env APISERVER_URL    APIURL     process env APISERVERURL  api    export const APIBASEURL   API_URL                                                          Kubernetes                             Dockerfile    nginx 1 15 10 alpine ADD build  usr share nginx html ADD nginx conf  etc nginx conf d default conf                          nginx              nginx conf      server   gzip on  listen 80  server_name localhost  root  usr share nginx html  location     try_files  uri  index html  expires 1h    error_page 500 502 503 504  50x html  location    50x html   root  usr share nginx html                            build             nginx      usr share nginx html       nginx                                          build                                               Docker             node                             Dockerfile       node          nginx     node alpine BUILD WORKDIR  usr src app RUN mkdir  p  usr src app ADD    usr src app RUN npm install      npm run build nginx 1 15 10 alpine MAINTAINER cnych COPY   from BUILD  usr src app build  usr share nginx html ADD nginx conf  etc nginx conf d default conf             Jenkins Pipeline                              Dockerfile                               Gitlab               http   git qikqiak com course polling app client git Jenkins                    Jenkins            Pipeline    Kubernetes            kubernetes  Jenkins                         Jenkins Pipeline               Slave Pod             Slave Pod                     docker maven node java                        Slave            Pipeline       Slave Pod                            Slave Pod Template                     Slave           Jenkins   kubernetes      Pod Template     Jenkins                         Kubernetes        Kubernetes Pod Template                polling app server       Pipeline                                                   URL   JENKINS_URL     Jenkins               http   jenkins qikqiak com job polling app server build token server321                  Pipeline script             ",
        "objectID": "post/完整流水线1",
        "date": "2019-04-12T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Jenkins",
            "Gitlab",
            "Harbor",
            "Helm",
            "Docker",
            "Pipeline",
            "devops"
        ],
        "keywords": [
            "kubernetes",
            "Jenkins",
            "Gitlab",
            "Harbor",
            "Helm",
            "Docker",
            "Pipeline",
            "CI/CD",
            "流水线",
            "devops"
        ],
        "slug": "complete-cicd-demonstrate-1",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/n1l43.jpg",
                "desc": "devops"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "基于 Jenkins、Gitlab、Harbor、Helm 和 Kubernetes 的 CI/CD(二)",
        "uri": "post/完整流水线2",
        "content": "Pipeline      Pipeline                                                                             maven                                       maven              stage             try   container  maven     echo  2            sh  mvn clean package  Dmaven test skip true      catch  exc    println           currentBuild fullDisplayName   throw exc               Docker        Docker                tag      Harbor                             withCredentials            credentialsId dockerhub          stage     Docker        withCredentials    class   UsernamePasswordMultiBinding   credentialsId   dockerhub   usernameVariable   DOCKERHUBUSER   passwordVariable   DOCKERHUBPASSWORD       container  docker     echo  3     Docker       sh     docker login   dockerRegistryUrl   u   DOCKERHUBUSER   p   DOCKERHUBPASSWORD  docker build  t   image    imageTag    docker push   image    imageTag                 image      imageTag                  def imageTag   sh script   git rev parse   short HEAD   returnStdout  true  trim   def dockerRegistryUrl    registry qikqiak com  def imageEndpoint    course polling app server  def image      dockerRegistryUrl    imageEndpoint   docker                          jenkins                                     ID        credentialsId                 kubectl                       kubectl                                      Helm Chart               YAML                          Chart                        Chart                               Deployment            k8s yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  polling server namespace  course labels  app  polling server spec  strategy  rollingUpdate  maxSurge  1 maxUnavailable  1 type  RollingUpdate template  metadata  labels  app  polling server spec  restartPolicy  Always imagePullSecrets  name  myreg containers  image    name  polling server imagePullPolicy  IfNotPresent ports  containerPort  8080 name  api env  name  DB_HOST value  mysql name  DB_PORT value   3306  name  DB_NAME value  polling_app name  DB_USER value  polling name  DB_PASSWORD value  polling321 kind  Service apiVersion  v1 metadata  name  polling server namespace  course spec  selector  app  polling server type  ClusterIP ports  name  api port port  8080 targetPort  api apiVersion  extensions v1beta1 kind  Deployment metadata  name  mysql namespace  course spec  template  metadata  labels  app  mysql spec  restartPolicy  Always containers  name  mysql image  mysql 5 7 imagePullPolicy  IfNotPresent ports  containerPort  3306 name  dbport env  name  MYSQLROOTPASSWORD value  rootPassW0rd name  MYSQL_DATABASE value  polling_app name  MYSQL_USER value  polling name  MYSQL_PASSWORD value  polling321 volumeMounts  name  db mountPath   var lib mysql volumes  name  db hostPath  path   var lib mysql kind  Service apiVersion  v1 metadata  name  mysql namespace  course spec  selector  app  mysql type  ClusterIP ports  name  dbport port  3306 targetPort  dbport           YAML                                                                                                                                    Controller  src main java com example polls controller StatusController java  package com example polls controller  import org springframework web bind annotation     RestController  RequestMapping   api _status healthz   public class StatusController    GetMapping public String healthCheck     return  UP                                         src main resources application properties                                                                                              Secret       kubectl create secret docker registry myreg   docker server registry qikqiak com   docker username DOCKERUSER   docker password DOCKERPASSWORD   docker email DOCKER_EMAIL   namespace course              manifests                                             k8s yaml              OK             stage     Kubectl     container  kubectl     echo     K8S    Pod     sh  kubectl pods  sh     sed  i  s    image   manifests k8s yaml sed  i  s    imageTag   manifests k8s yaml kubectl apply  f k8s yaml                 Helm           Helm                            Chart          Chart        https   github com cnych polling helm       values yaml                                                                                          Clone     Chart       git clone https   github com cnych polling helm git                     custom yaml       values yaml        persistence  enabled  true persistentVolumeClaim  database  storageClass   database  database  type  internal internal  database   polling        username   polling          password   polling321                 database  StorgeClass                     apiVersion  storage k8s io v1 kind  StorageClass metadata  name  database provisioner  fuseim pri ifs          Chart                      helm upgrade   install polling  f custom yaml     namespace course Release  polling  does not exist  Installing now  NAME  polling LAST DEPLOYED  Sat May 4 23 31 42 2019 NAMESPACE  course STATUS  DEPLOYED RESOURCES    v1 Pod related  NAME READY STATUS R",
        "objectID": "post/完整流水线2",
        "date": "2019-05-04T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "Jenkins",
            "Gitlab",
            "Harbor",
            "Helm",
            "Docker",
            "Pipeline",
            "devops"
        ],
        "keywords": [
            "kubernetes",
            "Jenkins",
            "Gitlab",
            "Harbor",
            "Helm",
            "Docker",
            "Pipeline",
            "CI/CD",
            "流水线",
            "devops"
        ],
        "slug": "complete-cicd-demonstrate-2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/ked0s.jpeg",
                "desc": "https://unsplash.com/photos/Lvcm9B-8LAg"
            }
        ],
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "利用Python 优雅的将PDF 转换成图片",
        "uri": "post/将PDF转换成图片",
        "content": "PDF                                           PDF                                 PDF                                 PyPDF    PDF                                        PDF                          PDF          PdfFileReader        PyPDF2 API                                          wand             coding  utf 8    import io wand image import Image wand color import Color PyPDF2 import PdfFileReader  PdfFileWriter memo      def getPdfReader filename   reader   memo get filename  None  reader None  reader   PdfFileReader filename  strict False  memo filename    reader return reader def runconvert filename  page  res 120   idx   page   1 pdfile   getPdfReader filename  pageObj   pdfile getPage page  dst_pdf   PdfFileWriter   dst_pdf addPage pageObj  pdf_bytes   io BytesIO   dstpdf write pdfbytes  pdf_bytes seek 0  img   Image file pdf_bytes  resolution res  img format    png  img compression_quality   90 img background_color   Color  white   img_path     s d png     filename  filename rindex        idx  img save filename img_path  img destroy             PDF              PDF                           PDF                                      PDF                                                                           celery                            github                      PDF  H5                                https   pdfh5 com",
        "objectID": "post/将PDF转换成图片",
        "date": "2017-10-30T00:00:00.000Z",
        "publishdate": "2017-12-06T00:00:00.000Z",
        "tags": [
            "python",
            "PDF"
        ],
        "bigimg": [
            {
                "src": "/img/posts/15624042_1804617946454032_2037034921851092992_n.jpg",
                "desc": "普吉岛@泰国 JAN 6,2017"
            }
        ],
        "slug": "python-convert-pdf-images",
        "category": "python",
        "gitcomment": true
    },
    {
        "title": "并发模型",
        "uri": "post/并发模型",
        "content": "Golang       goroutine                                                                                                C10k C10k   Client 10000          1                   C100k C1000k                                                                                                                                                                  CPU        I O                     Web    I O            I O           CPU                           CPU           I O                                      handle                           I O                                    I O                                         The C10K problem                                                     Web                  Web                                                    jQuery Ajex                                                                   B                B                                   B    B        A                                                                                    Unix    I O                               UNIX    I O                                                                              I O                                 PCB process control block                                   TCB thread control block                                            TCB                                                                                                                         KST Kernel Supported Threads          UST  User Supported Threads         TCB                                                                                                                                                                                                                                                  1 1 1 n n m                                  RR  round robin                                            Preemptive Mode                                   Nonpreemptiv Mode                                I O                               Coroutine                                                            Erlang Lua Python Golang                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    1                                                                                                           2                          fork                                                      Apache                Prefork MPM                                               worker MPM                               worker MPM                          PHP3 4 5                          worker MPM        Worker MPM                                    MPM                       prefork MPM                                     crash                             web   apache      3                                 accept                                                                                                                                                                                                                                                                      IO                                                                                                                                                   100         1000     10000          10                           4        callback       Nginx                  IO      Nginx           master            worker                  worker                        master       worker           worker                      worker         master         socket         sock             fork      workers                sockfd socket              accept              connected descriptor                                                            Nginx   accept                     worker     Nginx      epoll        I O               Nginx      Node js         Node js                   Node js                                           I O         emit                                              Node js               libev     libev                                            Node js                                                                                                                                             Node js             libevent   libev          5                                                                           python         yield     golang     go      goroutine                     gorounte            k                 Windows     2M Linux     8M     goroutine                                                                                                                                                goroutine                                   goroutine           goroutine                         goroutine        goroutine                   G goroutine  M machine  P  process",
        "objectID": "post/并发模型",
        "date": "2018-09-17T00:00:00.000Z",
        "tags": [
            "并发",
            "golang"
        ],
        "keywords": [
            "并发",
            "高并发",
            "线程",
            "进程",
            "协程",
            "同步",
            "异步",
            "阻塞",
            "非阻塞"
        ],
        "slug": "concurrency-model-compare",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1535429102716-478f09fbf748.jpeg",
                "desc": "并发模型"
            }
        ],
        "category": "golang"
    },
    {
        "title": "微博图床一键迁移到阿里云 OSS",
        "uri": "post/微博图床一键迁移到阿里云OSS",
        "content": "Chrome            403                                                              _                                                                                                                                      OSS                      OSS           bucket accessKey accessSecret    mover  h    Golang                                  OSS      https   github com cnych sinaimgmover Usage  mover  flags  mover  command  Available Commands  help Help command oss        OSS Flags   h    help help mover  l    length int      OSS              6  default 6   p    post string   markdown               default        f    prefix string Bucket              images  default  images   Use  mover  command    help  information command        mover oss   bucket bxdc static   key xxxx   secret xxxx   post  Users ych devs workspace www qikqiak com content page         https   ws3 sinaimg cn large 006tKfTcgy1g1o2gcoqs2j30u021fe81 jpg         https   ws3 sinaimg cn large 006tKfTcgy1g1o2gcoqs2j30u0212233 jpg                                           v0 2                Cobra    CLI                       https   github com cnych sinaimgmover",
        "objectID": "post/微博图床一键迁移到阿里云OSS",
        "date": "2019-04-25T00:00:00.000Z",
        "tags": [
            "微博",
            "阿里云",
            "OSS",
            "图床"
        ],
        "keywords": [
            "微博",
            "阿里云",
            "OSS",
            "图床"
        ],
        "slug": "sina-img-transfer-to-oss",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/654ck.jpeg",
                "desc": "sinaimgmover"
            }
        ],
        "category": "极客"
    },
    {
        "title": "手动搭建高可用的kubernetes 集群",
        "uri": "post/手动搭建高可用的Kubernetes 集群",
        "content": "kubernetes                         kubernetes                   v1 8 2      kube apiserver     traefik ingress      kubernetes   docker     harbor    kubernetes                                                                    kubernetes                                           CentOS 7 Ubuntu 16 04               TLS      RBAC                                                                                                                                                                            1 9         Kubernetes                                        k8s                                       kubernetes            1                    Kubernetes 1 8 2 1 9 x               Docker 17 10 0 ce Etcd 3 2 9 Flanneld TLS            etcd kubernetes master  node  RBAC    kubelet TLS Bootstrapping kubedns dashboard heapster    harbor   nfs     etcd       k8s master       k8s node    master01 192 168 1 137 master02 192 168 1 138 master03 node03 192 168 1 170             master03    node                node01  192 168 1 161 node02  192 168 1 162                                             TLS Bootstrapping    Token        head  c 16  dev urandom   od  An  t x   tr  d        BOOTSTRAP_TOKEN  8981b594122ebed7596f1d3b69c78223                   Pod         Service CIDR                    IP Port   SERVICE_CIDR  10 254 0 0 16  Pod    Cluster CIDR                   flanneld     CLUSTER_CIDR  172 30 0 0 16         NodePort Range  NODEPORTRANGE  30000 32766  etcd         ETCD_ENDPOINTS  https   192 168 1 137 2379 https   192 168 1 138 2379 https   192 168 1 170 2379  flanneld        FLANNELETCDPREFIX   kubernetes network  kubernetes   IP         SERVICE_CIDR     IP  CLUSTERKUBERNETESSVC_IP  10 254 0 1     DNS   IP  SERVICE_CIDR        CLUSTERDNSSVC_IP  10 254 0 2     DNS    CLUSTERDNSDOMAIN  cluster local   MASTER API Server    MASTER_URL  k8s api virtual local            env sh               usr k8s bin                            apiserver        etc hosts        192 168 1 137 k8s api virtual local k8s api   192 168 1 137 master01  IP      IP   apiserver                    ECS                                                                        2    CA       kubernetes           TLS                CloudFlare PKI    cfssl    Certificate Authority CA           CA                    TLS        CFSSL   wget https   pkg cfssl org R1 2 cfssl_linux amd64   chmod  x cfssl_linux amd64   sudo mv cfssl_linux amd64  usr k8s bin cfssl   wget https   pkg cfssl org R1 2 cfssljson_linux amd64   chmod  x cfssljson_linux amd64   sudo mv cfssljson_linux amd64  usr k8s bin cfssljson   wget https   pkg cfssl org R1 2 cfssl certinfo_linux amd64   chmod  x cfssl certinfo_linux amd64   sudo mv cfssl certinfo_linux amd64  usr k8s bin cfssl certinfo   export PATH  usr k8s bin  PATH   mkdir ssl    cd ssl   cfssl print defaults config   config json   cfssl print defaults csr   csr json        usr k8s bin                      export PATH  usr k8s bin  PATH    etc rc local       CA        config json   ca config json    cat ca config json    signing      default      expiry    87600h      profiles      kubernetes      expiry    87600h    usages      signing    key encipherment    server auth    client auth            config json       profiles                                 profile  signing                    ca pem    CA TRUE  server auth    client     CA  server            client auth    server     CA  client              CA        ca csr json    cat ca csr json    CN    kubernetes    key      algo    rsa    size   2048     names        C    CN    L    BeiJing    ST    BeiJing    O    k8s    OU    System        CN  Common Name kube apiserver                   User Name                    O  Organization kube apiserver                     Group     CA          cfssl gencert  initca ca csr json   cfssljson  bare ca   ls ca    ca config json ca csr ca csr json ca key pem ca pem          CA                      etc kubernetes ssl        sudo mkdir  p  etc kubernetes ssl   sudo cp ca   etc kubernetes ssl 3       etcd    kubernetes     etcd              3    etcd     3       kubernetes master 3         etcd01 etcd02 etcd03  etcd01 192 168 1 137 etcd02 192 168 1 138 etcd03 192 168 1 170                    export NODE_NAME etcd01                                 export NODE_IP 192 168 1 137          IP   export NODE_IPS  192 168 1 137 192 168 1 138 192 168 1 170    etcd        IP     etcd       IP      export ETCD_NODES etcd01 https   192 168 1 137 2380 etcd02 https   192 168 1 138 2380 etcd03 https   192 168 1 170 2380                 ETCDENDPOINTS FLANNELETCDPREFIX CLUSTERCIDR   source  usr k8s bin env sh   etcd        https   github com coreos etcd releases                  wget https   github com coreos etcd releases download v3 2 9 etcd v3 2 9 linux amd64 tar gz   tar  xvf etcd v3 2 9 linux amd64 tar gz   sudo mv etcd v3 2 9 linux amd64 etcd   usr k8s bin    TLS                     etcdctl  etcd    etcd            TLS       etcd           cat   etcd csr json etcd service         etcd        etcd            ip   NODE_IPS   ETCDCTL_API 3  usr k8s bin etcdctl     endpoin",
        "objectID": "post/手动搭建高可用的Kubernetes 集群",
        "date": "2017-11-06T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "高可用",
            "集群",
            "docker"
        ],
        "keywords": [
            "kubernetes",
            "安装",
            "二进制",
            "高可用",
            "集群",
            "docker",
            "kubectl",
            "Haproxy",
            "Keepalived"
        ],
        "slug": "manual-install-high-available-kubernetes-cluster",
        "gitcomment": true,
        "toc": true,
        "bigimg": [
            {
                "src": "/img/posts/23164024_304744326693830_684783048734015488_n.jpg",
                "desc": "Foggy weather on the coast + a chance encounter with wild horses"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "手摸手教你写 Kubernetes 的 golang 服务",
        "uri": "post/手摸手教你写Kubernetes的golang服务",
        "content": "kubernetes                  kubernetes                              kubernetes golang    golang    golang                                                                         golang                   https   golang google cn             goappk8s             src     mkdir goappk8s    cd goappk8s   mkdir src  goappk8s         GOPATH     setup gopath sh     bin bash DIR    cd    dirname    BASH_SOURCE 0         pwd   export GOPATH   DIR                GOPATH           source setup gopath sh   echo  GOPATH  Users ych devs workspace yidianzhishi goappk8s       GOPATH                 src       golang       mkdir  p github com cnych goappk8s    cd github com cnych goappk8s   touch main go           golang         ping     package main import    github com gin gonic gin   net http    func main     router    gin Default   router GET   ping   func c  gin Context    c String http StatusOK   PONG      router Run   8080                          github com gin gonic gin                  GOPATH           govendor                         dep glide     github com cnych goappk8s               govendor init   govendor fetch github com gin gonic gin                                     GOPATH              go install github com cnych goappk8s      bin goappk8s  GIN debug   WARNING  Creating Engine instance Logger Recovery middleware already attached   GIN debug   WARNING  Running  debug  mode  Switch  release  mode production  using env  export GIN_MODE release using code  gin SetMode gin ReleaseMode   GIN debug   ping     main main func1  3 handlers   GIN debug  Listening serving HTTP  8080          golang                      http   127 0 0 1 8080 ping            PONG                 Docker         Docker                   golang     Dockerfile     main go     golang build env ADD    go src app WORKDIR  go src app RUN go  u  v github com kardianos govendor RUN govendor sync RUN GOOS linux GOARCH 386 go build  v  o  go src app app server alpine RUN apk add  U tzdata RUN ln  sf  usr share zoneinfo Asia Shanghai  etc localtime COPY   from build env  go src app app server  usr local bin app server EXPOSE 8080 CMD    app server        Docker      docker build  t cnych goappk8s v1 0 0                Successfully built 00751f94d8a9 Successfully tagged cnych goappk8s v1 0 0   docker push cnych goappk8s v1 0 0                cnych goappk8s v1 0 0      dockerhub                                                                kubernetes    Kubernetes             kubernetes                                     Dockerfile             kubernetes       k8s yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  goapp deploy namespace  kube apps labels  k8s app  goappk8s spec  replicas  2 revisionHistoryLimit  10 minReadySeconds  5 strategy  type  RollingUpdate rollingUpdate  maxSurge  1 maxUnavailable  1 template  metadata  labels  k8s app  goappk8s spec  containers  image  cnych goappk8s v1 0 0 imagePullPolicy  Always name  goappk8s ports  containerPort  8080 protocol  TCP resources  limits  cpu  100m memory  100Mi requests  cpu  50m memory  50Mi livenessProbe  tcpSocket  port  8080 initialDelaySeconds  10 timeoutSeconds  3 readinessProbe  httpGet  path   ping port  8080 initialDelaySeconds  10 timeoutSeconds  2 apiVersion  v1 kind  Service metadata  name  goapp svc namespace  kube apps labels  k8s app  goappk8s spec  ports  name  api port  8080 protocol  TCP targetPort  8080 selector  k8s app  goappk8s apiVersion  extensions v1beta1 kind  Ingress metadata  name  goapp ingress namespace  kube apps spec  rules  host  goappk8s local http  paths  path    backend  serviceName  goapp svc servicePort  api    k8s yaml         3    Deployment Service Ingress    YAML                      YAML      Kubernetes Deployment        replicas  2          POD       strategy      RollingUpdate resources         POD        livenessProbe readinessProbe             kubectl           kubectl apply  f k8s yaml deployment  goapp deploy  created service  goapp svc  created ingress  goapp ingress  created                                   kubectl deployments  n kube apps  grep goapp goapp deploy 2 2 2 2 57s   kubectl svc  n kube apps  grep goapp goapp svc ClusterIP 10 254 109 69 8080 TCP 1m   kubectl ingress  n kube apps  grep goapp goapp ingress goappk8s local 80 1m   kubectl pods  n kube apps  grep goapp goapp deploy 84bb6979c 59qkl 1 1 Running 0 2m goapp deploy 84bb6979c mgg2r 1 1 Running 0 2m        kubernetes        POD              etc hosts     Ingress          k8s    IP goappk8s local              http   goappk8s local ping              PONG                   github             CI CD                           kubernetes",
        "objectID": "post/手摸手教你写Kubernetes的golang服务",
        "date": "2018-02-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "docker",
            "golang"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "golang",
            "服务"
        ],
        "slug": "write-kubernets-golang-service-step-by-step",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1508922450598-2f5b1193950a.jpeg",
                "desc": "Lake Wakatipu, New Zealand"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "打造独当一面的 Kubernetes 运维、开发工程师",
        "uri": "post/打造独当一面的 Kubernetes 运维、开发工程师",
        "content": "",
        "objectID": "post/打造独当一面的 Kubernetes 运维、开发工程师",
        "subtitle": "《从 Docker 到 Kubernetes 进阶》课程限时优惠中...",
        "date": "2019-04-28T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "课程"
        ],
        "keywords": [
            "kubernetes",
            "课程",
            "优惠",
            "51"
        ],
        "slug": "promotion-51",
        "landing": true,
        "gitcomment": true,
        "weight": 1,
        "category": "kubernetes"
    },
    {
        "title": "提高 kubectl 使用生产力[译]",
        "uri": "post/提高kubectl生产力",
        "content": "Kubernetes      kubectl                                       kubectl                                                         kubectl           Kubernetes                 kubectl              kubectl             kubectl                       kubectl      Kubernetes                  Kubernetes            kubectl    Kubernetes API           Kubernetes API     HTTP REST API      API      Kubernetes          Kubernetes     API                  Kubernetes         API                    API      HTTP                kubectl            Kubernetes API   HTTP       Kubernetes               Kubernetes              Kubernetes             CRUD                     Kubernetes Kubernetes                                            ReplicaSet              replicaset yaml          ReplicaSet              kubectl create  f replicaset yaml           Kubernetes       ReplicaSet                  Kubernetes      ReplicaSet           Kubernetes            API                     API            POST  apis apps v1 namespaces  namespace  replicasets         API         Kubernetes     API Endpoint             Endpoint               APIServer   URL     API        Endpoint                     kubectl       API Endpoint      HTTP POST    ReplicaSet     replicaset yaml              body          kubectl   Kubernetes                           curl         Kubernetes API    HTTP    kubectl              Kubernetes API        kubectl               kubectl         Kubernetes API                        Kubernetes        Kubernetes    Kubernetes                                       Master              Node                      Master                 etcd                    etcd    kube apiserver           API             etcd         kube controller manager                     kube scheduler        Pod         Node            kubelet                                                      kubectl create  f replicaset yaml   kubectl     ReplicaSet   API Endpoint       HTTP POST                                demo src  https   bxdc static oss cn beijing aliyuncs com images kubectl post rs1 svg https   bxdc static oss cn beijing aliyuncs com images kubectl post rs2 svg https   bxdc static oss cn beijing aliyuncs com images kubectl post rs3 svg https   bxdc static oss cn beijing aliyuncs com images kubectl post rs4 svg https   bxdc static oss cn beijing aliyuncs com images kubectl post rs5 svg https   bxdc static oss cn beijing aliyuncs com images kubectl post rs6 svg https   bxdc static oss cn beijing aliyuncs com images kubectl post rs7 svg  desc      kubectl create  f replicaset yaml      APIServer   ReplicaSet           etcd         controller manager    ReplicaSet                         ReplicaSet      ReplicaSet           Pod           Pod             etcd                       Pod       Pod                    Pod                      etcd    Pod                   Pod                     Pod     kubelet     APIServer    Pod                    docker                          ReplicaSet           Kubernetes API                   Kubernetes    APIServer   etcd                                    etcd        APIServer     etcd                  ReplicaSet       ReplicaSets API   List     watch       ReplicaSet        ReplicaSet       create Pod API     Pod        patch Pod API     Pod                  kubectl              API                     Kubernetes              etcd    Kubernetes      APIServer    Kubernetes API                                 Kubernetes API           Kubernetes                             kubectl              kubectl                     kubectl         1                                               tab       kubectl                                                kubectl                      Bash   Zsh shell                                                                                  shell             shell                   kubectl   Bash   Zsh                           kubectl completion bash      kubectl completion zsh         shell   source              kubectl                      Bash    Linux   Mac         Zsh                           Bash Linux Bash          bash completion                              bash completion       sudo apt get install bash completion      yum install bash completion                           type initcompletion        shell                                             bashrc      source  usr share bash completion bash_completion                  bashrc                     apt get        yum           bash completion                           shell          kubectl                        bashrc     source  etc bash_completion d kubectl    etc bash_completion d               bash completion                        shell   kubectl                    Bash MacOS   Mac                 Mac    Bash      3 2       kubectl             Bash 4 1          Mac     kubectl                   Bash    Bash                Upgrading Bash macOS                            Bash     4 1      Linux     Bash         bash completion                        Homebrew          brew install bash completion 2    2   bash completion v2    ",
        "objectID": "post/提高kubectl生产力",
        "date": "2019-07-22T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "kubectl"
        ],
        "keywords": [
            "kubernetes",
            "docker",
            "kubectl",
            "效率"
        ],
        "slug": "boosting-kubeclt-productivity",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1563713665854-e72327bf780e.jpeg",
                "desc": "https://unsplash.com/photos/pwkHJXr01bQ"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "更优雅的git log",
        "uri": "post/更好的git log",
        "content": "git log                git log                                                                                                                    git log   graph   pretty format   Cred h Creset   C yellow  d Creset  s  Cgreen  cr   C bold blue  Creset    abbrev commit                                        git config   global alias lg  log   color   graph   pretty format   Cred h Creset   C yellow  d Creset  s  Cgreen  cr   C bold blue  Creset    abbrev commit                      git lg                         git lg  p",
        "objectID": "post/更好的git log",
        "date": "2017-12-20T00:00:00.000Z",
        "tags": [
            "git",
            "log",
            "ops"
        ],
        "slug": "a-better-git-log",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/24327236_2084467321787075_5515671519205785600_n.jpg",
                "desc": "Fall and fog"
            }
        ],
        "category": "ops"
    },
    {
        "title": "更新django2.0的10条注意事项",
        "uri": "post/更新django2.0的10条注意事项",
        "content": "django 2 0                   python2 x                2 x              python3 x           python3 x                                 python            python          django2 0                 Django 2 0              1  url django core urlresolvers import reverse     django urls import reverse 2  MIDDLEWARE settings py   MIDDLEWARE_CLASSES    MIDDLEWARE          3  django shortcuts render   django shortcuts rendertoresponse               django shortcuts render      4  User isauthenticated  User isanonymous    User isauthenticated   User isanonymous           User isauthenticated User isanonymous  5  SessionAuthenticationMiddleware    SessionAuthenticationMiddleware            Django 1 10           6  assignmenttag   simpletag  register assignmenttag    register simpletag  django2 0              Django 2 0         7  on_delete models CASCADE  model ForeignKey OneToOne     on_delete models CASCADE  8  URL        Django   URL                       Pythonic                       url r  articles   P 0 9  4       views year_archive               path  articles     views year_archive   9                 annotate        Window        Frame     10                                          Django 2 0",
        "objectID": "post/更新django2.0的10条注意事项",
        "date": "2018-01-02T00:00:00.000Z",
        "tags": [
            "django",
            "django2.0"
        ],
        "slug": "upgrading-django-20-10-tips",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1500206329404-5057e0aefa48.jpeg",
                "desc": "Seeking the one who is higher than us. Lifting our hands to calling his name. Surrendering all of our being through worship."
            }
        ],
        "category": "python"
    },
    {
        "title": "21天入门机器学习",
        "uri": "post/机器学习",
        "content": "AI                                                                                                                                   AI                                                                                  AI         Case1                              AI                                                                                    985                                                                               Case2                       interviewer              985                                         interviewee                                                                                                                           01             AI          AI                                         XXX         XXX                                                       1                                                                                                                                                                                                                                                                                                                                                                           CET 4                                                                                         demo prototype                                                                                                               i                 ii             2                                                                                                                                                            XXXX                                                           TIP    title                                                                                                                                                                                                                                                                                               3                                                 ETL                                                                                                                   NLP        AlphaGo                    ML    DL                                                                         02                             AI                            AI                                                                                                                                                     21           3   1    5   21                                                                                                                           5     200          2   28   3   1        03                                iEverything",
        "objectID": "post/机器学习",
        "subtitle": "小白入行 AI 的必修课",
        "date": "2019-02-18T00:00:00.000Z",
        "tags": [
            "机器学习",
            "AI",
            "python"
        ],
        "keywords": [
            "机器学习",
            "入门",
            "AI",
            "小白",
            "必修课"
        ],
        "slug": "ai-start-course",
        "gitcomment": true,
        "category": "python"
    },
    {
        "title": "TDD开发容器化的Python微服务应用(一)",
        "uri": "post/测试驱动开发课程",
        "content": "Docker                                                  TDD                                                                                                                                                                                                                  iEverything           python            python                   Docker               Flask Buleprint    Jinja      flask microservices main   Docker Compose    Nginx Admin    flask microservices users           Flask    flask microservices client       React    flask microservices swagger   Swagger API         1                   github            tag       RealPython                                            Docker  Flask MySQL   RESTful API                            TDD                        Docker   started Docker Docker Compose   started Docker Compose Flask   Flaskr TDD               Python v3 6 4 Flask v0 12 2 Flask Script v2 0 6 Flask SQLAlchemy v2 3 2 Flask Testing v0 7 1 PyMySQL v0 8 0 Gunicorn v19 7 1 Nginx v1 13 0 Docker v17 11 0 ce Docker Compose v1 14 0                     Flask    RESTful API             TDD      Docker Docker Compose                                                  Docker     Python Flask     Flask Nginx Gunicorn 2                                        Flask    mkdir flask microservices users    cd flask microservices users   mkdir project   pyenv virtualenv 3 6 4 tdd3   pyenv local tdd3  tdd3   pip install Flask  0 12 2  project       init py            project init py flask import Flask  jsonify    app app   Flask name   app route   ping   methods   GET    def ping_pong    return jsonify    status    success    message    pong           Flask Script               Flask app   tdd3   pip install Flask Script  2 0 6             manage py     manage py flask_script import Manager project import app manager   Manager app  name     main   manager run              Manager                          tdd3   python manage py runserver                    http   localhost 5000 ping        json             message    pong     status    success             Ctrl C   project        config py           project config py class BaseConfig             DEBUG   False TESTING   False class DevelopmentConfig BaseConfig                DEBUG   True class TestingConfig BaseConfig                DEBUG   True TESTING   True class ProductionConfig BaseConfig                DEBUG   False     init py                  flask import Flask  jsonify    app app   Flask name       app config from_object  project config DevelopmentConfig    app route   ping   methods   GET    def ping_pong    return jsonify    status    success    message    pong                        debug          tdd3   python manage py runserver Running http   127 0 0 1 5000   Press CTRL C quit  Restarting stat Debugger active  Debugger PIN  770 657 842                                                                 requirements txt            pip freeze                      tdd3   pip freeze   requirements txt     requirements txt      Flask  0 12 2 Flask Script  2 0 6                 gitignore     pycache env    git             3  Docker              Flask                           Docker Docker Compose    docker  v Docker version 17 05 0 ce  build 89658be   docker compose  v docker compose version 1 14 0  build unknown              Dockerfile     python 3 6 4        RUN mkdir  p  usr src app WORKDIR  usr src app        Docker      ADD   requirements txt  usr src app requirements txt      RUN pip install  r requirements txt      ADD    usr src app      CMD python manage py runserver  h 0 0 0 0                docker compose yml     version   2 1  services  users service  container_name  users service build    volumes      usr src app  ports  5001 5000                               Dockerfile     users service       docker compose yml            volumes                                                                   Docker compose             2 1         docker compose            Docker                                3 x 2 x                                docker compose build                          Docker                                     docker compose  d    d                        http   127 0 0 1 5001 ping             JSON           docker compose yml                           version   2 1  services  users service  container_name  users service build    volumes      usr src app  ports  5001 5000                   environment  APP_SETTINGS project config DevelopmentConfig     proejct init py                   import os flask import Flask  jsonify    app app   Flask name       appsettings   os getenv  APPSETTINGS   app config fromobject appsettings   app route   ping   methods   GET    def ping_pong    return jsonify    status    success    message    pong                docker compose  d                         project init py             import sys print app config  file sys stderr                                         docker compose logs  f users service         DEBUG True TESTING False                    4                   MySQL                     link users service          ",
        "objectID": "post/测试驱动开发课程",
        "date": "2017-12-28T00:00:00.000Z",
        "tags": [
            "python",
            "flask",
            "TDD",
            "docker",
            "react",
            "kubernetes",
            "Microservice"
        ],
        "slug": "tdd-develop-python-microservice-app",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1470020337050-543c4e581988.jpeg",
                "desc": "Cloudy Cabin Escape."
            }
        ],
        "category": "python"
    },
    {
        "title": "TDD开发容器化的Python微服务应用(二)",
        "uri": "post/测试驱动开发课程(二)",
        "content": "3                                                     ReactJS                                                                                                                                                    iEverything           python            python                                  React    React    React        React    1     flask microservices main   Docker Compose    Nginx       flask microservices users   Flask    flask microservices client       2                      Docker Compose      git                             Docker          Travis CI       React    React            3                                                      requirements txt          coverage  4 4 2       manage py         import coverage COV   coverage coverage  branch True  include  project     omit    project tests        COV start    manager command def cov       Runs unit tests coverage     tests   unittest TestLoader   discover  project tests   result   unittest TextTestRunner verbosity 2  run tests  result wasSuccessful    COV stop   COV save   print  Coverage Summary    COV report   COV html_report   COV erase   return 0 return 1                       tdd3   docker compose  f docker compose yml  d   build                 tdd3   docker compose  f docker compose yml run users service python manage py cov                Coverage Summary  Name Stmts Miss Branch BrPart Cover project init py 12 5 0 0 58  project api models py 13 10 0 0 23  project api views py 55 0 10 0 100  project config py 16 0 0 0 100  TOTAL 96 15 10 0 86                    htmlcov                                     htmlcov index html                 htmlcov       gitignore     4       Liniting                       python       linting         Flake8      pep8 pyflakes  linting        requrements txt     flake8     flake8  3 5 0              tdd3   docker compose  f docker compose yml  d   build        flake8         tdd3     docker compose  f docker compose yml run users service flake8 project Starting users db     done project init py 2 1  F401  flask jsonify  imported unused project tests test_users py 28 80  E501 line long  83   79 characters                 flask jsonify                                                        5                                                                                            github       Travis CI                                       travis yml     sudo  required services  docker env  DOCKERCOMPOSEVERSION  1 14 0 before_install  sudo rm  usr local bin docker compose curl  L https   github com docker compose releases download   DOCKERCOMPOSEVERSION  docker compose uname  s uname  m   docker compose chmod  x docker compose sudo mv docker compose  usr local bin before_script  docker compose  f docker compose yml   build  d script  docker compose  f docker compose yml run users service python manage py test docker compose  f docker compose yml run users service flake8 project after_script  docker compose  f docker compose yml down                      docker compose                                                 Travis CI                               GitHub                        Travis CI                     Travis      README md                                                                           GitHub   Travis         6  React    React            javascript                                          React                      React         Why build React  React                    Babel Webpack                            React                     Node NPM    tdd100 node  v v8 5 0   tdd100 npm  v 5 4 2                                         6 1                      React         Create React App        Create React App            npm install create react app   global             flask microservices users                 client                 mkdir client    cd client   create react app                                          npm start         Create React App               http   localhost 3000                  Crtl   C                    npm       package lock json      echo  package lock false      npmrc       npm docs         npmrc        package lock json                 Understanding lock files NPM 5                         6 2                             src     App css App js App test js  index css       index js    import React  react   import ReactDOM  react dom   const App           return   Users      ReactDOM render    document getElementById  root                   React ReactDom           App      ES6                      JSX          ReactDOM render      App        ID root HTML         public     index html                        ES6                   javascript        ES6            ES6    javascript                                             public    index html   head    bootstrap css      6 3                 App             import React   Component   react   import ReactDOM  react dom   class App extends Component   constructor     super      render     return   Users       ReactDOM render    document getElementById  root            npm start                                                    ",
        "objectID": "post/测试驱动开发课程(二)",
        "date": "2018-01-13T00:00:00.000Z",
        "tags": [
            "python",
            "flask",
            "TDD",
            "docker",
            "react",
            "kubernetes",
            "Microservice"
        ],
        "slug": "tdd-develop-python-microservice-app-part2",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1435777940218-be0b632d06db.jpeg",
                "desc": "Arctic plains."
            }
        ],
        "category": "python"
    },
    {
        "title": "《深入浅出Prometheus》",
        "uri": "post/深入浅出prometheus",
        "content": "Prometheus        Prometheus                                                          Prometheus                                       Prometheus                                               Prometheus       Prometheus    SoundCloud           Google BorgMon                 Kubernetes      Prometheus                     Prometheus                                 Prometheus                               Prometheus                   Kubernetes         Prometheus                  Redis MySQL server              Kubernetes          Prometheus                                           Prometheus                      Prometheus              Prometheus                 Prometheus       Prometheus                                                 IT          Prometheus                                   Prometheus    Go                                                   Prometheus                                 Kubernetes Consul DNS                          Go            Prometheus                                                                  Prometheus                 Prometheus             4 12        Prometheus            Kubernetes                        1                                                                                         Prometheus        2       Prometheus                         Prometheus                                            Prometheus      Thanos     3       Prometheus                   Prometheus TSDB                                                          Influxdb         Adapter        4       Prometheus exporter                        exporter    MySQL server exporter Redis exporter Node exporter                  exporter          exporter  5        Kubernetes                Heapster kube state metrics metrics server       Prometheus   Kubernetes           6        Prometheus   Kubernetes                           Kubernetes       Prometheus       Kubernetes                Prometheus Operator                                           7        Prometheus    Kubernetes                                      Prometheus               Kubernetes    Service     8        Promethues    Kubernetes                  cAdvisor        apiserver     Service     kube state metrics   Kubernetes                    node exporter    Kubernetes        9        Prometheus    Kubernetes                Kubernetes       Grafana           Grafana    Prometheus            Dashboard            Grafana    Kubernetes             grafana kuberentes app                 Grafana                10        Prometheus    Kubernetes                  Kubernetes       Prometheus       Alertmanager           Configmap                       webhook        Alertmanager       11      Prometheus           Prometheus                                           Prometheus          12      AlertManager                                                                                                                               4          k8s                                  4 2    10        k8s                                                                   https   mp weixin qq com s __biz MzU4MjQ0MTU4Ng   mid 2247484172 idx 1 sn 890f5ab2ad4e9359505d7958166d8f49 chksm fdb90c11cace850784971962b34ab959be09479781ccc5b0e3cd15db79f6a2a347cf2cd446e1 token 2048854271             https   detail tmall com item htm spm a212k0 12153887 0 0 64a3687dQ6nSzh id 590161370307        https   item jd com 44066787013 html          prometheus",
        "objectID": "post/深入浅出prometheus",
        "subtitle": "原理、应用、源码与拓展详解",
        "date": "2019-04-01T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "prometheus"
        ],
        "keywords": [
            "kubernetes",
            "prometheus",
            "书籍",
            "深入浅出"
        ],
        "slug": "prometheus-book",
        "gitcomment": true,
        "category": "kubernetes"
    },
    {
        "title": "深入理解 Kubernetes Admission Webhook",
        "uri": "post/深入理解Kubernetes的Admission Webhook",
        "content": "Kubernetes                                             Kubernetes                  admission webhooks    initializers           API            Kubernetes                       admission webhooks                         Kubernetes                    admission controller piece code intercepts requests Kubernetes API server prior persistence object  request authenticated authorized      Admission controllers may  validating    mutating   both  Mutating controllers may modify objects admit  validating controllers may not      controllers either phase reject request  entire request rejected immediately error returned end user                           Kubernetes API Server                                         validating mutating       Mutating                   Validating                                                                       Kubernetes API                      Kubernetes               https   kubernetes io docs reference access authn authz admission controllers  what does each admission controller do                                               kube apiserver       apiserver                                         apiserver       Admission webhooks initializers                             initializers                       alpha               Admission webhooks              1 14   kubernetes          initializers                  admission webhook        Kubernetes apiserver               MutatingAdmissionWebhook ValidatingAdmissionWebhook                   HTTP                             Kubernetes                  admission webhook                            admission webhook                          HTTP                     HTTP             serverless       https   github com kelseyhightower denyenv validating admission webhook   MutatingWebhookConfiguration ValidatingWebhookConfiguration     admission webhook         admission webhook             validating webhooks                               mutating webhooks                           webhook                               Service Mesh   istio     mutating webhooks     Envoy   sidecar       Pod     https   istio io docs setup kubernetes sidecar injection          Admission Webhook         Admission Webhook                   Kubernetes                     webhook   webserver               webhook                   Kubernetes                   Kubeadm                            1 9            apiserver     MutatingAdmissionWebhook ValidatingAdmissionWebhook                   kubeadm            apiserver Pod        kubectl pods kube apiserver ydzs master  n kube system  o yaml apiVersion  v1 kind  Pod metadata  labels  component  kube apiserver tier  control plane name  kube apiserver ydzs master namespace  kube system        spec  containers  command  kube apiserver   advertise address 10 151 30 11   allow privileged true   authorization mode Node RBAC   client ca file  etc kubernetes pki ca crt   enable admission plugins NodeRestriction MutatingAdmissionWebhook ValidatingAdmissionWebhook           enable admission plugins      MutatingAdmissionWebhook ValidatingAdmissionWebhook                               apiserver                            API    kubectl api versions  grep admission admissionregistration k8s io v1beta1    webhook                         webhook              HTTP    validate   mutate     validating   mutating webhook        webhook          Github     https   github com cnych admission webhook example     Fork    https   github com banzaicloud admission webhook example    webhook         TLS     HTTP      Deployment                             main go webhook go main go       HTTP        webhook go   validates   mutates    webhook                    main go            golang      HTTP                  TLS        flag StringVar  parameters certFile   tlsCertFile     etc webhook certs cert pem    File containing x509 Certificate HTTPS    flag StringVar  parameters keyFile   tlsKeyFile     etc webhook certs key pem    File containing x509 private key   tlsCertFile               serve            mutate   validating      HTTP                AdmissionReview                   URL         mutate   validate          AdmissionReview     func  whsvr WebhookServer  serve w http ResponseWriter  r http Request    var body   byte r Body    nil   data  err    ioutil ReadAll r Body   err    nil   body   data     len body     0   glog Error  empty body   http Error w   empty body   http StatusBadRequest  return      verify content type accurate contentType    r Header Get  Content Type   contentType     application json    glog Errorf  Content Type  s  expect application json   contentType  http Error w   invalid Content Type  expect application json   http StatusUnsupportedMediaType  return   var admissionResponse  v1beta1 AdmissionResponse ar    v1beta1 AdmissionReview       err    deserializer Decode body  nil   ar   err    nil   glog Errorf  Can t decode body   v   err  admissionResponse    v1beta1 AdmissionResponse  Result   metav1 Status  Message  err Error           else   fmt Println r URL Path  r URL Path      mutate    admissionResponse   wh",
        "objectID": "post/深入理解Kubernetes的Admission Webhook",
        "date": "2019-07-05T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "admission",
            "webhook",
            "istio"
        ],
        "keywords": [
            "kubernetes",
            "admission",
            "webhook",
            "istio",
            "apiserver",
            "准入控制",
            "Envoy",
            "Pod"
        ],
        "slug": "k8s-admission-webhook",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1559657693-e816ff3bd9af.jpeg",
                "desc": "https://unsplash.com/photos/flfhAlEwDq4"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "理解 Kubernetes 的亲和性调度",
        "uri": "post/理解kubernetes的亲和性",
        "content": "POD                                                                  POD                 gitlab        Kubernetes                                                                                    POD                  Kubernetes                       nodeAffinity podAffinity  nodeSelector     label kubernetes                       label                      service      label     POD     POD             label                           node   label    kubectl nodes   show labels NAME STATUS ROLES AGE VERSION LABELS 192 168 1 140 Ready 42d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname 192 168 1 140 192 168 1 161 Ready 118d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io cluster service true kubernetes io hostname 192 168 1 161 192 168 1 170 Ready 118d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io cluster service true kubernetes io hostname 192 168 1 170 192 168 1 172 Ready 114d v1 8 1 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io cluster service true kubernetes io hostname 192 168 1 172         192 168 1 140    source qikqiak            kubectl label nodes 192 168 1 140 source qikqiak node  192 168 1 140  labeled            show labels                 node                                 POD   spec      nodeSelector                  label                  busybox POD   YAML     apiVersion  v1 kind  Pod metadata  labels  app  busybox pod name  test busybox spec  containers  command  sleep  3600  image  busybox imagePullPolicy  Always name  test busybox           POD     140                  140    label     apiVersion  v1 kind  Pod metadata  labels  app  busybox pod name  test busybox spec  containers  command  sleep  3600  image  busybox imagePullPolicy  Always name  test busybox nodeSelector  source  qikqiak          describe             kubectl describe pod test busybox        Events  Type Reason Age Message                               Normal Scheduled 49s default scheduler Successfully assigned test busybox 192 168 1 140 Normal SuccessfulMountVolume 49s kubelet  192 168 1 140 MountVolume SetUp succeeded volume  default token hmpbz  Normal Pulling 49s kubelet  192 168 1 140 pulling image  busybox  Normal Pulled 41s kubelet  192 168 1 140 Successfully pulled image  busybox  Normal Created 41s kubelet  192 168 1 140 Created container Normal Started 41s kubelet  192 168 1 140 Started container        Events           POD         140                 nodeSelector                                        nodeAffinity  nodeAffinity nodeAffinity             Anti Affinity                nodeSelector                                                                         POD                                                                                                              nodeAffinity          preferredDuringSchedulingIgnoredDuringExecution requiredDuringSchedulingIgnoredDuringExecution                          test node affinity yaml  apiVersion  v1 kind  Pod metadata  name  with node affinity labels  app  node affinity pod spec  containers  name  with node affinity image  nginx affinity  nodeAffinity  requiredDuringSchedulingIgnoredDuringExecution  nodeSelectorTerms  matchExpressions  key  kubernetes io hostname operator  NotIn values  192 168 1 140 192 168 1 161 preferredDuringSchedulingIgnoredDuringExecution  weight  1 preference  matchExpressions  key  source operator  values  qikqiak      POD       POD      140 161              source qikqiak                       descirbe                              label            Kubernetes              In label          NotIn label           Gt label         Lt label         Exists    label    DoesNotExist    label         nodeSelectorTerms                         matchExpressions                          POD  podAffinity           POD                      POD           Kubernetes 1 4     podAffinity                nodeAffinity   podAffinity  requiredDuringSchedulingIgnoredDuringExecution  preferredDuringSchedulingIgnoredDuringExecution                            podAntiAffinity             with pod affinity busybox pod            node affinity pod             test pod affinity yaml  apiVersion  v1 kind  Pod metadata  name  with pod affinity labels  app  pod affinity pod spec  containers  name  with pod affinity image  nginx affinity  podAffinity  requiredDuringSchedulingIgnoredDuringExecution  labelSelector  matchExpressions  key  app operator  values  busybox pod topologyKey  kubernetes io hostname podAntiAffinity  preferredDuringSchedulingIgnoredDuringExecution  weight  1 podAffinityTerm  labelSelector  matchExpressions  key  app operator  values  node affinity pod topologyKey  kubernetes io hostname          POD                              POD    POD    app busybox pod  label podAntiAffinity                            POD     POD  app node affinity pod  label        POD                POD        140       busybox pod     140    node affinity pod     140                  describe      kubectl describe pod with pod affinity        Events  Type Rea",
        "objectID": "post/理解kubernetes的亲和性",
        "subtitle": "nodeSelector、nodeAffinity、podAffinity、Taints以及Tolerations用法",
        "date": "2018-03-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "affinity",
            "调度"
        ],
        "keywords": [
            "kubernetes",
            "亲和性",
            "调度",
            "affinity",
            "nodeSelector",
            "污点",
            "容忍"
        ],
        "slug": "understand-kubernetes-affinity",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1474436799594-1974f1add7ad.jpeg",
                "desc": "Guntersville Lake, United States"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "深入理解 Python 元类",
        "uri": "post/理解Python元类",
        "content": "Stack overflow                    Python OOP                  metaclass                                                                         e satis                   985                       Python                              Python    Python         Smalltalk                                             Python                class ObjectCreator object       pass         my_object   ObjectCreator       print my_object    Python                             class Python                               class ObjectCreator object       pass                      ObjectCreator                                                                         1               2         3            4                            print ObjectCreator                            def echo o       print o         echo ObjectCreator                      print hasattr ObjectCreator   new_attribute   False     ObjectCreator new_attribute    foo                  print hasattr ObjectCreator   new_attribute   True     print ObjectCreator new_attribute foo     ObjectCreatorMirror   ObjectCreator                    print ObjectCreatorMirror                                                              class           def choose_class name       name     foo       class Foo object       pass     return Foo                    else      class Bar object       pass     return Bar         MyClass   choose_class  foo       print MyClass                      print MyClass                                                                                    class       Python               Python           Python                      type                                  print type 1      print type  1       print type ObjectCreator      print type ObjectCreator        type                     type                        type          type                                                         class MyShinyClass object     pass      type           MyShinyClass   type  MyShinyClass                         print MyShinyClass     print MyShinyClass                        MyShinyClass                                                 class Foo object     bar   True       type                             Foo   type  Foo         bar   True           Foo                   print Foo     print Foo bar True     f   Foo       print f     print f bar True                          class FooChild Foo       pass                        FooChild   type  FooChild    Foo            print FooChild     print FooChild bar   bar    Foo     True                                                def echo_bar self       print self bar         FooChild   type  FooChild    Foo      echobar   echobar       hasattr Foo   echo_bar   False     hasattr FooChild   echo_bar   True     my_foo   FooChild       myfoo echobar   True         Python                              class   Python                  metaclass          metaclass                                                  Python                                                 MyClass   MetaClass   MyObject   MyClass                type       MyClass   type  MyClass                  type          type    Python                         type              Type           str       str                int             type                  class         Python                                                                        age   30     age class     name    bob      name class     def foo    pass         foo class     class Bar object   pass         b   Bar       b class            class class             age class class     foo class class     b class class                                        type    Python                        metaclass                   metaclass    class Foo object   metaclass   something            Python           Foo       class Foo object        Foo           Python          metaclass         Python          Foo               type                         class Foo Bar   pass Python           Foo   metaclass          Python        metaclass       Foo            metaclass       Bar                           Python                                                 Python        type                   metaclass                                           type         type      type                                               API                                                                              metaclass                                                         metaclass                                                                   type              def upperattr futureclassname  futureclassparents  futureclass_attr                          attrs     name  value  name  value futureclassattr items   not name startswith  __              uppercase_attr   dict  name upper    value  name  value attrs     type          return type futureclassname  futureclassparents  upper_attr                 metaclass   upper_attr class Foo object             metaclass              bar    bip  print hasattr Foo   bar       False print hasattr Foo   BAR      True f   Foo   print f BAR     bip                      class           type  ",
        "objectID": "post/理解Python元类",
        "date": "2019-02-19T00:00:00.000Z",
        "tags": [
            "python",
            "metaclass"
        ],
        "keywords": [
            "python",
            "元类",
            "metaclass"
        ],
        "slug": "what-is-metaclass-in-python",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/usrgs.jpg",
                "desc": "what is metaclass in python?"
            }
        ],
        "category": "python"
    },
    {
        "title": "用awk做基本运算",
        "uri": "post/用awk做基本计算",
        "content": "awk                                        awk                                                                     2016 03 30 00 02 02 475   17243   140344433927936   MainThread   tasks py 733  DEBUG  upload oss  upload file  data image5 useruploadimage 20160330 00 14584838973975801011834751459267295740 jpg oss cost time 28 ms      28              awk     28             18           18               cat elfin_celery log 2016 03 29 grep  cost  awk  BEGIN  sum 0  sum   18 END print  avg   sum NR   avg  31 5155ms   NR                                        cat elfin_celery log 2016 03 29 grep  cost   awk  BEGIN  min   199999  if   18max 0 max  18 fi END print  Max   max   max 3051ms                  0                                                    http   awk readthedocs org en latest chapter one html http   www xiaoxiaozi com 2009 11 09 1621",
        "objectID": "post/用awk做基本计算",
        "date": "2016-03-31T00:00:00.000Z",
        "tags": [
            "ops",
            "linux",
            "awk"
        ],
        "slug": "awk-base-compute",
        "gitcomment": true,
        "category": "ops"
    },
    {
        "title": "Kubernetes 应用监控",
        "uri": "post/监控 Kubernetes 应用",
        "content": "Prometheus              HTTP S                        agent         metrics    Prometheus                   HTTP                        metrics      Prometheus                                                 metrics      Kubernetes       istio                                             exporter             mysqldexporter nodeexporter    exporter                agent                               Prometheus                      ingress           Traefik      ingress controller     Kubernetes                  Traefik         metrics                     metrics   metrics prometheus  entryPoint    traefik  buckets    0 1  0 3  1 2  5 0               web   web metrics prometheus                             traefik toml                      ConfigMap   Pod        Traefik Pod                 IP    kubectl svc  n kube system NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE        traefik ingress service NodePort 10 101 33 56 80 31692 TCP 8080 32115 TCP 63d         curl        Prometheus             NodePort          curl 10 101 33 56 8080 metrics HELP gogcduration_seconds summary GC invocation durations  TYPE gogcduration_seconds summary gogcduration_seconds quantile  0   0 000121036 gogcduration_seconds quantile  0 25   0 000210328 gogcduration_seconds quantile  0 5   0 000279974 gogcduration_seconds quantile  0 75   0 000420738 gogcduration_seconds quantile  1   0 001191494 gogcdurationsecondssum 0 004353914 gogcdurationsecondscount 12 HELP go_goroutines Number goroutines currently exist  TYPE go_goroutines gauge go_goroutines 63                Traefik                           metrics     prometheus yml           prometheus   job     prome cm yaml  apiVersion  v1 kind  ConfigMap metadata  name  prometheus config namespace  kube ops data  prometheus yml    global  scrape_interval  30s scrape_timeout  30s scrape_configs  job_name   prometheus  static_configs  targets    localhost 9090   job_name   traefik  static_configs  targets    traefik ingress service kube system svc cluster local 8080                     scrape_configs                basicauth   bearertoken         metrics     basic                        header       token       kubernetessdconfigs   consulsdconfigs                          Traefik     servicename  traefik ingress service     kube system    namespace           targets          FQDN    traefik ingress service kube system svc cluster local        Traefik   Prometheus                    servicename serviceport              ConfigMap         kubectl delete  f prome cm yaml configmap  prometheus config  deleted   kubectl create  f prome cm yaml configmap  prometheus config  created    Prometheus                       Pod    prometheus yml                Prometheus           web enable lifecycle                 reload              kubectl svc  n kube ops NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE prometheus NodePort 10 102 74 90 9090 30358 TCP 3d   curl  X POST  http   10 102 74 90 9090   reload       ConfigMap    Volume        Pod                                  reload    url     POST             service   CLUSTER IP PORT                         Prometheus   Dashboard                        traefik                       Graph              Traefik                                       metrics                            Prometheus         Kubernetes        exporter                         metrics    Prometheus                   exporter      Prometheus         Prometheus                exporter                              exporters           redis exporter       redis                  sidecar               Pod               redis       redis exporter             Prometheus              prome redis yaml  apiVersion  extensions v1beta1 kind  Deployment metadata  name  redis namespace  kube ops spec  template  metadata  annotations  prometheus io scrape   true  prometheus io port   9121  labels  app  redis spec  containers  name  redis image  redis 4 resources  requests  cpu  100m memory  100Mi ports  containerPort  6379 name  redis exporter image  oliver006 redis_exporter latest resources  requests  cpu  100m memory  100Mi ports  containerPort  9121 kind  Service apiVersion  v1 metadata  name  redis namespace  kube ops spec  selector  app  redis ports  name  redis port  6379 targetPort  6379 name  prom port  9121 targetPort  9121           redis    Pod               redis                 redis_exporter                kubectl create  f prome redis yaml deployment extensions  redis  created service  redis  created              redis   Pod              kubectl pods  n kube ops NAME READY STATUS RESTARTS AGE prometheus 8566cd9699 gt9wh 1 1 Running 0 3d redis 544b6c8c54 8xd2g 2 2 Running 0 3m   kubectl svc  n kube ops NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE prometheus NodePort 10 102 74 90 9090 30358 TCP 3d redis ClusterIP 10 104 131 44 6379 TCP 9121 TCP 5m        9121                   curl 10 104 131 44 9121 metrics HELP gogcduration_seconds summary GC invocation durations  TYPE gogcduration_seconds summary gogcduration_seconds quantile  0   0 gogcduration_seconds quantile  0 25   0 gogcduration_seconds quantile  ",
        "objectID": "post/监控 Kubernetes 应用",
        "subtitle": "使用 Prometheus 监控 Kubernetes 集群应用",
        "date": "2018-10-28T00:00:00.000Z",
        "slug": "promethues-monitor-k8s-app",
        "tags": [
            "prometheus",
            "monitor",
            "kubernetes"
        ],
        "keywords": [
            "kubernetes",
            "监控",
            "prometheus"
        ],
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "监控 Kubernetes 集群节点",
        "uri": "post/监控 Kubernetes 集群节点",
        "content": "Promethues     Kubernetes             Kubernetes                                                          Kubernetes             cpu load disk memory                  kube scheduler kube controller manager kubedns coredns                 metrics    Deployment              API              Kubernetes                     Heapster Heapster                     Pod               Kubelet cAdvisor           Heapster              kube state metrics                       Heapster                 metrics server     cAdvisor cAdvisor Google                                 Docker      Kubernetes              cAdvisor    kubelet                 Kube state metrics kube state metrics     API Server                  Deployment Node Pod        kube state metrics          metrics                         Prometheus              metrics server metrics server                      Heapster          metrics server                        kube state metrics   metrics server                       kube state metrics                     Deployment Pod       metrics server            API        CPU                                                                                   Nagios zabbix                       Prometheus                  nodeexporter         nodeexporter                          node_exporter                 conntrack cpu diskstats filesystem loadavg meminfo netstat               Github repo         DaemonSet                              Pod                                 node exporter                        prome node exporter yaml  apiVersion  extensions v1beta1 kind  DaemonSet metadata  name  node exporter namespace  kube ops labels  name  node exporter spec  template  metadata  labels  name  node exporter spec  hostPID  true hostIPC  true hostNetwork  true containers  name  node exporter image  prom node exporter v0 16 0 ports  containerPort  9100 resources  requests  cpu  0 15 securityContext  privileged  true args    path procfs  host proc   path sysfs  host sys   collector filesystem ignored mount points      sys proc dev host etc         volumeMounts  name  dev mountPath   host dev name  proc mountPath   host proc name  sys mountPath   host sys name  rootfs mountPath   rootfs tolerations  key   node role kubernetes io master  operator   Exists  effect   NoSchedule  volumes  name  proc hostPath  path   proc name  dev hostPath  path   dev name  sys hostPath  path   sys name  rootfs hostPath  path                               node exporter                Pod         Pod               hostPID  true hostIPC  true hostNetwork  true3            PID namespace IPC namespace           namespace                      namespace       namespace                        dev  proc  sys                                                     top        cpu              proc stat   free                        proc meminfo                 kubeadm            master                                                                      kubectl create  f prome node exporter yaml daemonset extensions  node exporter  created   kubectl pods  n kube ops  o wide NAME READY STATUS RESTARTS AGE IP NODE node exporter jfwfv 1 1 Running 0 30m 10 151 30 63 node02 node exporter kr8rt 1 1 Running 0 30m 10 151 30 64 node03 node exporter whb7n 1 1 Running 0 20m 10 151 30 57 master prometheus 8566cd9699 gt9wh 1 1 Running 0 4d 10 244 4 39 node02 redis 544b6c8c54 8xd2g 2 2 Running 0 23h 10 244 2 87 node03              3           Pod                     Service             metrics              hostNetwork true                  9100                         curl 127 0 0 1 9100 metrics     nodefilesystemdevice_error device  shm  fstype  tmpfs  mountpoint   rootfs var lib docker containers aefe8b1b63c3aa5f27766053ec817415faf8f6f417bb210d266fef0c2da64674 shm   1 nodefilesystemdevice_error device  shm  fstype  tmpfs  mountpoint   rootfs var lib docker containers c8652ca72230496038a07e4fe4ee47046abb5f88d9d2440f0c8a923d5f3e133c shm   1 nodefilesystemdevice_error device  tmpfs  fstype  tmpfs  mountpoint   dev   0 nodefilesystemdevice_error device  tmpfs  fstype  tmpfs  mountpoint   dev shm   0                                  Helm           helm install   name node exporter stable prometheus node exporter   namespace kube ops            3          node exporter             Service                      Prometheus                                                 Prometheus            node exporter                                        Kubernetes   Promethues     Kubernetes API          5            Node Service Pod Endpoints Ingress       kubectl                            kubectl nodes NAME STATUS ROLES AGE VERSION master Ready master 165d v1 10 0 node02 Ready 85d v1 10 0 node03 Ready 145d v1 10 0      Prometheus                              Node               prometheus yml          job       job_name   kubernetes nodes  tls_config  ca_file   var run secrets kubernetes io serviceaccount ca crt bearertokenfile   var run secrets kubernetes io serviceaccount token kubernetessdconfigs  role  node     kubernetessdconfigs    node Prometheus       Kubernetes        node         job    ",
        "objectID": "post/监控 Kubernetes 集群节点",
        "subtitle": "使用 Prometheus 监控 Kubernetes 集群节点",
        "date": "2018-11-05T00:00:00.000Z",
        "slug": "promethues-monitor-k8s-nodes",
        "tags": [
            "prometheus",
            "monitor",
            "kubernetes"
        ],
        "keywords": [
            "kubernetes",
            "监控",
            "prometheus"
        ],
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "Skaffold-简化本地开发kubernetes应用的神器",
        "uri": "post/简化本地持续开发kubernetes应用的神器-Skaffold",
        "content": "kubernetes                                CI CD      kubernetes                                                     CI CD                                         kubernetes                                                 Skaffold               kubernetes        Skaffold          kubernetes                              Skaffold             Kubernetes                                  Kubernetes    Skaffold                                     CI CD                                   Skaffold     Skaffold                                                        TAG          kubernetes  manifest                                                       manifest            Skaffold                                        gif      Skaffold          Skaffold                  kubernetes     minikube  Docker MAC Windows Edge                      Skaffold  1  skaffold      Linux              curl  Lo skaffold https   storage googleapis com skaffold releases latest skaffold linux amd64    chmod  x skaffold    sudo mv skaffold  usr local bin      OSX          curl  Lo skaffold https   storage googleapis com skaffold releases latest skaffold darwin amd64    chmod  x skaffold    sudo mv skaffold  usr local bin                             Skaffold github release            2  Kubernetes     Minikube  GKE  Docker Mac Edge  Docker Windows Edge           kubernetes                       Docker Mac Edge  3  kubectl    kubernetes    kubectl                              4  Docker             5  Docker                                                Docker Hub                   docker hub                                   Skaffold                Skaffold        clone      git clone https   github com GoogleCloudPlatform skaffold        examples getting started        cd examples getting started   tree         Dockerfile     k8s pod yaml     main go     skaffold gcb yaml     skaffold yaml 0 directories  5 files              golang    main go  package main import    fmt   time    func main       fmt Println  Hello Skaffold    time Sleep time Second   2        skaffold gcb yaml                 google cloud            skaffold yaml                        cnych skaffold example      apiVersion  skaffold v1alpha1 kind  Config build  artifacts  imageName  cnych skaffold example workspace    local     deploy  kubectl  manifests  paths  k8s   parameters  IMAGE_NAME  cnych skaffold example         k8s pod yaml             IMAGE_NAME        Skaffold                                   apiVersion  v1 kind  Pod metadata  name  getting started spec  containers  name  getting started image  IMAGE_NAME         getting started      skaffold dev       skaffold dev Starting build    Found minikube Docker Desktop context  using local docker daemon  Sending build context Docker daemon 6 144kB Step 1 5   golang 1 9 4 alpine3 7      fb6e10bf973b Step 2 5   WORKDIR  go src github com GoogleCloudPlatform skaffold examples getting started      Using cache      e6ae5322ee52 Step 3 5   CMD     app        Using cache      bac5f3fd392e Step 4 5   COPY main go        Using cache      47fa1e536263 Step 5 5   RUN go build  o app main go      Using cache      f1470fe9f398 Successfully built f1470fe9f398 Successfully tagged a250d03203f9a5df267d8ad63bae8dba latest Successfully tagged cnych skaffold example f1470fe9f3984775f5dea87b5f720d67b6c2eeaaf2ca5efd1ca3c3ec7c4d4cce Build complete  Starting deploy    Deploying k8s pod yaml    Deploy complete  Dependencies may incomplete   getting started getting started  Hello Skaffold   getting started getting started  Hello Skaffold  Skaffold                       Docker       sha256           skaffold yaml       kubernetes manifests        kubectl apply  f      kubernetes                 pod             getting started getting started  Hello Skaffold   getting started getting started  Hello Skaffold   getting started getting started  Hello Skaffold            kubectl          POD    kubectl pods NAME READY STATUS RESTARTS AGE getting started 1 1 Running 3 1h              POD          kubectl pod getting started  o yaml     spec  containers  image  cnych skaffold example f1470fe9f3984775f5dea87b5f720d67b6c2eeaaf2ca5efd1ca3c3ec7c4d4cce imagePullPolicy  IfNotPresent name  getting started                 POD              docker                docker images  grep skaffold cnych skaffold example f1470fe9f3984775f5dea87b5f720d67b6c2eeaaf2ca5efd1ca3c3ec7c4d4cce f1470fe9f398 8 minutes ago 271MB             main go    package main import    fmt   time    func main       fmt Println  Hello blog qikqiak com    time Sleep time Second   2                   POD         getting started getting started  Hello Skaffold   getting started getting started  Hello Skaffold   getting started getting started  Hello blog qikqiak com   getting started getting started  Hello blog qikqiak com   getting started getting started  Hello blog qikqiak com   getting started getting started  Hello blog qikqiak com   getting started getting started  Hello blog qikqiak com                                      POD                           Skaffold                                    Skaffold ",
        "objectID": "post/简化本地持续开发kubernetes应用的神器-Skaffold",
        "subtitle": "墙裂推荐kubernetes应用开发者使用的工具",
        "date": "2018-03-27T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "skaffold",
            "CI/CD"
        ],
        "keywords": [
            "kubernetes",
            "skaffold",
            "持续开发",
            "神器",
            "CI/CD"
        ],
        "slug": "skaffold-simple-local-develop-k8s-app-tools",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1509565840034-3c385bbe6451.jpeg",
                "desc": "nothing"
            }
        ],
        "category": "kubernetes"
    },
    {
        "title": "给博客加上HTTPS",
        "uri": "post/给博客加上https",
        "content": "https     https           https                                                       https   Let s Encrypt Let s Encrypt         HTTPS                  CA          Let s Encrypt      CA      Let s Encrypt                           Let s Encrypt   Nginx        HTTPS       Certbot Let s Encrypt                        Let s Encrypt          yum install certbot       certbot certonly   email icnych gmail com   agree tos   webroot  w  var www blogs  d blog qikqiak com      w          d                                                    etc letsencrypt live blog qikqiak com         ls  etc letsencrypt live blog qikqiak com  cert pem chain pem fullchain pem privkey pem README           Nginx   https                 Nginx          443     SSL    SSL                    server   listen 443  ssl on  ssl_certificate  etc letsencrypt live blog qikqiak com fullchain pem  sslcertificatekey  etc letsencrypt live blog qikqiak com privkey pem  server_name blog qikqiak com  root  home notes apps blog  index index html              Nginx      nginx  s reload       https   blog qikqiak com                      http   blog qikqiak com    http           http   https                   301                   server   listen 80  server_name blog qikqiak com  rewrite        https    host 1 permanent    server   listen 443  ssl on  ssl_certificate  etc letsencrypt live blog qikqiak com fullchain pem  sslcertificatekey  etc letsencrypt live blog qikqiak com privkey pem  server_name blog qikqiak com  root  home notes apps blog  index index html                   https             Let s Encrypt        90                  certbot                             crontab            crontab  l 30 5 1     root  usr bin certbot renew   renew hook   usr sbin nginx  s reload",
        "objectID": "post/给博客加上https",
        "date": "2017-11-06T00:00:00.000Z",
        "tags": [
            "https",
            "nginx",
            "ops"
        ],
        "slug": "make-https-blog",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/15802194_206063646464303_2027400919364141056_n.jpg",
                "desc": "普吉岛@泰国 JANUARY 8,2017"
            }
        ],
        "category": "ops"
    },
    {
        "title": "自定义django admin后台的action",
        "uri": "post/自定义django-admin后台的action",
        "content": "django                 admin                                django admin                  action              action                              class PhotoDescAdmin admin ModelAdmin   def pub_time self  obj   return obj photo pub_time strftime   Y  m  d   pubtime shortdescription              def make_published self  request  queryset   queryset update enabled True  makepublished shortdescription                   listdisplay     id    pubtime    category    photo    description    userid    username    enabled    created_at   listfilter     createdat    category    search_fields     description    ordering      created_at    rawidfields     photo    category     actions    make_published         make_published        PhotoDescAdmin  actions         django admin     photodesc         action",
        "objectID": "post/自定义django-admin后台的action",
        "date": "2014-07-02T00:00:00.000Z",
        "tags": [
            "django",
            "admin",
            "action"
        ],
        "slug": "custom-django-admin-actions",
        "category": "django",
        "gitcomment": true
    },
    {
        "title": "通过 GitHub OAuth 和 Dex 访问 Kubernetes 集群",
        "uri": "post/通过GitHub认证访问K8S",
        "content": "RBAC     kubectl                         kubernetes                                 kubectl              kubernetes                                                                                                                      kubernetes      Kubernetes             RBAC                   kubernetes           kubernetes                                kubernetes            User Account   Service Account  User Account                     namespace       Service Account                   kubernetes          API server               RBAC   User Account   Service Account                     Kubernetes RBAC                       User Account kubernetes                                                          User Account         Kubernetes       kubernetes                                                  Google Accounts                                          kubernetes                                                                                kubernetes                                                         kubernetes                               kubernetes        OIDC    kubernetes                         Bear Token                                                                                                 ID Token                                                           kubernetes            ID Token       ID Token                      OpenID Connect OIDC             ID Token                         dex k8s authenticator          kubectl         Dex      OIDC     GitHub      GitHub           Cert manager           HTTPS          kubernetes    OIDC                    dex k8s authenticator          login k8s qikqiak com  dex k8s authenticator         Dex dex k8s qikqiak com  Dex     GitHub      GitHub          Dex Dex         dex k8s authenticator      GitHub    ID Token dex k8s authenticator    ID Token   kubeconfig kubectl    ID Token   KubeAPIServer KubeAPIServer         kubectl     kubectl                              kubernetes              Helm                   Helm                      Helm                                GitHub                                            max k8s       team red                                           GitHub        https   github com organizations max k8s settings applications       OAuth App               URL https   dex k8s qikqiak com      URL  https   dex k8s qikqiak com callback       URL       callback     Client ID Client secret                      URL login k8s qikqiak com   dex k8s qikqiak com   DNS       Dex   dex k8s authenticator            kubernetes             Ingress Controller             Dex   dex k8s authenticator      Dex            kubernetes                kubeadm             master              cat  etc kubernetes pki ca crt      BEGIN CERTIFICATE            crt                END CERTIFICATE        cat  etc kubernetes pki ca key      BEGIN RSA PRIVATE KEY            key                END RSA PRIVATE KEY      Clone dex k8s authenticator         git clone git github com mintel dex k8s authenticator git cd dex k8s authenticator        dex   dex k8s authenticator   Helm Chart            values yaml              dex   values     values dex yaml  global  deployEnv  prod tls       kubernetes     certificate          BEGIN CERTIFICATE            crt                END CERTIFICATE           kubernetes     key          BEGIN RSA PRIVATE KEY            key                END RSA PRIVATE KEY      ingress  enabled  true annotations  kubernetes io ingress class  nginx   nginx ingress kubernetes io tls acme   true      cert manager     https path    hosts  dex k8s qikqiak com tls  secretName  cert auth dex hosts  dex k8s qikqiak com serviceAccount  create  true name  dex auth sa config    issuer  https   dex k8s qikqiak com  storage  type  sqlite3 config  file   var dex db web  http  0 0 0 0 5556 frontend  theme   coreos  issuer   Example Co  issuerUrl   https   example com  logoUrl  https   example com images logo 250x25 png expiry  signingKeys   6h  idTokens   24h  logger  level  debug format  json oauth2  responseTypes    code    token    id_token   skipApprovalScreen  true connectors  type  github id  github name  GitHub config  clientID   GITHUBCLIENTID        clientSecret   GITHUBCLIENTSECRET        redirectURI  https   dex k8s qikqiak com callback   github oauth callback url orgs  name  max k8s   github    teams  team red   github       team staticClients  id  dex k8s authenticator name  dex k8s authenticator secret  generatedLongRandomPhrase redirectURIs  https   login k8s qikqiak com callback  envSecrets  GITHUBCLIENTID        github client id  GITHUBCLIENTSECRET        github client secret       dex k8s authenticator   values     values auth yaml  global  deployEnv  prod dexK8sAuthenticator  clusters  name  k8s example com short_description   k8s cluster  description   Kubernetes cluster  issuer  https   dex k8s qikqiak com  k8smasteruri  https          kubernetes  apiserver   client_id  dex k8s authenticator client_secret  generatedLongRandomPhrase redirect_uri  https   login k8s qikqiak com callback  k8scapem         BEGIN CERTIFICATE            crt ",
        "objectID": "post/通过GitHub认证访问K8S",
        "date": "2019-06-28T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "github",
            "dex",
            "kubectl",
            "rbac"
        ],
        "keywords": [
            "kubernetes",
            "github",
            "oauth",
            "dex",
            "kubectl",
            "rbac",
            "cert manager"
        ],
        "slug": "k8s-auth-via-oidc",
        "gitcomment": true,
        "category": "kubernetes",
        "bigimg": [
            {
                "src": "https://bxdc-static.oss-cn-beijing.aliyuncs.com/images/photo-1561553543-e4c7b608b98d.jpeg",
                "desc": "https://unsplash.com/photos/ieWHXjjAEwY"
            }
        ]
    },
    {
        "title": "重新理解 kubernetes 亲和性调度",
        "uri": "post/重新理解亲和性调度",
        "content": "Kubernetes                                                                      Pod                                                                    Pod                 gitlab        Kubernetes                                                                                    Pod                   Kubernetes                               nodeAffinity   Pod     podAffinity   nodeSelector                            nodeSelector     label kubernetes                       label                      service      label     Pod      Pod             label                         node   label    kubectl nodes   show labels NAME STATUS ROLES AGE VERSION LABELS master Ready master 147d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname master node role kubernetes io master  node02 Ready 67d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux course k8s kubernetes io hostname node02 node03 Ready 127d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux jnlp haimaxy kubernetes io hostname node03         node02    com youdianzhishi            kubectl label nodes node02 com youdianzhishi node  node02  labeled            show labels                 node                                 Pod  spec     nodeSelector                  label           Pod          node02                nodeSelector       node selector demo yaml  apiVersion  v1 kind  Pod metadata  labels  app  busybox pod name  test busybox spec  containers  command  sleep  3600  image  busybox imagePullPolicy  Always name  test busybox nodeSelector  com  youdianzhishi          describe             kubectl create  f node selector demo yaml pod  test busybox  created   kubectl describe pod test busybox Name  test busybox Namespace  default Node  node02 10 151 30 63        QoS Class  BestEffort Node Selectors  com youdianzhishi Tolerations  node kubernetes io not ready NoExecute 300s node kubernetes io unreachable NoExecute 300s Events  Type Reason Age Message                               Normal SuccessfulMountVolume 55s kubelet  node02 MountVolume SetUp succeeded volume  default token n9w2d  Normal Scheduled 54s default scheduler Successfully assigned test busybox node02 Normal Pulling 54s kubelet  node02 pulling image  busybox  Normal Pulled 40s kubelet  node02 Successfully pulled image  busybox  Normal Created 40s kubelet  node02 Created container Normal Started 40s kubelet  node02 Started container        Events           Pod       default scheduler         node02           nodeSelector                            Pod        Pending       nodeSelector                   nodeSelector                                                nodeAffinity                       kubernetes                                 predicates   priorities                                       pod            nodeAffinity        podAffinity pod         podAntiAffinity pod                                                    pod                                                                                                                                    preferredDuringSchedulingIgnoredDuringExecution requiredDuringSchedulingIgnoredDuringExecution                                              nodeAffinity              pod                                                               Deployment    3  pod               pod           node affinity demo yaml  apiVersion  apps v1beta1 kind  Deployment metadata  name  affinity labels  app  affinity spec  replicas  3 revisionHistoryLimit  15 template  metadata  labels  app  affinity role  test spec  containers  name  nginx image  nginx 1 7 9 ports  containerPort  80 name  nginxweb affinity  nodeAffinity  requiredDuringSchedulingIgnoredDuringExecution        nodeSelectorTerms  matchExpressions  key  kubernetes io hostname operator  NotIn values  node03 preferredDuringSchedulingIgnoredDuringExecution        weight  1 preference  matchExpressions  key  com operator  values  youdianzhishi      pod            node03               com youdianzhishi                                 kubectl nodes   show labels NAME STATUS ROLES AGE VERSION LABELS master Ready master 154d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux kubernetes io hostname master node role kubernetes io master  node02 Ready 74d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux com youdianzhishi course k8s kubernetes io hostname node02 node03 Ready 134d v1 10 0 beta kubernetes io arch amd64 beta kubernetes io os linux jnlp haimaxy kubernetes io hostname node03      node02    com youdianzhishi    label                           pod     descirbe                        kubectl create  f node affinity demo yaml deployment apps  affinity  created   kubectl pods  l app affinity  o wide NAME READY STATUS RESTARTS AGE IP NODE affinity 7b4c946854 5gfln 1 1 Running 0 47s 10 244 4 214 node02 affinity 7b4c946854 l8b47 1 1 Running 0 47s 10 244 4 215 node02 affinity 7b4c946854 r86p5 1 1 Running 0 47s 10 244 4 213 node02         pod        node02           pod          label            Kubernetes              In label        ",
        "objectID": "post/重新理解亲和性调度",
        "date": "2018-10-18T00:00:00.000Z",
        "keywords": [
            "kubernetes",
            "affinity",
            "调度"
        ],
        "tags": [
            "kubernetes",
            "亲和性",
            "调度",
            "affinity",
            "nodeSelector",
            "污点",
            "容忍"
        ],
        "slug": "kubernetes-affinity-scheduler",
        "gitcomment": true,
        "notoc": true,
        "category": "kubernetes"
    },
    {
        "title": "集群内部服务发现之 DNS",
        "uri": "post/集群内部服务发现之DNS",
        "content": "Service           Service    ClusterIP VIP     Pod                                  VIP                 api        db            Deployment            Service            api       db            db        db     Service              VIP          Service              ClusterIP         Pod           VIP            apiserver         apiserver            service     Endpoints              apiserver                       apiserver    Service    Endpoints                                                             Kubernetes                                        Kubernetes               Pod                      IP   port       Pod                                                              Pod                                    Nginx     test nginx yaml  apiVersion  apps v1beta1 kind  Deployment metadata  name  nginx deploy labels  k8s app  nginx demo spec  replicas  2 template  metadata  labels  app  nginx spec  containers  name  nginx image  nginx 1 7 9 ports  containerPort  80 apiVersion  v1 kind  Service metadata  name  nginx service labels  name  nginx service spec  ports  port  5000 targetPort  80 selector  app  nginx            kubectl create  f test nginx yaml deployment apps  nginx deploy  created service  nginx service  created   kubectl pods NAME READY STATUS RESTARTS AGE     nginx deploy 75675f5897 47h4t 1 1 Running 0 53s nginx deploy 75675f5897 mmm8w 1 1 Running 0 53s       kubectl svc NAME TYPE CLUSTER IP EXTERNAL IP PORT S  AGE     nginx service ClusterIP 10 107 225 42 5000 TCP 1m              Pod       nginx service            Service        5000                  Pod          app  nginx       Pod                 Pod      Pod               nginx service        test pod yaml  apiVersion  v1 kind  Pod metadata  name  test pod spec  containers  name  test service pod image  busybox command     bin sh     c    env            Pod    kubectl create  f test pod yaml pod  test pod  created   Pod                   kubectl logs test pod     KUBERNETES_PORT tcp   10 96 0 1 443 KUBERNETESSERVICEPORT 443 HOSTNAME test pod HOME  root NGINXSERVICEPORT5000TCP_ADDR 10 107 225 42 NGINXSERVICEPORT5000TCP_PORT 5000 NGINXSERVICEPORT5000TCP_PROTO tcp KUBERNETESPORT443TCPADDR 10 96 0 1 PATH  usr local sbin  usr local bin  usr sbin  usr bin  sbin  bin NGINXSERVICESERVICE_HOST 10 107 225 42 NGINXSERVICEPORT5000TCP tcp   10 107 225 42 5000 KUBERNETESPORT443TCPPORT 443 KUBERNETESPORT443TCPPROTO tcp NGINXSERVICESERVICE_PORT 5000 NGINXSERVICEPORT tcp   10 107 225 42 5000 KUBERNETESSERVICEPORT_HTTPS 443 KUBERNETESPORT443_TCP tcp   10 96 0 1 443 KUBERNETESSERVICEHOST 10 96 0 1 PWD                                      nginx service        HOST PORT PROTO ADDR              Service                   Pod      nginx service                 NGINXSERVICESERVICEHOST   NGINXSERVICESERVICEPORT                  Pod           nginx service                                       initContainer         nginx service        Pod             Pod                    KubeDNS                                                              Service        Service                    ClusterIP                              Service          ClusterIP                        IP                                    DNS           Kubernetes    DNS                  kubedns    DNS                      addon              Kubernetes                                    Kubernetes                           kube dns   CoreDNS        kubeadm             kube dns                            CoreDNS                        kubeadm init   feature gates CoreDNS true Kubernetes DNS pod     3          kubectl         kubectl pods  n kube system NAME READY STATUS RESTARTS AGE     kube dns 5868f69869 zp5kz 3 3 Running 0 19d     READY         3 3               kube dns    3       kubectl describe pod kube dns 5868f69869 zp5kz  n kube system kube dns dnsmasq nanny sidecar  3              kubedns  kubedns    SkyDNS      apiserver    Service   Endpoints               Cache          Kubernetes     Service   Pod   DNS     dnsmasq  dsnmasq        DNS                     1G              DNS                        kubedns                    ConfigMap         sider  sidecar           DNS                    prometheus      Pod     DNS Pod      IP     Kubernetes            IP      kubelet        cluster dns         DNS         DNS                    cluster domain    kubelet        dnsmasq      ConfigMap                                 ConfigMap      DNS                           apiVersion  v1 kind  ConfigMap metadata  name  kube dns namespace  kube system data  stubDomains      acme local     1 2 3 4    upstreamNameservers      8 8 8 8    8 8 4 4            acme local    DNS        DNS 1 2 3 4 Google    DNS                                        DNS                                                                                                           kubernetes default svc cluster local   kube dns     foo acme local       DNS  1 2 3 4      widget com      DNS  8 8 8 8  8 8 4 4                    Pod    DNS        Kubernetes      Pod     DNS     Default     ClusterFirst       dnsPolicy                Default ",
        "objectID": "post/集群内部服务发现之DNS",
        "date": "2018-08-08T00:00:00.000Z",
        "tags": [
            "kubernetes",
            "kubends",
            "coredns",
            "service"
        ],
        "keywords": [
            "kubernetes",
            "kubends",
            "coredns",
            "service",
            "服务发现"
        ],
        "slug": "service-found-dns",
        "gitcomment": true,
        "bigimg": [
            {
                "src": "/img/posts/photo-1533630018502-93824e440009.jpeg",
                "desc": "lighthouse"
            }
        ],
        "category": "kubernetes"
    }
]